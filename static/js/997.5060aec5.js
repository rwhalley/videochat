(self.webpackChunk=self.webpackChunk||[]).push([[997],{5873:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M20.319 12.004c0-.272-.114-.536-.317-.73L14.228 5.5c-.229-.22-.466-.316-.712-.316-.562 0-.967.396-.967.932 0 .281.115.518.29.694l1.978 2.004 2.549 2.33-2.04-.124H4.675c-.589 0-.993.404-.993.984 0 .572.404.976.993.976h10.653l2.039-.123-2.55 2.329-1.977 2.004a.968.968 0 0 0-.29.694c0 .536.405.932.967.932a.99.99 0 0 0 .694-.299l5.792-5.792c.203-.193.317-.457.317-.72Z",fill:"currentColor"}))},1290:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M12.5 5a.625.625 0 0 0-.625.625v13.75a.625.625 0 0 0 1.25 0V5.625A.625.625 0 0 0 12.5 5ZM10 6.25a.625.625 0 0 0-.625.625v11.25a.625.625 0 1 0 1.25 0V6.875A.625.625 0 0 0 10 6.25ZM7.5 8.75a.625.625 0 0 0-.625.625v6.25a.625.625 0 1 0 1.25 0v-6.25A.625.625 0 0 0 7.5 8.75ZM5.625 11.25a.625.625 0 0 0-.625.625v1.25a.625.625 0 0 0 1.25 0v-1.25a.625.625 0 0 0-.625-.625ZM15 6.25a.625.625 0 0 0-.625.625v11.25a.625.625 0 1 0 1.25 0V6.875A.625.625 0 0 0 15 6.25ZM17.5 8.75a.625.625 0 0 0-.625.625v6.25a.624.624 0 1 0 1.25 0v-6.25a.625.625 0 0 0-.625-.625ZM19.375 11.25a.625.625 0 0 0-.625.625v1.25a.625.625 0 1 0 1.25 0v-1.25a.625.625 0 0 0-.625-.625Z",fill:"currentColor"}))},370:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 13.167v2.262a1.632 1.632 0 0 1-1.633 1.632h-6.64L7.985 19.87a.653.653 0 0 1-1.045-.522V17.06H5.633A1.633 1.633 0 0 1 4 15.43V5.633A1.633 1.633 0 0 1 5.633 4h5.2c-.18.416-.322.853-.42 1.306h-4.78a.327.327 0 0 0-.327.327v9.796a.327.327 0 0 0 .327.326h1.959c.36 0 .653.292.653.653v1.633l2.873-2.155a.653.653 0 0 1 .392-.13h6.857a.327.327 0 0 0 .327-.327v-1.843c.453-.097.89-.239 1.306-.42Z",fill:"currentColor"}),$.createElement("rect",{x:12,y:2,width:10,height:10,rx:5,fill:"#2F80FF"}))},7854:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M19.567 10.38c-.465 0-.8-.352-.8-.818v-.738l.176-3.067-2.311 2.434-2.707 2.725a.737.737 0 0 1-.554.229c-.5 0-.87-.326-.87-.818 0-.237.08-.448.237-.606l2.716-2.707 2.435-2.312-3.076.176h-.73c-.466 0-.826-.325-.826-.8 0-.474.351-.808.826-.808h4.878c.896 0 1.415.518 1.415 1.415v4.878a.798.798 0 0 1-.809.817Zm-9.641 9.66H5.048c-.897 0-1.424-.52-1.424-1.416v-4.878a.8.8 0 0 1 .817-.817c.457 0 .8.351.8.817v.738l-.184 3.068 2.32-2.435 2.698-2.724a.756.756 0 0 1 .563-.229c.492 0 .87.325.87.817a.843.843 0 0 1-.246.607l-2.707 2.707-2.444 2.311 3.077-.175h.738c.466 0 .826.325.826.8 0 .474-.36.808-.826.808Z",fill:"currentColor"}))},3712:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M6.193 14.89c.725 3.475 2.329 5.528 5.466 5.528 2.352 0 3.878-.956 4.927-2.876.748-1.195 1.272-2.837 1.704-4.255.23-.733.547-1.658.57-2.067.031-.462-.27-.793-.732-.824-.532-.039-.864.27-1.195.963l-1.08 2.32c-.1.232-.208.31-.331.31-.139 0-.24-.078-.24-.332l.356-8.144a.885.885 0 0 0-.894-.894.884.884 0 0 0-.887.894l-.355 5.923c-.2-.069-.416-.13-.64-.177l-.187-6.783a.885.885 0 0 0-.895-.894.884.884 0 0 0-.886.894l.187 6.698a9.593 9.593 0 0 0-.678.093l-.785-6.214a.882.882 0 0 0-.887-.887.884.884 0 0 0-.894.887l.72 6.72c-.232.107-.53.27-.731.401l-.908-4.716a.882.882 0 0 0-.886-.886.884.884 0 0 0-.895.886l1.056 7.432Z",fill:"#FAC919"}),$.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.725 15.197a1.495 1.495 0 0 1-.017-.096L3.652 7.67a1.5 1.5 0 0 1-.015-.21 2.383 2.383 0 0 1 2.7-2.368v-.038A2.383 2.383 0 0 1 8.73 2.666c.432 0 .836.114 1.184.312a2.373 2.373 0 0 1 1.866-.896c.895 0 1.67.483 2.08 1.204a2.39 2.39 0 0 1 .883-.167 2.385 2.385 0 0 1 2.393 2.46l-.155 3.555c.389-.191.814-.266 1.25-.235a2.29 2.29 0 0 1 1.566.748c.424.474.596 1.078.56 1.665-.025.406-.165.903-.267 1.247-.082.276-.18.582-.268.858l-.1.314c-.418 1.372-.986 3.185-1.842 4.57-.62 1.122-1.43 2.05-2.504 2.689-1.087.645-2.335.928-3.718.928-1.936 0-3.536-.652-4.735-1.938-1.148-1.23-1.81-2.916-2.2-4.783Zm11.86 2.345c.749-1.195 1.273-2.837 1.705-4.255l.11-.348c.21-.656.44-1.372.46-1.719.031-.462-.27-.793-.732-.824-.532-.039-.864.27-1.195.963l-1.08 2.32v.003c-.1.23-.208.306-.331.306-.139 0-.24-.077-.24-.331l.356-8.144a.885.885 0 0 0-.894-.894.882.882 0 0 0-.887.894l-.355 5.923c-.2-.069-.416-.13-.64-.177l-.187-6.783a.884.884 0 0 0-.894-.894.88.88 0 0 0-.887.894l.187 6.698a9.593 9.593 0 0 0-.678.093l-.785-6.214a.886.886 0 0 0-.224-.592.883.883 0 0 0-.663-.295.884.884 0 0 0-.894.887l.72 6.72c-.232.107-.53.27-.731.401l-.908-4.716a.882.882 0 0 0-.886-.886.884.884 0 0 0-.895.886l1.056 7.432c.725 3.475 2.329 5.528 5.466 5.528 2.352 0 3.878-.956 4.927-2.876Z",fill:"#212121"}))},4334:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M13.832 10.608 7.409 5.335A1.474 1.474 0 0 0 5 6.469v11.082a1.474 1.474 0 0 0 2.408 1.135l6.424-5.274a1.809 1.809 0 0 0 0-2.798v-.006ZM15.996 5H19v14.02h-3.004V5Z",fill:"currentColor"}))},8338:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M11.875 4a7.875 7.875 0 1 0 0 15.75 7.875 7.875 0 0 0 0-15.75ZM10.75 14.688a1.125 1.125 0 1 1-2.25 0V9.061a1.125 1.125 0 0 1 2.25 0v5.626Zm4.5 0a1.125 1.125 0 1 1-2.25 0V9.061a1.125 1.125 0 1 1 2.25 0v5.626Z",fill:"currentColor"}))},1182:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none"},N),$.createElement("path",{d:"M18.268 15.929h-7.893a2.72 2.72 0 0 1-2.732-2.72V7.744A2.744 2.744 0 0 1 10.375 5h7.893A2.744 2.744 0 0 1 21 7.744v5.465a2.72 2.72 0 0 1-2.732 2.72ZM10.375 6.82a.923.923 0 0 0-.91.923v5.465a.91.91 0 0 0 .91.898h7.893a.91.91 0 0 0 .91-.898V7.744a.923.923 0 0 0-.91-.923h-7.893Z",fill:"currentColor"}),$.createElement("path",{d:"M16.75 18.673a.91.91 0 0 1-.91.898H6.124A2.125 2.125 0 0 1 4 17.46v-7.286a.923.923 0 0 1 .91-.923.923.923 0 0 1 .911.923v7.286a.303.303 0 0 0 .304.291h9.714a.923.923 0 0 1 .911.923Z",fill:"currentColor"}))},4053:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M12 4.125a7.875 7.875 0 1 0 0 15.75 7.875 7.875 0 0 0 0-15.75Zm3.572 8.57-4.5 3.094a.84.84 0 0 1-.801.085.842.842 0 0 1-.521-.78V8.906a.844.844 0 0 1 1.322-.695l4.5 3.094a.845.845 0 0 1 0 1.39Z",fill:"currentColor"}))},6905:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M5.897 6.795h12.206a.897.897 0 0 0 0-1.795H5.897a.897.897 0 1 0 0 1.795ZM18.102 8.949H12a.898.898 0 0 0 0 1.795h6.102a.897.897 0 1 0 0-1.795ZM18.102 13.256H12a.898.898 0 0 0 0 1.795h6.102a.897.897 0 0 0 0-1.795ZM18.103 17.205H5.897a.897.897 0 1 0 0 1.795h12.206a.897.897 0 0 0 0-1.795ZM5.982 9.183a.718.718 0 0 0-.444.663v4.308a.718.718 0 0 0 1.227.508l2.154-2.154a.718.718 0 0 0 0-1.016L6.765 9.338a.718.718 0 0 0-.783-.155Z",fill:"currentColor"}))},4817:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"m10.168 13.392 6.423 5.273A1.473 1.473 0 0 0 19 17.531V6.449a1.474 1.474 0 0 0-2.408-1.135l-6.424 5.274a1.81 1.81 0 0 0 0 2.798v.006ZM8.004 19H5V4.98h3.004V19Z",fill:"currentColor"}))},9540:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M3 16.322c0-1.433.574-2.807 1.597-3.82a5.477 5.477 0 0 1 3.855-1.583 5.576 5.576 0 0 1 2.14.433M8.452 9.727c1.842 0 3.335-1.48 3.335-3.306 0-1.825-1.493-3.305-3.335-3.305-1.843 0-3.336 1.48-3.336 3.305 0 1.826 1.493 3.306 3.336 3.306ZM11.093 21.116a3.682 3.682 0 0 1-2.481-1.121 3.616 3.616 0 0 1-1.014-2.509c0-.934.363-1.832 1.014-2.508a3.681 3.681 0 0 1 2.48-1.121h6.413c.942.044 1.83.445 2.481 1.121A3.616 3.616 0 0 1 21 17.486c0 .934-.363 1.833-1.014 2.509a3.682 3.682 0 0 1-2.48 1.121h-6.413ZM13.063 16.314l2.423 2.4M15.486 16.314l-2.423 2.4",stroke:"currentColor",strokeWidth:1.211,strokeLinecap:"round",strokeLinejoin:"round"}))},6532:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{d:"M18.987 10.81H14.11c-.896 0-1.415-.527-1.415-1.423v-4.87c0-.456.343-.817.809-.817s.8.352.8.818v.738l-.185 3.067 2.32-2.434 2.699-2.725a.764.764 0 0 1 .562-.237c.501 0 .87.334.87.826a.858.858 0 0 1-.246.606l-2.707 2.707-2.434 2.312 3.067-.176h.738c.466 0 .827.325.827.8 0 .466-.352.808-.827.808Zm-8.428 8.921c-.466 0-.8-.342-.8-.817v-.835l.184-3.059-2.32 2.435-2.76 2.777a.75.75 0 0 1-.562.238c-.492 0-.862-.334-.862-.826a.85.85 0 0 1 .238-.607l2.768-2.768 2.444-2.312-3.076.176h-.835c-.466 0-.827-.325-.827-.791 0-.475.352-.809.827-.809h4.974c.897 0 1.415.519 1.415 1.415v4.966c0 .466-.334.817-.808.817Z",fill:"currentColor"}))},3055:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160),a=N=>$.createElement("svg",Object.assign({width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},N),$.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.4 4A2.4 2.4 0 0 0 4 6.4v2.4a.8.8 0 1 0 1.6 0V6.4a.8.8 0 0 1 .8-.8h11.2a.8.8 0 0 1 .8.8v2.4a.8.8 0 0 0 1.6 0V6.4A2.4 2.4 0 0 0 17.6 4H6.4Zm-.8 11.2a.8.8 0 0 0-1.6 0v2.4A2.4 2.4 0 0 0 6.4 20h11.2a2.4 2.4 0 0 0 2.4-2.4v-2.4a.8.8 0 0 0-1.6 0v2.4a.8.8 0 0 1-.8.8H6.4a.8.8 0 0 1-.8-.8v-2.4ZM7.324 12a9.061 9.061 0 0 0 1.119 1.448c.884.927 2.089 1.752 3.557 1.752s2.672-.825 3.557-1.752A9.08 9.08 0 0 0 16.677 12a9.067 9.067 0 0 0-1.119-1.448C14.671 9.625 13.467 8.8 12 8.8s-2.673.825-3.558 1.752A9.061 9.061 0 0 0 7.324 12ZM17.6 12l.713-.364L17.6 12Zm.713-.364-.002-.002-.002-.004-.006-.013-.023-.042a9.584 9.584 0 0 0-.386-.64 10.671 10.671 0 0 0-1.18-1.487C15.692 8.375 14.097 7.2 12 7.2c-2.096 0-3.691 1.175-4.715 2.248A10.656 10.656 0 0 0 5.8 11.43a6.756 6.756 0 0 0-.103.188l-.006.012-.003.004v.002s-.001.001.712.364l-.713-.363a.8.8 0 0 0 0 .726L6.4 12l-.713.363v.001l.001.002.003.004.006.012a3.92 3.92 0 0 0 .103.187 10.659 10.659 0 0 0 1.485 1.983C8.309 15.625 9.904 16.8 12 16.8c2.096 0 3.691-1.175 4.715-2.248A10.68 10.68 0 0 0 18.2 12.57a6.785 6.785 0 0 0 .103-.188l.006-.012.002-.004.001-.002L17.6 12l.713.363a.801.801 0 0 0 0-.727Zm-7.444-.767a1.6 1.6 0 1 1 2.263 2.262 1.6 1.6 0 0 1-2.263-2.262Z",fill:"currentColor"}))},4866:(Fe,J,B)=>{"use strict";B.d(J,{T:()=>w});var $=B(1931),a=B(8160),N=B(8081),ne=B(9067),j=B(6395);const q=(H,he,te)=>(0,$.m)(void 0,void 0,void 0,function*(){if(he)try{yield H.setRemoteTrackEnabled(he.id,!he.enabled)}catch(le){te(le,"remoteToggle")}}),w=(H,he,te=j.r)=>{const le=(0,ne.cw)(),K=(0,ne._U)((0,N.VW)(H)),T=(0,ne._U)((0,N.GP)(he)),O=(0,ne._U)((0,N.BF)(K?.id)),G=(0,ne._U)(N.AI),X=T?.enabled?G?.mute:G?.unmute,Ee=K?.enabled?G?.mute:G?.unmute,me=(0,a.useCallback)(()=>(0,$.m)(void 0,void 0,void 0,function*(){yield q(le,K,te)}),[le,K,te]),ve=(0,a.useCallback)(()=>(0,$.m)(void 0,void 0,void 0,function*(){yield q(le,T,te)}),[le,te,T]),Ae=(0,a.useCallback)(ee=>{K&&le.setVolume(ee,K.id)},[le,K]);return{isAudioEnabled:!!K?.enabled,isVideoEnabled:!!T?.enabled,volume:O,toggleAudio:K&&Ee?me:void 0,toggleVideo:T?.source==="regular"&&X?ve:void 0,setVolume:K?Ae:void 0}}},871:(Fe,J,B)=>{"use strict";B.d(J,{i:()=>Yo});var $=B(8160),a=B(9004),N=function(V,Q){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(re,Y){re.__proto__=Y}||function(re,Y){for(var ae in Y)Object.prototype.hasOwnProperty.call(Y,ae)&&(re[ae]=Y[ae])},N(V,Q)};function ne(V,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");N(V,Q);function re(){this.constructor=V}V.prototype=Q===null?Object.create(Q):(re.prototype=Q.prototype,new re)}var j=function(){return j=Object.assign||function(Q){for(var re,Y=1,ae=arguments.length;Y<ae;Y++){re=arguments[Y];for(var ue in re)Object.prototype.hasOwnProperty.call(re,ue)&&(Q[ue]=re[ue])}return Q},j.apply(this,arguments)};function q(V,Q){var re={};for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&Q.indexOf(Y)<0&&(re[Y]=V[Y]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ae=0,Y=Object.getOwnPropertySymbols(V);ae<Y.length;ae++)Q.indexOf(Y[ae])<0&&Object.prototype.propertyIsEnumerable.call(V,Y[ae])&&(re[Y[ae]]=V[Y[ae]]);return re}var w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof B.g<"u"?B.g:typeof self<"u"?self:{};function H(V){var Q=typeof V;return V!=null&&(Q=="object"||Q=="function")}var he=H,te=typeof w=="object"&&w&&w.Object===Object&&w,le=te,K=le,T=typeof self=="object"&&self&&self.Object===Object&&self,O=K||T||Function("return this")(),G=O,X=G,Ee=function(){return X.Date.now()},me=Ee,ve=/\s/;function Ae(V){for(var Q=V.length;Q--&&ve.test(V.charAt(Q)););return Q}var ee=Ae,Se=ee,we=/^\s+/;function Pe(V){return V&&V.slice(0,Se(V)+1).replace(we,"")}var $e=Pe,It=G,A1=It.Symbol,g1=A1,K1=g1,a1=Object.prototype,yr=a1.hasOwnProperty,xr=a1.toString,l1=K1?K1.toStringTag:void 0;function L1(V){var Q=yr.call(V,l1),re=V[l1];try{V[l1]=void 0;var Y=!0}catch{}var ae=xr.call(V);return Y&&(Q?V[l1]=re:delete V[l1]),ae}var G1=L1,Lr=Object.prototype,Sr=Lr.toString;function lr(V){return Sr.call(V)}var Rr=lr,T1=g1,m1=G1,Ir=Rr,sr="[object Null]",yt="[object Undefined]",Mt=T1?T1.toStringTag:void 0;function Mr(V){return V==null?V===void 0?yt:sr:Mt&&Mt in Object(V)?m1(V):Ir(V)}var S1=Mr;function e1(V){return V!=null&&typeof V=="object"}var ur=e1,X1=S1,O1=ur,je="[object Symbol]";function Ge(V){return typeof V=="symbol"||O1(V)&&X1(V)==je}var Ue=Ge,qe=$e,Ht=he,Et=Ue,gt=0/0,t1=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,Ut=/^0o[0-7]+$/i,Vt=parseInt;function wt(V){if(typeof V=="number")return V;if(Et(V))return gt;if(Ht(V)){var Q=typeof V.valueOf=="function"?V.valueOf():V;V=Ht(Q)?Q+"":Q}if(typeof V!="string")return V===0?V:+V;V=qe(V);var re=Wt.test(V);return re||Ut.test(V)?Vt(V.slice(2),re?2:8):t1.test(V)?gt:+V}var Ne=wt,$t=he,s1=me,R1=Ne,cr="Expected a function",C1=Math.max,Y1=Math.min;function I1(V,Q,re){var Y,ae,ue,xe,pe,Re,De=0,Me=!1,He=!1,Le=!0;if(typeof V!="function")throw new TypeError(cr);Q=R1(Q)||0,$t(re)&&(Me=!!re.leading,He="maxWait"in re,ue=He?C1(R1(re.maxWait)||0,Q):ue,Le="trailing"in re?!!re.trailing:Le);function at(ct){var Yt=Y,r1=ae;return Y=ae=void 0,De=ct,xe=V.apply(r1,Yt),xe}function lt(ct){return De=ct,pe=setTimeout(xt,Q),Me?at(ct):xe}function Dt(ct){var Yt=ct-Re,r1=ct-De,dr=Q-Yt;return He?Y1(dr,ue-r1):dr}function bt(ct){var Yt=ct-Re,r1=ct-De;return Re===void 0||Yt>=Q||Yt<0||He&&r1>=ue}function xt(){var ct=s1();if(bt(ct))return ft(ct);pe=setTimeout(xt,Dt(ct))}function ft(ct){return pe=void 0,Le&&Y?at(ct):(Y=ae=void 0,xe)}function Lt(){pe!==void 0&&clearTimeout(pe),De=0,Y=Re=ae=pe=void 0}function kt(){return pe===void 0?xe:ft(s1())}function v1(){var ct=s1(),Yt=bt(ct);if(Y=arguments,ae=this,Re=ct,Yt){if(pe===void 0)return lt(Re);if(He)return clearTimeout(pe),pe=setTimeout(xt,Q),at(Re)}return pe===void 0&&(pe=setTimeout(xt,Q)),xe}return v1.cancel=Lt,v1.flush=kt,v1}var ho=I1,Vo=ho,Ur=he,Kr="Expected a function";function Zo(V,Q,re){var Y=!0,ae=!0;if(typeof V!="function")throw new TypeError(Kr);return Ur(re)&&(Y="leading"in re?!!re.leading:Y,ae="trailing"in re?!!re.trailing:ae),Vo(V,Q,{leading:Y,maxWait:Q,trailing:ae})}var zo=Zo,fo=function(V,Q,re,Y){switch(Q){case"debounce":return ho(V,re,Y);case"throttle":return zo(V,re,Y);default:return V}},Gr=function(V){return typeof V=="function"},M1=function(){return typeof window>"u"},Dr=function(V){return V instanceof Element||V instanceof HTMLDocument},po=function(V,Q,re,Y){return function(ae){var ue=ae.width,xe=ae.height;Q(function(pe){return pe.width===ue&&pe.height===xe||pe.width===ue&&!Y||pe.height===xe&&!re?pe:(V&&Gr(V)&&V(ue,xe),{width:ue,height:xe})})}},u1=function(V){ne(Q,V);function Q(re){var Y=V.call(this,re)||this;Y.cancelHandler=function(){Y.resizeHandler&&Y.resizeHandler.cancel&&(Y.resizeHandler.cancel(),Y.resizeHandler=null)},Y.attachObserver=function(){var De=Y.props,Me=De.targetRef,He=De.observerOptions;if(!M1()){Me&&Me.current&&(Y.targetRef.current=Me.current);var Le=Y.getElement();!Le||Y.observableElement&&Y.observableElement===Le||(Y.observableElement=Le,Y.resizeObserver.observe(Le,He))}},Y.getElement=function(){var De=Y.props,Me=De.querySelector,He=De.targetDomEl;if(M1())return null;if(Me)return document.querySelector(Me);if(He&&Dr(He))return He;if(Y.targetRef&&Dr(Y.targetRef.current))return Y.targetRef.current;var Le=(0,a.findDOMNode)(Y);if(!Le)return null;var at=Y.getRenderType();switch(at){case"renderProp":return Le;case"childFunction":return Le;case"child":return Le;case"childArray":return Le;default:return Le.parentElement}},Y.createResizeHandler=function(De){var Me=Y.props,He=Me.handleWidth,Le=He===void 0?!0:He,at=Me.handleHeight,lt=at===void 0?!0:at,Dt=Me.onResize;if(!(!Le&&!lt)){var bt=po(Dt,Y.setState.bind(Y),Le,lt);De.forEach(function(xt){var ft=xt&&xt.contentRect||{},Lt=ft.width,kt=ft.height,v1=!Y.skipOnMount&&!M1();v1&&bt({width:Lt,height:kt}),Y.skipOnMount=!1})}},Y.getRenderType=function(){var De=Y.props,Me=De.render,He=De.children;return Gr(Me)?"renderProp":Gr(He)?"childFunction":(0,$.isValidElement)(He)?"child":Array.isArray(He)?"childArray":"parent"};var ae=re.skipOnMount,ue=re.refreshMode,xe=re.refreshRate,pe=xe===void 0?1e3:xe,Re=re.refreshOptions;return Y.state={width:void 0,height:void 0},Y.skipOnMount=ae,Y.targetRef=(0,$.createRef)(),Y.observableElement=null,M1()||(Y.resizeHandler=fo(Y.createResizeHandler,ue,pe,Re),Y.resizeObserver=new window.ResizeObserver(Y.resizeHandler)),Y}return Q.prototype.componentDidMount=function(){this.attachObserver()},Q.prototype.componentDidUpdate=function(){this.attachObserver()},Q.prototype.componentWillUnmount=function(){M1()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},Q.prototype.render=function(){var re=this.props,Y=re.render,ae=re.children,ue=re.nodeType,xe=ue===void 0?"div":ue,pe=this.state,Re=pe.width,De=pe.height,Me={width:Re,height:De,targetRef:this.targetRef},He=this.getRenderType(),Le;switch(He){case"renderProp":return Y&&Y(Me);case"childFunction":return Le=ae,Le(Me);case"child":if(Le=ae,Le.type&&typeof Le.type=="string"){Me.targetRef;var at=q(Me,["targetRef"]);return(0,$.cloneElement)(Le,at)}return(0,$.cloneElement)(Le,Me);case"childArray":return Le=ae,Le.map(function(lt){return!!lt&&(0,$.cloneElement)(lt,Me)});default:return $.createElement(xe,null)}},Q}($.PureComponent);function go(V,Q){Q===void 0&&(Q={});var re=function(ue){ne(xe,ue);function xe(){var pe=ue!==null&&ue.apply(this,arguments)||this;return pe.ref=createRef(),pe}return xe.prototype.render=function(){var pe=this.props,Re=pe.forwardedRef,De=q(pe,["forwardedRef"]),Me=Re??this.ref;return React.createElement(u1,j({},Q,{targetRef:Me}),React.createElement(V,j({targetRef:Me},De)))},xe}(Component);function Y(ue,xe){return React.createElement(re,j({},ue,{forwardedRef:xe}))}var ae=V.displayName||V.name;return Y.displayName="withResizeDetector(".concat(ae,")"),forwardRef(Y)}var No=M1()?$.useEffect:$.useLayoutEffect;function Wo(V){V===void 0&&(V={});var Q=V.skipOnMount,re=Q===void 0?!1:Q,Y=V.refreshMode,ae=V.refreshRate,ue=ae===void 0?1e3:ae,xe=V.refreshOptions,pe=V.handleWidth,Re=pe===void 0?!0:pe,De=V.handleHeight,Me=De===void 0?!0:De,He=V.targetRef,Le=V.observerOptions,at=V.onResize,lt=(0,$.useRef)(re),Dt=(0,$.useRef)(null),bt=He??Dt,xt=(0,$.useRef)(),ft=(0,$.useState)({width:void 0,height:void 0}),Lt=ft[0],kt=ft[1];return No(function(){if(!M1()){var v1=po(at,kt,Re,Me),ct=function(r1){!Re&&!Me||r1.forEach(function(dr){var bo=dr&&dr.contentRect||{},_o=bo.width,yo=bo.height,qo=!lt.current&&!M1();qo&&v1({width:_o,height:yo}),lt.current=!1})};xt.current=fo(ct,Y,ue,xe);var Yt=new window.ResizeObserver(xt.current);return bt.current&&Yt.observe(bt.current,Le),function(){Yt.disconnect();var r1=xt.current;r1&&r1.cancel&&r1.cancel()}}},[Y,ue,xe,Re,Me,at,Le,bt.current]),j({ref:bt},Lt)}var Uo=B(8081),q1=B(9067);const Ko=(V,Q,re)=>V.reduce((Y,ae,ue)=>{const xe=Math.floor(ue/Q);return xe>0&&re||(Y[xe]||(Y[xe]=[]),Y[xe].push(ae)),Y},[]),mo=({elements:V,tilesInFirstPage:Q,onlyOnePage:re,isLastPageDifferentFromFirstPage:Y,defaultWidth:ae,defaultHeight:ue,lastPageWidth:xe,lastPageHeight:pe})=>{const Re=Ko(V,Q,re);return Re.map((De,Me)=>De.map(He=>{const Le=Me===Re.length-1,at=Y&&Le?xe:ae,lt=Y&&Le?pe:ue;return Object.assign(Object.assign({},He),{height:lt,width:at})}))};function Co(V){if(V.length===0)return null;const Q={};let re=V[0],Y=1;for(let ae=0;ae<V.length;ae++){const ue=V[ae];Q[ue]===null?Q[ue]=1:Q[ue]++,Q[ue]>Y&&(re=ue,Y=Q[ue])}return re}const vo=V=>Co(V.filter(Q=>{var re,Y;return((re=Q.track)===null||re===void 0?void 0:re.width)&&((Y=Q.track)===null||Y===void 0?void 0:Y.height)}).map(Q=>{var re,Y;return(((re=Q.track)===null||re===void 0?void 0:re.width)||1)/(((Y=Q.track)===null||Y===void 0?void 0:Y.height)||1)})),kr=(V,Q,re,Y,ae)=>{if(V<0||Q<0)throw new Error("Container must have a non-negative area");if(re<1||!Number.isInteger(re))throw new Error("Number of shapes to place must be a positive integer");const ue=Y&&ae&&Y/ae;if(ue!==void 0&&isNaN(ue))throw new Error("Aspect ratio must be a number");let xe={area:0,cols:0,rows:0,width:0,height:0};if(ue!==void 0)for(let pe=re;pe>0;pe+=-1){const Re=Math.ceil(re/pe);let De,Me;V/(pe*ue)<=Q/Re?(De=V/pe,Me=De/ue):(Me=Q/Re,De=Me*ue);const He=De*Me;He>xe.area&&(xe={area:He,width:De,height:Me,rows:Re,cols:pe})}return xe},Go=({parentWidth:V,parentHeight:Q,count:re,maxCount:Y,aspectRatio:ae})=>{let ue=0,xe=0,pe=0,Re=0,De=!1,Me=0,He=0;const Le=Math.min(Math.ceil(Math.sqrt(re*(V/Q)/(ae.width/ae.height))),Y);let at=V/Le,lt=at/(ae.width/ae.height);lt>Q&&(lt=Q,at=lt/(ae.height/ae.width));const Dt=Math.floor(Q/lt);if(xe=lt,ue=at,Me=Math.min(re,Dt*Le),He=re%(Dt*Le),De=He>0&&re>Dt*Le,De){let bt=V/Math.min(Math.ceil(Math.sqrt(He*(V/Q)/(ae.width/ae.height))),Y),xt=bt/(ae.width/ae.height);xt>Q&&(xt=Q,bt=xt/(ae.height/ae.width)),Re=xt,pe=bt}return{tilesInFirstPage:Me,defaultWidth:ue,defaultHeight:xe,lastPageWidth:pe,lastPageHeight:Re,isLastPageDifferentFromFirstPage:De}},Xo=({parentWidth:V,parentHeight:Q,count:re,maxCount:Y,aspectRatio:ae})=>{let ue=0,xe=0,pe=0,Re=0,De=!1,Me=0,He=0;const{width:Le,height:at}=kr(V,Q,Math.min(re,Y),ae.width,ae.height);if(ue=Le,xe=at,Me=Math.min(re,Y),He=re%Y,De=He>0&&re>Y,De){const{width:lt,height:Dt}=kr(V,Q,He,ae.width,ae.height);pe=lt,Re=Dt}return{tilesInFirstPage:Me,defaultWidth:ue,defaultHeight:xe,lastPageWidth:pe,lastPageHeight:Re,isLastPageDifferentFromFirstPage:De}},Pr=({parentWidth:V,parentHeight:Q,count:re,maxCount:Y,aspectRatio:ae})=>{let ue=0,xe=0,pe=0,Re=0,De=!1,Me=0,He=0;const Le=Math.min(Math.ceil(Math.sqrt(re*(ae.width/ae.height)/(V/Q))),Y),at=Q/Le,lt=at*(ae.width/ae.height),Dt=Math.floor(V/lt);if(ue=lt,xe=at,Me=Math.min(re,Le*Dt),He=re%(Le*Dt),De=He>0&&re>Le*Dt,De){const bt=Q/Math.min(Math.ceil(Math.sqrt(He*(ae.width/ae.height)/(V/Q))),Y);Re=bt,pe=bt*(ae.width/ae.height)}return{tilesInFirstPage:Me,defaultWidth:ue,defaultHeight:xe,lastPageWidth:pe,lastPageHeight:Re,isLastPageDifferentFromFirstPage:De}};function $r({count:V,parentWidth:Q,parentHeight:re,maxTileCount:Y,maxRowCount:ae,maxColCount:ue,aspectRatio:xe}){let pe=0,Re=0,De=0,Me=0,He=!1,Le=0;if(V===0)return{tilesInFirstPage:Le,defaultWidth:pe,defaultHeight:Re,lastPageWidth:De,lastPageHeight:Me,isLastPageDifferentFromFirstPage:He};if(Y)({tilesInFirstPage:Le,defaultWidth:pe,defaultHeight:Re,lastPageWidth:De,lastPageHeight:Me,isLastPageDifferentFromFirstPage:He}=Xo({parentWidth:Q,parentHeight:re,count:V,maxCount:Y,aspectRatio:xe}));else if(ae)({tilesInFirstPage:Le,defaultWidth:pe,defaultHeight:Re,lastPageWidth:De,lastPageHeight:Me,isLastPageDifferentFromFirstPage:He}=Pr({parentWidth:Q,parentHeight:re,count:V,maxCount:ae,aspectRatio:xe}));else if(ue)({tilesInFirstPage:Le,defaultWidth:pe,defaultHeight:Re,lastPageWidth:De,lastPageHeight:Me,isLastPageDifferentFromFirstPage:He}=Go({parentWidth:Q,parentHeight:re,count:V,maxCount:ue,aspectRatio:xe}));else{const{width:at,height:lt}=kr(Q,re,V,xe.width,xe.height);pe=at,Re=lt,Le=V}return{tilesInFirstPage:Le,defaultWidth:pe,defaultHeight:Re,lastPageWidth:De,lastPageHeight:Me,isLastPageDifferentFromFirstPage:He}}const Eo=(V,Q,re,Y=!0)=>{if(!V||!Q||!re)return[];const ae=[];for(const ue of V)if(ue.videoTrack===void 0&&ue.audioTrack&&Q[ue.audioTrack]?ae.push({peer:ue}):ue.videoTrack&&Q[ue.videoTrack]?ae.push({track:Q[ue.videoTrack],peer:ue}):Y||ae.push({peer:ue}),ue.auxiliaryTracks.length>0&&ue.auxiliaryTracks.forEach(xe=>{const pe=Q[xe];pe?.type==="video"&&pe?.source==="regular"&&ae.push({track:pe,peer:ue})}),re(ue)&&ue.auxiliaryTracks.length>0){const xe=ue.auxiliaryTracks.find(pe=>{const Re=Q[pe];return Re?.type==="video"&&Re?.source==="screen"});xe&&ae.push({track:Q[xe],peer:ue})}return ae},wo={width:1,height:1},Yo=({peers:V,maxTileCount:Q,maxColCount:re,maxRowCount:Y,includeScreenShareForPeer:ae=()=>!1,aspectRatio:ue=wo,filterNonPublishingPeers:xe=!0,offsetY:pe=0})=>{const{width:Re=0,height:De=0,ref:Me}=Wo(),He=(0,q1.gg)().getState(Uo.zK),Le=Eo(V,He,ae,xe),at=(0,$.useMemo)(()=>ue||{width:vo(Le)||1,height:1},[ue,Le]),lt=Le.length,{tilesInFirstPage:Dt,defaultWidth:bt,defaultHeight:xt,lastPageWidth:ft,lastPageHeight:Lt,isLastPageDifferentFromFirstPage:kt}=(0,$.useMemo)(()=>$r({count:lt,parentWidth:Math.floor(Re),parentHeight:Math.floor(De)-Math.min(De,pe),maxTileCount:Q,maxRowCount:Y,maxColCount:re,aspectRatio:at}),[lt,Re,De,Q,Y,re,at,pe]);return{pagesWithTiles:(0,$.useMemo)(()=>mo({elements:Le,tilesInFirstPage:Dt,onlyOnePage:!1,isLastPageDifferentFromFirstPage:kt,defaultWidth:bt,defaultHeight:xt,lastPageWidth:ft,lastPageHeight:Lt}),[Le,Dt,kt,bt,xt,ft,Lt]),ref:Me}}},1554:(Fe,J,B)=>{"use strict";B.d(J,{$:()=>N});var $=B(8485),a=B(9290);const N={Root:(0,a.zo)($.k,{justifyContent:"space-between",alignItems:"center",py:"$2",position:"relative",height:"100%","@md":{flexWrap:"wrap",gap:"$4"}}),Left:(0,a.zo)($.k,{alignItems:"center",position:"absolute",left:"$10",gap:"$8","@md":{position:"unset",justifyContent:"center",w:"100%",p:"$4 0"}}),Center:(0,a.zo)($.k,{w:"100%",justifyContent:"center",alignItems:"center",gap:"$8"}),Right:(0,a.zo)($.k,{alignItems:"center",position:"absolute",right:"$10",gap:"$8","@md":{display:"none"}})}},4674:(Fe,J,B)=>{"use strict";B.d(J,{I:()=>a});var $=B(9290);const a={Root:(0,$.zo)("div",{height:"2rem",display:"flex",justifyContent:"center",alignItems:"center",width:"100%","& > * + *":{marginRight:"0",marginLeft:"0.5rem"}}),Chevron:(0,$.zo)("button",{color:"$textPrimary","&:focus":{outline:"none"},"&[disabled]":{color:"$grayDefault",cursor:"not-allowed"},display:"flex"}),Dots:(0,$.zo)("div",{display:"flex",alignItems:"center","& > * + *":{marginRight:"0",marginLeft:"0.5rem"}}),Dot:(0,$.zo)("button",{"&:focus":{outline:"none"},borderRadius:"9999px",width:"0.5rem",height:"0.5rem",backgroundColor:"$textDisabled",padding:"0px",border:"none",cursor:"pointer",variants:{active:{true:{backgroundColor:"$textPrimary"}}}})}},8673:(Fe,J,B)=>{"use strict";B.d(J,{E:()=>O1});var $=B(8886),a=B(8160),N=B(9600),ne=B(8224),j=B(4135),q=B(8841),w=B(3118),H=B(1802),he=B(440),te=B(6246),le=B(5939),K=B(5859),T=B(1855),O=Object.defineProperty,G=Object.defineProperties,X=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,Ae=(je,Ge,Ue)=>Ge in je?O(je,Ge,{enumerable:!0,configurable:!0,writable:!0,value:Ue}):je[Ge]=Ue,ee=(je,Ge)=>{for(var Ue in Ge||(Ge={}))me.call(Ge,Ue)&&Ae(je,Ue,Ge[Ue]);if(Ee)for(var Ue of Ee(Ge))ve.call(Ge,Ue)&&Ae(je,Ue,Ge[Ue]);return je},Se=(je,Ge)=>G(je,X(Ge)),we=(je,Ge)=>{var Ue={};for(var qe in je)me.call(je,qe)&&Ge.indexOf(qe)<0&&(Ue[qe]=je[qe]);if(je!=null&&Ee)for(var qe of Ee(je))Ge.indexOf(qe)<0&&ve.call(je,qe)&&(Ue[qe]=je[qe]);return Ue};const Pe="Radio",[$e,It]=(0,q.b)(Pe),[A1,g1]=$e(Pe),K1=(0,a.forwardRef)((je,Ge)=>{const Ue=je,{__scopeRadio:qe,"aria-labelledby":Ht,name:Et,checked:gt=!1,required:t1,disabled:Wt,value:Ut="on",onCheck:Vt}=Ue,wt=we(Ue,["__scopeRadio","aria-labelledby","name","checked","required","disabled","value","onCheck"]),[Ne,$t]=(0,a.useState)(null),s1=(0,j.e)(Ge,I1=>$t(I1)),R1=(0,ne.t0)(Ne),cr=Ht||R1,C1=(0,a.useRef)(!1),Y1=Ne?Boolean(Ne.closest("form")):!0;return(0,a.createElement)(A1,{scope:qe,checked:gt,disabled:Wt},(0,a.createElement)(w.WV.button,(0,$.Z)({type:"button",role:"radio","aria-checked":gt,"aria-labelledby":cr,"data-state":l1(gt),"data-disabled":Wt?"":void 0,disabled:Wt,value:Ut},wt,{ref:s1,onClick:(0,N.M)(je.onClick,I1=>{gt||Vt?.(),Y1&&(C1.current=I1.isPropagationStopped(),C1.current||I1.stopPropagation())})})),Y1&&(0,a.createElement)(xr,{control:Ne,bubbles:!C1.current,name:Et,value:Ut,checked:gt,required:t1,disabled:Wt,style:{transform:"translateX(-100%)"}}))}),a1="RadioIndicator",yr=(0,a.forwardRef)((je,Ge)=>{const Ue=je,{__scopeRadio:qe,forceMount:Ht}=Ue,Et=we(Ue,["__scopeRadio","forceMount"]),gt=g1(a1,qe);return(0,a.createElement)(T.z,{present:Ht||gt.checked},(0,a.createElement)(w.WV.span,(0,$.Z)({"data-state":l1(gt.checked),"data-disabled":gt.disabled?"":void 0},Et,{ref:Ge})))}),xr=je=>{const Ge=je,{control:Ue,checked:qe,bubbles:Ht=!0}=Ge,Et=we(Ge,["control","checked","bubbles"]),gt=(0,a.useRef)(null),t1=(0,K.D)(qe),Wt=(0,le.t)(Ue);return(0,a.useEffect)(()=>{const Ut=gt.current,Vt=window.HTMLInputElement.prototype,Ne=Object.getOwnPropertyDescriptor(Vt,"checked").set;if(t1!==qe&&Ne){const $t=new Event("click",{bubbles:Ht});Ne.call(Ut,qe),Ut.dispatchEvent($t)}},[t1,qe,Ht]),(0,a.createElement)("input",(0,$.Z)({type:"radio","aria-hidden":!0,defaultChecked:qe},Et,{tabIndex:-1,ref:gt,style:Se(ee(ee({},je.style),Wt),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))};function l1(je){return je?"checked":"unchecked"}const L1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G1="RadioGroup",[Lr,Sr]=(0,q.b)(G1,[H.Pc,It]),lr=(0,H.Pc)(),Rr=It(),[T1,m1]=Lr(G1),Ir=(0,a.forwardRef)((je,Ge)=>{const Ue=je,{__scopeRadioGroup:qe,name:Ht,"aria-labelledby":Et,defaultValue:gt,value:t1,required:Wt=!1,orientation:Ut,dir:Vt,loop:wt=!0,onValueChange:Ne}=Ue,$t=we(Ue,["__scopeRadioGroup","name","aria-labelledby","defaultValue","value","required","orientation","dir","loop","onValueChange"]),s1=(0,ne.t0)(),R1=Et||s1,cr=lr(qe),C1=(0,te.gm)(Vt),[Y1,I1]=(0,he.T)({prop:t1,defaultProp:gt,onChange:Ne});return(0,a.createElement)(T1,{scope:qe,name:Ht,required:Wt,value:Y1,onValueChange:I1},(0,a.createElement)(H.fC,(0,$.Z)({asChild:!0},cr,{orientation:Ut,dir:C1,loop:wt}),(0,a.createElement)(w.WV.div,(0,$.Z)({role:"radiogroup","aria-required":Wt,"aria-orientation":Ut,"aria-labelledby":R1,dir:C1},$t,{ref:Ge}))))}),sr="RadioGroupItem",yt=(0,a.forwardRef)((je,Ge)=>{const Ue=je,{__scopeRadioGroup:qe,disabled:Ht}=Ue,Et=we(Ue,["__scopeRadioGroup","disabled"]),gt=m1(sr,qe),t1=lr(qe),Wt=Rr(qe),Ut=(0,a.useRef)(null),Vt=(0,j.e)(Ge,Ut),wt=gt.value===Et.value,Ne=(0,a.useRef)(!1);return(0,a.useEffect)(()=>{const $t=R1=>{L1.includes(R1.key)&&(Ne.current=!0)},s1=()=>Ne.current=!1;return document.addEventListener("keydown",$t),document.addEventListener("keyup",s1),()=>{document.removeEventListener("keydown",$t),document.removeEventListener("keyup",s1)}},[]),(0,a.createElement)(H.ck,(0,$.Z)({asChild:!0},t1,{focusable:!Ht,active:wt}),(0,a.createElement)(K1,(0,$.Z)({disabled:Ht,required:gt.required,checked:wt},Wt,Et,{name:gt.name,ref:Vt,onCheck:()=>gt.onValueChange(Et.value),onKeyDown:(0,N.M)($t=>{$t.key==="Enter"&&$t.preventDefault()}),onFocus:(0,N.M)(Et.onFocus,()=>{var $t;Ne.current&&(($t=Ut.current)===null||$t===void 0||$t.click())})})))}),Mt="RadioGroupIndicator",Mr=(0,a.forwardRef)((je,Ge)=>{const Ue=je,{__scopeRadioGroup:qe}=Ue,Ht=we(Ue,["__scopeRadioGroup"]),Et=Rr(qe);return(0,a.createElement)(yr,(0,$.Z)({},Et,Ht,{ref:Ge}))}),S1=Ir,e1=yt,ur=Mr;var X1=B(9290);const O1={Root:(0,X1.zo)(S1,{display:"flex",alignItems:"center"}),Item:(0,X1.zo)(e1,{bg:"$white",width:"$8",height:"$8",border:"1px solid $brandDefault",cursor:"pointer",borderRadius:"$round","&:focus":{boxShadow:"none",outline:"none"},'&[data-state="checked"]':{borderWidth:"$space$2",p:"$1"}}),Indicator:(0,X1.zo)(ur,{bg:"$brandDefault"})}},4299:(Fe,J,B)=>{"use strict";B.d(J,{q8:()=>K});var $=B(8160),a=B(9067),N=B(8081);const ne=(me,ve="B",Ae=2)=>{if(me===0)return`0 ${ve}`;if(!me)return"-";const ee=Ae<0?0:Ae,Se=["","K","M","G","T","P","E","Z","Y"].map(Pe=>Pe+ve);let we=Math.floor(Math.log(me)/Math.log(1024));return we===0&&we++,`${parseFloat((me/Math.pow(1024,we)).toFixed(ee))} ${Se[we]}`};var j=B(9290);const q=(0,j.zo)("div",{backgroundColor:"$statsBg",position:"absolute",top:"0.3rem",left:"0.3rem",zIndex:10,borderRadius:"$2",padding:"5px",fontSize:"$xs",overflowY:"auto",maxHeight:"75%",maxWidth:"85%"}),w=(0,j.zo)("table",{}),H=(0,j.zo)("tr",{width:"100%","& > * + *":{paddingLeft:"0.5rem"},whiteSpace:"nowrap",textAlign:"left"}),he=(0,j.zo)("td",{color:"$textPrimary",fontWeight:400}),te=(0,j.zo)("td",{color:"$textPrimary"}),le={Root:q,Row:H,Label:he,Value:te,Table:w};function K({videoTrackID:me,audioTrackID:ve,peerID:Ae}){var ee,Se,we;const Pe=(0,a.p5)(N.fA.trackStatsByID(ve)),$e=(0,a.p5)(N.fA.trackStatsByID(me)),It=(ee=(0,a._U)((0,N.hE)(Ae)))===null||ee===void 0?void 0:ee.downlinkQuality;return Pe||$e?$.createElement(le.Root,null,$.createElement("table",null,$.createElement("tbody",null,$.createElement(G,{show:X($e?.frameWidth),label:"Width",value:(Se=$e?.frameWidth)===null||Se===void 0?void 0:Se.toString()}),$.createElement(G,{show:X($e?.frameHeight),label:"Height",value:(we=$e?.frameHeight)===null||we===void 0?void 0:we.toString()}),$.createElement(G,{show:X($e?.framesPerSecond),label:"FPS",value:`${$e?.framesPerSecond} ${X($e?.framesDropped)?`(${$e?.framesDropped} dropped)`:""}`}),$.createElement(G,{show:Ee($e?.bitrate),label:"Bitrate(V)",value:ne($e?.bitrate,"b/s")}),$.createElement(G,{show:Ee(Pe?.bitrate),label:"Bitrate(A)",value:ne(Pe?.bitrate,"b/s")}),$.createElement(G,{show:Ee(It),label:"Downlink",value:`${It}`}),$.createElement(G,{show:Ee($e?.codec),label:"Codec(V)",value:$e?.codec}),$.createElement(G,{show:Ee(Pe?.codec),label:"Codec(A)",value:Pe?.codec}),$.createElement(T,{audioTrackStats:Pe,videoTrackStats:$e})))):null}const T=({audioTrackStats:me,videoTrackStats:ve})=>{var Ae,ee;const Se=me?.type.includes("outbound")||ve?.type.includes("outbound"),we=Se?me?.remote:me,Pe=Se?ve?.remote:ve;return $.createElement($.Fragment,null,$.createElement(O,{label:"Packet Loss(V)",stats:Pe}),$.createElement(O,{label:"Packet Loss(A)",stats:we}),$.createElement(G,{show:Ee(Pe?.jitter),label:"Jitter(V)",value:(Ae=Pe?.jitter)===null||Ae===void 0?void 0:Ae.toFixed(4)}),$.createElement(G,{show:Ee(we?.jitter),label:"Jitter(A)",value:(ee=we?.jitter)===null||ee===void 0?void 0:ee.toFixed(4)}))},O=({stats:me,label:ve})=>{const Ae=`${me?.packetsLostRate?me.packetsLostRate.toFixed(2):0}/s`;return $.createElement(G,{show:X(me?.packetsLost),label:ve,value:`${me?.packetsLost}(${Ae})`})},G=$.memo(({label:me="",value:ve="",show:Ae=!0})=>$.createElement($.Fragment,null,Ae?$.createElement(le.Row,null,$.createElement(le.Label,null,me),ve===""?$.createElement(le.Value,null):$.createElement(le.Value,null,ve)):null));function X(me){return Ee(me)&&me!==0}function Ee(me){return me!=null}},8414:(Fe,J,B)=>{"use strict";B.d(J,{R:()=>le});var $=B(6811),a=B(9290),N=B(5943),ne=B(3764);const j=$.fC,q=(0,a.zo)($.xz,Object.assign(Object.assign({position:"absolute",bottom:"$2",right:"$2",zIndex:10,width:"$13",height:"$13",color:"$textPrimary",borderRadius:"$round",backgroundColor:"$menuBg",border:"none"},ne._),{"&:not([disabled]):focus":{outline:"none",boxShadow:"0 0 0 3px $colors$brandLight"}})),w=(0,a.zo)($.VY,Object.assign({fontFamily:"$sans",backgroundColor:"$menuBg",padding:"10px 0px",display:"flex",flexDirection:"column",borderRadius:"12px",zIndex:10},N.kp)),H={fontSize:"$sm",color:"$textPrimary",display:"flex",alignItems:"center",padding:"8px 12px",width:"100%"},he=(0,a.zo)("button",Object.assign(Object.assign({},H),{height:"40px","&:hover":{backgroundColor:"$menuBg"},"&:focus":{outline:"none"},"& > * + *":{marginRight:"0",marginLeft:"0.5rem"}})),te=(0,a.zo)("div",Object.assign(Object.assign({},H),{alignItems:"start",flexDirection:"column",marginBottom:"0"}));(0,a.zo)("div",{display:"flex","& > * + *":{marginRight:"0",marginLeft:"0.5rem"}});const le={Root:j,Trigger:q,Content:w,ItemButton:he,VolumeItem:te,RemoveItem:(0,a.zo)(he,{color:"$error",borderTop:"1px solid $borderLight"})}},8613:(Fe,J,B)=>{"use strict";B.d(J,{d:()=>a});var $=B(9290);const a={Root:(0,$.zo)("div",{height:"100%",width:"100%",display:"flex",flexDirection:"column"}),Container:(0,$.zo)("div",{height:"100%",width:"100%",position:"relative",display:"flex",alignItems:"center",overflow:"hidden"}),View:(0,$.zo)("div",{height:"100%",width:"100%",position:"absolute",display:"flex",placeContent:"center",flexWrap:"wrap",alignItems:"center"})}},8534:(Fe,J,B)=>{"use strict";B.d(J,{I:()=>$});const $=(a,N)=>a===N?0:a+1===N?"-100%":a-1===N?"100%":a<N?"-200%":"200%"},7924:function(Fe,J){(function(B,$){$(J)})(this,function(B){"use strict";var $=function(K){return function(T){var O=K(T);return T.add(O),O}},a=function(K){return function(T,O){return K.set(T,O),O}},N=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,ne=536870912,j=ne*2,q=function(K,T){return function(O){var G=T.get(O),X=G===void 0?O.size:G<j?G+1:0;if(!O.has(X))return K(O,X);if(O.size<ne){for(;O.has(X);)X=Math.floor(Math.random()*j);return K(O,X)}if(O.size>N)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;O.has(X);)X=Math.floor(Math.random()*N);return K(O,X)}},w=new WeakMap,H=a(w),he=q(H,w),te=$(he);B.addUniqueNumber=te,B.generateUniqueNumber=he,Object.defineProperty(B,"__esModule",{value:!0})})},335:(Fe,J,B)=>{"use strict";var $=B(9333),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},N={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ne={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},j={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q={};q[$.ForwardRef]=ne,q[$.Memo]=j;function w(G){return $.isMemo(G)?j:q[G.$$typeof]||a}var H=Object.defineProperty,he=Object.getOwnPropertyNames,te=Object.getOwnPropertySymbols,le=Object.getOwnPropertyDescriptor,K=Object.getPrototypeOf,T=Object.prototype;function O(G,X,Ee){if(typeof X!="string"){if(T){var me=K(X);me&&me!==T&&O(G,me,Ee)}var ve=he(X);te&&(ve=ve.concat(te(X)));for(var Ae=w(G),ee=w(X),Se=0;Se<ve.length;++Se){var we=ve[Se];if(!N[we]&&!(Ee&&Ee[we])&&!(ee&&ee[we])&&!(Ae&&Ae[we])){var Pe=le(X,we);try{H(G,we,Pe)}catch{}}}}return G}Fe.exports=O},108:Fe=>{/*!
 * Pusher JavaScript Library v7.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(B,$){Fe.exports=$()})(window,function(){return function(J){var B={};function $(a){if(B[a])return B[a].exports;var N=B[a]={i:a,l:!1,exports:{}};return J[a].call(N.exports,N,N.exports,$),N.l=!0,N.exports}return $.m=J,$.c=B,$.d=function(a,N,ne){$.o(a,N)||Object.defineProperty(a,N,{enumerable:!0,get:ne})},$.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},$.t=function(a,N){if(N&1&&(a=$(a)),N&8||N&4&&typeof a=="object"&&a&&a.__esModule)return a;var ne=Object.create(null);if($.r(ne),Object.defineProperty(ne,"default",{enumerable:!0,value:a}),N&2&&typeof a!="string")for(var j in a)$.d(ne,j,function(q){return a[q]}.bind(null,j));return ne},$.n=function(a){var N=a&&a.__esModule?function(){return a.default}:function(){return a};return $.d(N,"a",N),N},$.o=function(a,N){return Object.prototype.hasOwnProperty.call(a,N)},$.p="",$($.s=2)}([function(J,B,$){"use strict";var a=this&&this.__extends||function(){var K=function(T,O){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,X){G.__proto__=X}||function(G,X){for(var Ee in X)X.hasOwnProperty(Ee)&&(G[Ee]=X[Ee])},K(T,O)};return function(T,O){K(T,O);function G(){this.constructor=T}T.prototype=O===null?Object.create(O):(G.prototype=O.prototype,new G)}}();Object.defineProperty(B,"__esModule",{value:!0});var N=256,ne=function(){function K(T){T===void 0&&(T="="),this._paddingCharacter=T}return K.prototype.encodedLength=function(T){return this._paddingCharacter?(T+2)/3*4|0:(T*8+5)/6|0},K.prototype.encode=function(T){for(var O="",G=0;G<T.length-2;G+=3){var X=T[G]<<16|T[G+1]<<8|T[G+2];O+=this._encodeByte(X>>>3*6&63),O+=this._encodeByte(X>>>2*6&63),O+=this._encodeByte(X>>>1*6&63),O+=this._encodeByte(X>>>0*6&63)}var Ee=T.length-G;if(Ee>0){var X=T[G]<<16|(Ee===2?T[G+1]<<8:0);O+=this._encodeByte(X>>>3*6&63),O+=this._encodeByte(X>>>2*6&63),Ee===2?O+=this._encodeByte(X>>>1*6&63):O+=this._paddingCharacter||"",O+=this._paddingCharacter||""}return O},K.prototype.maxDecodedLength=function(T){return this._paddingCharacter?T/4*3|0:(T*6+7)/8|0},K.prototype.decodedLength=function(T){return this.maxDecodedLength(T.length-this._getPaddingLength(T))},K.prototype.decode=function(T){if(T.length===0)return new Uint8Array(0);for(var O=this._getPaddingLength(T),G=T.length-O,X=new Uint8Array(this.maxDecodedLength(G)),Ee=0,me=0,ve=0,Ae=0,ee=0,Se=0,we=0;me<G-4;me+=4)Ae=this._decodeChar(T.charCodeAt(me+0)),ee=this._decodeChar(T.charCodeAt(me+1)),Se=this._decodeChar(T.charCodeAt(me+2)),we=this._decodeChar(T.charCodeAt(me+3)),X[Ee++]=Ae<<2|ee>>>4,X[Ee++]=ee<<4|Se>>>2,X[Ee++]=Se<<6|we,ve|=Ae&N,ve|=ee&N,ve|=Se&N,ve|=we&N;if(me<G-1&&(Ae=this._decodeChar(T.charCodeAt(me)),ee=this._decodeChar(T.charCodeAt(me+1)),X[Ee++]=Ae<<2|ee>>>4,ve|=Ae&N,ve|=ee&N),me<G-2&&(Se=this._decodeChar(T.charCodeAt(me+2)),X[Ee++]=ee<<4|Se>>>2,ve|=Se&N),me<G-3&&(we=this._decodeChar(T.charCodeAt(me+3)),X[Ee++]=Se<<6|we,ve|=we&N),ve!==0)throw new Error("Base64Coder: incorrect characters for decoding");return X},K.prototype._encodeByte=function(T){var O=T;return O+=65,O+=25-T>>>8&0-65-26+97,O+=51-T>>>8&26-97-52+48,O+=61-T>>>8&52-48-62+43,O+=62-T>>>8&62-43-63+47,String.fromCharCode(O)},K.prototype._decodeChar=function(T){var O=N;return O+=(42-T&T-44)>>>8&-N+T-43+62,O+=(46-T&T-48)>>>8&-N+T-47+63,O+=(47-T&T-58)>>>8&-N+T-48+52,O+=(64-T&T-91)>>>8&-N+T-65+0,O+=(96-T&T-123)>>>8&-N+T-97+26,O},K.prototype._getPaddingLength=function(T){var O=0;if(this._paddingCharacter){for(var G=T.length-1;G>=0&&T[G]===this._paddingCharacter;G--)O++;if(T.length<4||O>2)throw new Error("Base64Coder: incorrect padding")}return O},K}();B.Coder=ne;var j=new ne;function q(K){return j.encode(K)}B.encode=q;function w(K){return j.decode(K)}B.decode=w;var H=function(K){a(T,K);function T(){return K!==null&&K.apply(this,arguments)||this}return T.prototype._encodeByte=function(O){var G=O;return G+=65,G+=25-O>>>8&0-65-26+97,G+=51-O>>>8&26-97-52+48,G+=61-O>>>8&52-48-62+45,G+=62-O>>>8&62-45-63+95,String.fromCharCode(G)},T.prototype._decodeChar=function(O){var G=N;return G+=(44-O&O-46)>>>8&-N+O-45+62,G+=(94-O&O-96)>>>8&-N+O-95+63,G+=(47-O&O-58)>>>8&-N+O-48+52,G+=(64-O&O-91)>>>8&-N+O-65+0,G+=(96-O&O-123)>>>8&-N+O-97+26,G},T}(ne);B.URLSafeCoder=H;var he=new H;function te(K){return he.encode(K)}B.encodeURLSafe=te;function le(K){return he.decode(K)}B.decodeURLSafe=le,B.encodedLength=function(K){return j.encodedLength(K)},B.maxDecodedLength=function(K){return j.maxDecodedLength(K)},B.decodedLength=function(K){return j.decodedLength(K)}},function(J,B,$){"use strict";Object.defineProperty(B,"__esModule",{value:!0});var a="utf8: invalid string",N="utf8: invalid source encoding";function ne(w){for(var H=new Uint8Array(j(w)),he=0,te=0;te<w.length;te++){var le=w.charCodeAt(te);le<128?H[he++]=le:le<2048?(H[he++]=192|le>>6,H[he++]=128|le&63):le<55296?(H[he++]=224|le>>12,H[he++]=128|le>>6&63,H[he++]=128|le&63):(te++,le=(le&1023)<<10,le|=w.charCodeAt(te)&1023,le+=65536,H[he++]=240|le>>18,H[he++]=128|le>>12&63,H[he++]=128|le>>6&63,H[he++]=128|le&63)}return H}B.encode=ne;function j(w){for(var H=0,he=0;he<w.length;he++){var te=w.charCodeAt(he);if(te<128)H+=1;else if(te<2048)H+=2;else if(te<55296)H+=3;else if(te<=57343){if(he>=w.length-1)throw new Error(a);he++,H+=4}else throw new Error(a)}return H}B.encodedLength=j;function q(w){for(var H=[],he=0;he<w.length;he++){var te=w[he];if(te&128){var le=void 0;if(te<224){if(he>=w.length)throw new Error(N);var K=w[++he];if((K&192)!==128)throw new Error(N);te=(te&31)<<6|K&63,le=128}else if(te<240){if(he>=w.length-1)throw new Error(N);var K=w[++he],T=w[++he];if((K&192)!==128||(T&192)!==128)throw new Error(N);te=(te&15)<<12|(K&63)<<6|T&63,le=2048}else if(te<248){if(he>=w.length-2)throw new Error(N);var K=w[++he],T=w[++he],O=w[++he];if((K&192)!==128||(T&192)!==128||(O&192)!==128)throw new Error(N);te=(te&15)<<18|(K&63)<<12|(T&63)<<6|O&63,le=65536}else throw new Error(N);if(te<le||te>=55296&&te<=57343)throw new Error(N);if(te>=65536){if(te>1114111)throw new Error(N);te-=65536,H.push(String.fromCharCode(55296|te>>10)),te=56320|te&1023}}H.push(String.fromCharCode(te))}return H.join("")}B.decode=q},function(J,B,$){J.exports=$(3).default},function(J,B,$){"use strict";$.r(B);var a=function(){function p(f,m){this.lastId=0,this.prefix=f,this.name=m}return p.prototype.create=function(f){this.lastId++;var m=this.lastId,b=this.prefix+m,L=this.name+"["+m+"]",R=!1,U=function(){R||(f.apply(null,arguments),R=!0)};return this[m]=U,{number:m,id:b,name:L,callback:U}},p.prototype.remove=function(f){delete this[f.number]},p}(),N=new a("_pusher_script_","Pusher.ScriptReceivers"),ne={VERSION:"7.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},j=ne,q=function(){function p(f){this.options=f,this.receivers=f.receivers||N,this.loading={}}return p.prototype.load=function(f,m,b){var L=this;if(L.loading[f]&&L.loading[f].length>0)L.loading[f].push(b);else{L.loading[f]=[b];var R=We.createScriptRequest(L.getPath(f,m)),U=L.receivers.create(function(se){if(L.receivers.remove(U),L.loading[f]){var Ie=L.loading[f];delete L.loading[f];for(var Ce=function(Gt){Gt||R.cleanup()},tt=0;tt<Ie.length;tt++)Ie[tt](se,Ce)}});R.send(U)}},p.prototype.getRoot=function(f){var m,b=We.getDocument().location.protocol;return f&&f.useTLS||b==="https:"?m=this.options.cdn_https:m=this.options.cdn_http,m.replace(/\/*$/,"")+"/"+this.options.version},p.prototype.getPath=function(f,m){return this.getRoot(m)+"/"+f+this.options.suffix+".js"},p}(),w=q,H=new a("_pusher_dependencies","Pusher.DependenciesReceivers"),he=new w({cdn_http:j.cdn_http,cdn_https:j.cdn_https,version:j.VERSION,suffix:j.dependency_suffix,receivers:H}),te={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},le=function(p){var f="See:",m=te.urls[p];if(!m)return"";var b;return m.fullUrl?b=m.fullUrl:m.path&&(b=te.baseUrl+m.path),b?f+" "+b:""},K={buildLogSuffix:le},T;(function(p){p.UserAuthentication="user-authentication",p.ChannelAuthorization="channel-authorization"})(T||(T={}));var O=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),G=function(p){O(f,p);function f(m){var b=this.constructor,L=p.call(this,m)||this;return Object.setPrototypeOf(L,b.prototype),L}return f}(Error),X=function(p){O(f,p);function f(m){var b=this.constructor,L=p.call(this,m)||this;return Object.setPrototypeOf(L,b.prototype),L}return f}(Error),Ee=function(p){O(f,p);function f(m){var b=this.constructor,L=p.call(this,m)||this;return Object.setPrototypeOf(L,b.prototype),L}return f}(Error),me=function(p){O(f,p);function f(m){var b=this.constructor,L=p.call(this,m)||this;return Object.setPrototypeOf(L,b.prototype),L}return f}(Error),ve=function(p){O(f,p);function f(m){var b=this.constructor,L=p.call(this,m)||this;return Object.setPrototypeOf(L,b.prototype),L}return f}(Error),Ae=function(p){O(f,p);function f(m){var b=this.constructor,L=p.call(this,m)||this;return Object.setPrototypeOf(L,b.prototype),L}return f}(Error),ee=function(p){O(f,p);function f(m){var b=this.constructor,L=p.call(this,m)||this;return Object.setPrototypeOf(L,b.prototype),L}return f}(Error),Se=function(p){O(f,p);function f(m){var b=this.constructor,L=p.call(this,m)||this;return Object.setPrototypeOf(L,b.prototype),L}return f}(Error),we=function(p){O(f,p);function f(m,b){var L=this.constructor,R=p.call(this,b)||this;return R.status=m,Object.setPrototypeOf(R,L.prototype),R}return f}(Error),Pe=function(p,f,m,b,L){var R=We.createXHR();R.open("POST",m.endpoint,!0),R.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var U in m.headers)R.setRequestHeader(U,m.headers[U]);return R.onreadystatechange=function(){if(R.readyState===4)if(R.status===200){var se=void 0,Ie=!1;try{se=JSON.parse(R.responseText),Ie=!0}catch{L(new we(200,"JSON returned from "+b.toString()+" endpoint was invalid, yet status code was 200. Data was: "+R.responseText),null)}Ie&&L(null,se)}else{var Ce="";switch(b){case T.UserAuthentication:Ce=K.buildLogSuffix("authenticationEndpoint");break;case T.ChannelAuthorization:Ce="Clients must be authenticated to join private or presence channels. "+K.buildLogSuffix("authorizationEndpoint");break}L(new we(R.status,"Unable to retrieve auth string from "+b.toString()+" endpoint - "+("received status: "+R.status+" from "+m.endpoint+". "+Ce)),null)}},R.send(f),R},$e=Pe;function It(p){return G1(l1(p))}for(var A1=String.fromCharCode,g1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K1={},a1=0,yr=g1.length;a1<yr;a1++)K1[g1.charAt(a1)]=a1;var xr=function(p){var f=p.charCodeAt(0);return f<128?p:f<2048?A1(192|f>>>6)+A1(128|f&63):A1(224|f>>>12&15)+A1(128|f>>>6&63)+A1(128|f&63)},l1=function(p){return p.replace(/[^\x00-\x7F]/g,xr)},L1=function(p){var f=[0,2,1][p.length%3],m=p.charCodeAt(0)<<16|(p.length>1?p.charCodeAt(1):0)<<8|(p.length>2?p.charCodeAt(2):0),b=[g1.charAt(m>>>18),g1.charAt(m>>>12&63),f>=2?"=":g1.charAt(m>>>6&63),f>=1?"=":g1.charAt(m&63)];return b.join("")},G1=window.btoa||function(p){return p.replace(/[\s\S]{1,3}/g,L1)},Lr=function(){function p(f,m,b,L){var R=this;this.clear=m,this.timer=f(function(){R.timer&&(R.timer=L(R.timer))},b)}return p.prototype.isRunning=function(){return this.timer!==null},p.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},p}(),Sr=Lr,lr=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}();function Rr(p){window.clearTimeout(p)}function T1(p){window.clearInterval(p)}var m1=function(p){lr(f,p);function f(m,b){return p.call(this,setTimeout,Rr,m,function(L){return b(),null})||this}return f}(Sr),Ir=function(p){lr(f,p);function f(m,b){return p.call(this,setInterval,T1,m,function(L){return b(),L})||this}return f}(Sr),sr={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(p){return new m1(0,p)},method:function(p){for(var f=[],m=1;m<arguments.length;m++)f[m-1]=arguments[m];var b=Array.prototype.slice.call(arguments,1);return function(L){return L[p].apply(L,b.concat(arguments))}}},yt=sr;function Mt(p){for(var f=[],m=1;m<arguments.length;m++)f[m-1]=arguments[m];for(var b=0;b<f.length;b++){var L=f[b];for(var R in L)L[R]&&L[R].constructor&&L[R].constructor===Object?p[R]=Mt(p[R]||{},L[R]):p[R]=L[R]}return p}function Mr(){for(var p=["Pusher"],f=0;f<arguments.length;f++)typeof arguments[f]=="string"?p.push(arguments[f]):p.push(Vt(arguments[f]));return p.join(" : ")}function S1(p,f){var m=Array.prototype.indexOf;if(p===null)return-1;if(m&&p.indexOf===m)return p.indexOf(f);for(var b=0,L=p.length;b<L;b++)if(p[b]===f)return b;return-1}function e1(p,f){for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&f(p[m],m,p)}function ur(p){var f=[];return e1(p,function(m,b){f.push(b)}),f}function X1(p){var f=[];return e1(p,function(m){f.push(m)}),f}function O1(p,f,m){for(var b=0;b<p.length;b++)f.call(m||window,p[b],b,p)}function je(p,f){for(var m=[],b=0;b<p.length;b++)m.push(f(p[b],b,p,m));return m}function Ge(p,f){var m={};return e1(p,function(b,L){m[L]=f(b)}),m}function Ue(p,f){f=f||function(L){return!!L};for(var m=[],b=0;b<p.length;b++)f(p[b],b,p,m)&&m.push(p[b]);return m}function qe(p,f){var m={};return e1(p,function(b,L){(f&&f(b,L,p,m)||Boolean(b))&&(m[L]=b)}),m}function Ht(p){var f=[];return e1(p,function(m,b){f.push([b,m])}),f}function Et(p,f){for(var m=0;m<p.length;m++)if(f(p[m],m,p))return!0;return!1}function gt(p,f){for(var m=0;m<p.length;m++)if(!f(p[m],m,p))return!1;return!0}function t1(p){return Ge(p,function(f){return typeof f=="object"&&(f=Vt(f)),encodeURIComponent(It(f.toString()))})}function Wt(p){var f=qe(p,function(b){return b!==void 0}),m=je(Ht(t1(f)),yt.method("join","=")).join("&");return m}function Ut(p){var f=[],m=[];return function b(L,R){var U,se,Ie;switch(typeof L){case"object":if(!L)return null;for(U=0;U<f.length;U+=1)if(f[U]===L)return{$ref:m[U]};if(f.push(L),m.push(R),Object.prototype.toString.apply(L)==="[object Array]")for(Ie=[],U=0;U<L.length;U+=1)Ie[U]=b(L[U],R+"["+U+"]");else{Ie={};for(se in L)Object.prototype.hasOwnProperty.call(L,se)&&(Ie[se]=b(L[se],R+"["+JSON.stringify(se)+"]"))}return Ie;case"number":case"string":case"boolean":return L}}(p,"$")}function Vt(p){try{return JSON.stringify(p)}catch{return JSON.stringify(Ut(p))}}var wt=function(){function p(){this.globalLog=function(f){window.console&&window.console.log&&window.console.log(f)}}return p.prototype.debug=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];this.log(this.globalLog,f)},p.prototype.warn=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];this.log(this.globalLogWarn,f)},p.prototype.error=function(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];this.log(this.globalLogError,f)},p.prototype.globalLogWarn=function(f){window.console&&window.console.warn?window.console.warn(f):this.globalLog(f)},p.prototype.globalLogError=function(f){window.console&&window.console.error?window.console.error(f):this.globalLogWarn(f)},p.prototype.log=function(f){for(var m=[],b=1;b<arguments.length;b++)m[b-1]=arguments[b];var L=Mr.apply(this,arguments);if(Kt.log)Kt.log(L);else if(Kt.logToConsole){var R=f.bind(this);R(L)}},p}(),Ne=new wt,$t=function(p,f,m,b,L){m.headers!==void 0&&Ne.warn("To send headers with the "+b.toString()+" request, you must use AJAX, rather than JSONP.");var R=p.nextAuthCallbackID.toString();p.nextAuthCallbackID++;var U=p.getDocument(),se=U.createElement("script");p.auth_callbacks[R]=function(tt){L(null,tt)};var Ie="Pusher.auth_callbacks['"+R+"']";se.src=m.endpoint+"?callback="+encodeURIComponent(Ie)+"&"+f;var Ce=U.getElementsByTagName("head")[0]||U.documentElement;Ce.insertBefore(se,Ce.firstChild)},s1=$t,R1=function(){function p(f){this.src=f}return p.prototype.send=function(f){var m=this,b="Error loading "+m.src;m.script=document.createElement("script"),m.script.id=f.id,m.script.src=m.src,m.script.type="text/javascript",m.script.charset="UTF-8",m.script.addEventListener?(m.script.onerror=function(){f.callback(b)},m.script.onload=function(){f.callback(null)}):m.script.onreadystatechange=function(){(m.script.readyState==="loaded"||m.script.readyState==="complete")&&f.callback(null)},m.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(m.errorScript=document.createElement("script"),m.errorScript.id=f.id+"_error",m.errorScript.text=f.name+"('"+b+"');",m.script.async=m.errorScript.async=!1):m.script.async=!0;var L=document.getElementsByTagName("head")[0];L.insertBefore(m.script,L.firstChild),m.errorScript&&L.insertBefore(m.errorScript,m.script.nextSibling)},p.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},p}(),cr=R1,C1=function(){function p(f,m){this.url=f,this.data=m}return p.prototype.send=function(f){if(!this.request){var m=Wt(this.data),b=this.url+"/"+f.number+"?"+m;this.request=We.createScriptRequest(b),this.request.send(f)}},p.prototype.cleanup=function(){this.request&&this.request.cleanup()},p}(),Y1=C1,I1=function(p,f){return function(m,b){var L="http"+(f?"s":"")+"://",R=L+(p.host||p.options.host)+p.options.path,U=We.createJSONPRequest(R,m),se=We.ScriptReceivers.create(function(Ie,Ce){N.remove(se),U.cleanup(),Ce&&Ce.host&&(p.host=Ce.host),b&&b(Ie,Ce)});U.send(se)}},ho={name:"jsonp",getAgent:I1},Vo=ho;function Ur(p,f,m){var b=p+(f.useTLS?"s":""),L=f.useTLS?f.hostTLS:f.hostNonTLS;return b+"://"+L+m}function Kr(p,f){var m="/app/"+p,b="?protocol="+j.PROTOCOL+"&client=js&version="+j.VERSION+(f?"&"+f:"");return m+b}var Zo={getInitial:function(p,f){var m=(f.httpPath||"")+Kr(p,"flash=false");return Ur("ws",f,m)}},zo={getInitial:function(p,f){var m=(f.httpPath||"/pusher")+Kr(p);return Ur("http",f,m)}},fo={getInitial:function(p,f){return Ur("http",f,f.httpPath||"/pusher")},getPath:function(p,f){return Kr(p)}},Gr=function(){function p(){this._callbacks={}}return p.prototype.get=function(f){return this._callbacks[Dr(f)]},p.prototype.add=function(f,m,b){var L=Dr(f);this._callbacks[L]=this._callbacks[L]||[],this._callbacks[L].push({fn:m,context:b})},p.prototype.remove=function(f,m,b){if(!f&&!m&&!b){this._callbacks={};return}var L=f?[Dr(f)]:ur(this._callbacks);m||b?this.removeCallback(L,m,b):this.removeAllCallbacks(L)},p.prototype.removeCallback=function(f,m,b){O1(f,function(L){this._callbacks[L]=Ue(this._callbacks[L]||[],function(R){return m&&m!==R.fn||b&&b!==R.context}),this._callbacks[L].length===0&&delete this._callbacks[L]},this)},p.prototype.removeAllCallbacks=function(f){O1(f,function(m){delete this._callbacks[m]},this)},p}(),M1=Gr;function Dr(p){return"_"+p}var po=function(){function p(f){this.callbacks=new M1,this.global_callbacks=[],this.failThrough=f}return p.prototype.bind=function(f,m,b){return this.callbacks.add(f,m,b),this},p.prototype.bind_global=function(f){return this.global_callbacks.push(f),this},p.prototype.unbind=function(f,m,b){return this.callbacks.remove(f,m,b),this},p.prototype.unbind_global=function(f){return f?(this.global_callbacks=Ue(this.global_callbacks||[],function(m){return m!==f}),this):(this.global_callbacks=[],this)},p.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},p.prototype.emit=function(f,m,b){for(var L=0;L<this.global_callbacks.length;L++)this.global_callbacks[L](f,m);var R=this.callbacks.get(f),U=[];if(b?U.push(m,b):m&&U.push(m),R&&R.length>0)for(var L=0;L<R.length;L++)R[L].fn.apply(R[L].context||window,U);else this.failThrough&&this.failThrough(f,m);return this},p}(),u1=po,go=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),No=function(p){go(f,p);function f(m,b,L,R,U){var se=p.call(this)||this;return se.initialize=We.transportConnectionInitializer,se.hooks=m,se.name=b,se.priority=L,se.key=R,se.options=U,se.state="new",se.timeline=U.timeline,se.activityTimeout=U.activityTimeout,se.id=se.timeline.generateUniqueID(),se}return f.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},f.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},f.prototype.connect=function(){var m=this;if(this.socket||this.state!=="initialized")return!1;var b=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(b,this.options)}catch(L){return yt.defer(function(){m.onError(L),m.changeState("closed")}),!1}return this.bindListeners(),Ne.debug("Connecting",{transport:this.name,url:b}),this.changeState("connecting"),!0},f.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},f.prototype.send=function(m){var b=this;return this.state==="open"?(yt.defer(function(){b.socket&&b.socket.send(m)}),!0):!1},f.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},f.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},f.prototype.onError=function(m){this.emit("error",{type:"WebSocketError",error:m}),this.timeline.error(this.buildTimelineMessage({error:m.toString()}))},f.prototype.onClose=function(m){m?this.changeState("closed",{code:m.code,reason:m.reason,wasClean:m.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},f.prototype.onMessage=function(m){this.emit("message",m)},f.prototype.onActivity=function(){this.emit("activity")},f.prototype.bindListeners=function(){var m=this;this.socket.onopen=function(){m.onOpen()},this.socket.onerror=function(b){m.onError(b)},this.socket.onclose=function(b){m.onClose(b)},this.socket.onmessage=function(b){m.onMessage(b)},this.supportsPing()&&(this.socket.onactivity=function(){m.onActivity()})},f.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},f.prototype.changeState=function(m,b){this.state=m,this.timeline.info(this.buildTimelineMessage({state:m,params:b})),this.emit(m,b)},f.prototype.buildTimelineMessage=function(m){return Mt({cid:this.id},m)},f}(u1),Wo=No,Uo=function(){function p(f){this.hooks=f}return p.prototype.isSupported=function(f){return this.hooks.isSupported(f)},p.prototype.createConnection=function(f,m,b,L){return new Wo(this.hooks,f,m,b,L)},p}(),q1=Uo,Ko=new q1({urls:Zo,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(We.getWebSocketAPI())},isSupported:function(){return Boolean(We.getWebSocketAPI())},getSocket:function(p){return We.createWebSocket(p)}}),mo={urls:zo,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Co=Mt({getSocket:function(p){return We.HTTPFactory.createStreamingSocket(p)}},mo),vo=Mt({getSocket:function(p){return We.HTTPFactory.createPollingSocket(p)}},mo),kr={isSupported:function(){return We.isXHRSupported()}},Go=new q1(Mt({},Co,kr)),Xo=new q1(Mt({},vo,kr)),Pr={ws:Ko,xhr_streaming:Go,xhr_polling:Xo},$r=Pr,Eo=new q1({file:"sockjs",urls:fo,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(p,f){return new window.SockJS(p,null,{js_path:he.getPath("sockjs",{useTLS:f.useTLS}),ignore_null_origin:f.ignoreNullOrigin})},beforeOpen:function(p,f){p.send(JSON.stringify({path:f}))}}),wo={isSupported:function(p){var f=We.isXDRSupported(p.useTLS);return f}},Yo=new q1(Mt({},Co,wo)),V=new q1(Mt({},vo,wo));$r.xdr_streaming=Yo,$r.xdr_polling=V,$r.sockjs=Eo;var Q=$r,re=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),Y=function(p){re(f,p);function f(){var m=p.call(this)||this,b=m;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){b.emit("online")},!1),window.addEventListener("offline",function(){b.emit("offline")},!1)),m}return f.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},f}(u1),ae=new Y,ue=function(){function p(f,m,b){this.manager=f,this.transport=m,this.minPingDelay=b.minPingDelay,this.maxPingDelay=b.maxPingDelay,this.pingDelay=void 0}return p.prototype.createConnection=function(f,m,b,L){var R=this;L=Mt({},L,{activityTimeout:this.pingDelay});var U=this.transport.createConnection(f,m,b,L),se=null,Ie=function(){U.unbind("open",Ie),U.bind("closed",Ce),se=yt.now()},Ce=function(tt){if(U.unbind("closed",Ce),tt.code===1002||tt.code===1003)R.manager.reportDeath();else if(!tt.wasClean&&se){var Gt=yt.now()-se;Gt<2*R.maxPingDelay&&(R.manager.reportDeath(),R.pingDelay=Math.max(Gt/2,R.minPingDelay))}};return U.bind("open",Ie),U},p.prototype.isSupported=function(f){return this.manager.isAlive()&&this.transport.isSupported(f)},p}(),xe=ue,pe={decodeMessage:function(p){try{var f=JSON.parse(p.data),m=f.data;if(typeof m=="string")try{m=JSON.parse(f.data)}catch{}var b={event:f.event,channel:f.channel,data:m};return f.user_id&&(b.user_id=f.user_id),b}catch(L){throw{type:"MessageParseError",error:L,data:p.data}}},encodeMessage:function(p){return JSON.stringify(p)},processHandshake:function(p){var f=pe.decodeMessage(p);if(f.event==="pusher:connection_established"){if(!f.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:f.data.socket_id,activityTimeout:f.data.activity_timeout*1e3}}else{if(f.event==="pusher:error")return{action:this.getCloseAction(f.data),error:this.getCloseError(f.data)};throw"Invalid handshake"}},getCloseAction:function(p){return p.code<4e3?p.code>=1002&&p.code<=1004?"backoff":null:p.code===4e3?"tls_only":p.code<4100?"refused":p.code<4200?"backoff":p.code<4300?"retry":"refused"},getCloseError:function(p){return p.code!==1e3&&p.code!==1001?{type:"PusherError",data:{code:p.code,message:p.reason||p.message}}:null}},Re=pe,De=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),Me=function(p){De(f,p);function f(m,b){var L=p.call(this)||this;return L.id=m,L.transport=b,L.activityTimeout=b.activityTimeout,L.bindListeners(),L}return f.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},f.prototype.send=function(m){return this.transport.send(m)},f.prototype.send_event=function(m,b,L){var R={event:m,data:b};return L&&(R.channel=L),Ne.debug("Event sent",R),this.send(Re.encodeMessage(R))},f.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},f.prototype.close=function(){this.transport.close()},f.prototype.bindListeners=function(){var m=this,b={message:function(R){var U;try{U=Re.decodeMessage(R)}catch(se){m.emit("error",{type:"MessageParseError",error:se,data:R.data})}if(U!==void 0){switch(Ne.debug("Event recd",U),U.event){case"pusher:error":m.emit("error",{type:"PusherError",data:U.data});break;case"pusher:ping":m.emit("ping");break;case"pusher:pong":m.emit("pong");break}m.emit("message",U)}},activity:function(){m.emit("activity")},error:function(R){m.emit("error",R)},closed:function(R){L(),R&&R.code&&m.handleCloseEvent(R),m.transport=null,m.emit("closed")}},L=function(){e1(b,function(R,U){m.transport.unbind(U,R)})};e1(b,function(R,U){m.transport.bind(U,R)})},f.prototype.handleCloseEvent=function(m){var b=Re.getCloseAction(m),L=Re.getCloseError(m);L&&this.emit("error",L),b&&this.emit(b,{action:b,error:L})},f}(u1),He=Me,Le=function(){function p(f,m){this.transport=f,this.callback=m,this.bindListeners()}return p.prototype.close=function(){this.unbindListeners(),this.transport.close()},p.prototype.bindListeners=function(){var f=this;this.onMessage=function(m){f.unbindListeners();var b;try{b=Re.processHandshake(m)}catch(L){f.finish("error",{error:L}),f.transport.close();return}b.action==="connected"?f.finish("connected",{connection:new He(b.id,f.transport),activityTimeout:b.activityTimeout}):(f.finish(b.action,{error:b.error}),f.transport.close())},this.onClosed=function(m){f.unbindListeners();var b=Re.getCloseAction(m)||"backoff",L=Re.getCloseError(m);f.finish(b,{error:L})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},p.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},p.prototype.finish=function(f,m){this.callback(Mt({transport:this.transport,action:f},m))},p}(),at=Le,lt=function(){function p(f,m){this.timeline=f,this.options=m||{}}return p.prototype.send=function(f,m){this.timeline.isEmpty()||this.timeline.send(We.TimelineTransport.getAgent(this,f),m)},p}(),Dt=lt,bt=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),xt=function(p){bt(f,p);function f(m,b){var L=p.call(this,function(R,U){Ne.debug("No callbacks on "+m+" for "+R)})||this;return L.name=m,L.pusher=b,L.subscribed=!1,L.subscriptionPending=!1,L.subscriptionCancelled=!1,L}return f.prototype.authorize=function(m,b){return b(null,{auth:""})},f.prototype.trigger=function(m,b){if(m.indexOf("client-")!==0)throw new G("Event '"+m+"' does not start with 'client-'");if(!this.subscribed){var L=K.buildLogSuffix("triggeringClientEvents");Ne.warn("Client event triggered before channel 'subscription_succeeded' event . "+L)}return this.pusher.send_event(m,b,this.name)},f.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},f.prototype.handleEvent=function(m){var b=m.event,L=m.data;if(b==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(m);else if(b==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(m);else if(b.indexOf("pusher_internal:")!==0){var R={};this.emit(b,L,R)}},f.prototype.handleSubscriptionSucceededEvent=function(m){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",m.data)},f.prototype.handleSubscriptionCountEvent=function(m){m.data.subscription_count&&(this.subscriptionCount=m.data.subscription_count),this.emit("pusher:subscription_count",m.data)},f.prototype.subscribe=function(){var m=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(b,L){b?(m.subscriptionPending=!1,Ne.error(b.toString()),m.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:b.message},b instanceof we?{status:b.status}:{}))):m.pusher.send_event("pusher:subscribe",{auth:L.auth,channel_data:L.channel_data,channel:m.name})}))},f.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},f.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},f.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},f}(u1),ft=xt,Lt=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),kt=function(p){Lt(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.prototype.authorize=function(m,b){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:m},b)},f}(ft),v1=kt,ct=function(){function p(){this.reset()}return p.prototype.get=function(f){return Object.prototype.hasOwnProperty.call(this.members,f)?{id:f,info:this.members[f]}:null},p.prototype.each=function(f){var m=this;e1(this.members,function(b,L){f(m.get(L))})},p.prototype.setMyID=function(f){this.myID=f},p.prototype.onSubscription=function(f){this.members=f.presence.hash,this.count=f.presence.count,this.me=this.get(this.myID)},p.prototype.addMember=function(f){return this.get(f.user_id)===null&&this.count++,this.members[f.user_id]=f.user_info,this.get(f.user_id)},p.prototype.removeMember=function(f){var m=this.get(f.user_id);return m&&(delete this.members[f.user_id],this.count--),m},p.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},p}(),Yt=ct,r1=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),dr=function(p,f,m,b){return new(m||(m=Promise))(function(L,R){function U(Ce){try{Ie(b.next(Ce))}catch(tt){R(tt)}}function se(Ce){try{Ie(b.throw(Ce))}catch(tt){R(tt)}}function Ie(Ce){Ce.done?L(Ce.value):new m(function(tt){tt(Ce.value)}).then(U,se)}Ie((b=b.apply(p,f||[])).next())})},bo=function(p,f){var m={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},b,L,R,U;return U={next:se(0),throw:se(1),return:se(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function se(Ce){return function(tt){return Ie([Ce,tt])}}function Ie(Ce){if(b)throw new TypeError("Generator is already executing.");for(;m;)try{if(b=1,L&&(R=Ce[0]&2?L.return:Ce[0]?L.throw||((R=L.return)&&R.call(L),0):L.next)&&!(R=R.call(L,Ce[1])).done)return R;switch(L=0,R&&(Ce=[Ce[0]&2,R.value]),Ce[0]){case 0:case 1:R=Ce;break;case 4:return m.label++,{value:Ce[1],done:!1};case 5:m.label++,L=Ce[1],Ce=[0];continue;case 7:Ce=m.ops.pop(),m.trys.pop();continue;default:if(R=m.trys,!(R=R.length>0&&R[R.length-1])&&(Ce[0]===6||Ce[0]===2)){m=0;continue}if(Ce[0]===3&&(!R||Ce[1]>R[0]&&Ce[1]<R[3])){m.label=Ce[1];break}if(Ce[0]===6&&m.label<R[1]){m.label=R[1],R=Ce;break}if(R&&m.label<R[2]){m.label=R[2],m.ops.push(Ce);break}R[2]&&m.ops.pop(),m.trys.pop();continue}Ce=f.call(p,m)}catch(tt){Ce=[6,tt],L=0}finally{b=R=0}if(Ce[0]&5)throw Ce[1];return{value:Ce[0]?Ce[1]:void 0,done:!0}}},_o=function(p){r1(f,p);function f(m,b){var L=p.call(this,m,b)||this;return L.members=new Yt,L}return f.prototype.authorize=function(m,b){var L=this;p.prototype.authorize.call(this,m,function(R,U){return dr(L,void 0,void 0,function(){var se,Ie;return bo(this,function(Ce){switch(Ce.label){case 0:return R?[3,3]:(U=U,U.channel_data==null?[3,1]:(se=JSON.parse(U.channel_data),this.members.setMyID(se.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(Ce.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return Ie=K.buildLogSuffix("authorizationEndpoint"),Ne.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+Ie+", ")+"or the user should be signed in."),b("Invalid auth response"),[2];Ce.label=3;case 3:return b(R,U),[2]}})})})},f.prototype.handleEvent=function(m){var b=m.event;if(b.indexOf("pusher_internal:")===0)this.handleInternalEvent(m);else{var L=m.data,R={};m.user_id&&(R.user_id=m.user_id),this.emit(b,L,R)}},f.prototype.handleInternalEvent=function(m){var b=m.event,L=m.data;switch(b){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(m);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(m);break;case"pusher_internal:member_added":var R=this.members.addMember(L);this.emit("pusher:member_added",R);break;case"pusher_internal:member_removed":var U=this.members.removeMember(L);U&&this.emit("pusher:member_removed",U);break}},f.prototype.handleSubscriptionSucceededEvent=function(m){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(m.data),this.emit("pusher:subscription_succeeded",this.members))},f.prototype.disconnect=function(){this.members.reset(),p.prototype.disconnect.call(this)},f}(v1),yo=_o,qo=$(1),hr=$(0),Jo=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),xn=function(p){Jo(f,p);function f(m,b,L){var R=p.call(this,m,b)||this;return R.key=null,R.nacl=L,R}return f.prototype.authorize=function(m,b){var L=this;p.prototype.authorize.call(this,m,function(R,U){if(R){b(R,U);return}var se=U.shared_secret;if(!se){b(new Error("No shared_secret key in auth payload for encrypted channel: "+L.name),null);return}L.key=Object(hr.decode)(se),delete U.shared_secret,b(null,U)})},f.prototype.trigger=function(m,b){throw new Ae("Client events are not currently supported for encrypted channels")},f.prototype.handleEvent=function(m){var b=m.event,L=m.data;if(b.indexOf("pusher_internal:")===0||b.indexOf("pusher:")===0){p.prototype.handleEvent.call(this,m);return}this.handleEncryptedEvent(b,L)},f.prototype.handleEncryptedEvent=function(m,b){var L=this;if(!this.key){Ne.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!b.ciphertext||!b.nonce){Ne.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+b);return}var R=Object(hr.decode)(b.ciphertext);if(R.length<this.nacl.secretbox.overheadLength){Ne.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+R.length);return}var U=Object(hr.decode)(b.nonce);if(U.length<this.nacl.secretbox.nonceLength){Ne.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+U.length);return}var se=this.nacl.secretbox.open(R,U,this.key);if(se===null){Ne.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(Ie,Ce){if(Ie){Ne.error("Failed to make a request to the authEndpoint: "+Ce+". Unable to fetch new key, so dropping encrypted event");return}if(se=L.nacl.secretbox.open(R,U,L.key),se===null){Ne.error("Failed to decrypt event with new key. Dropping encrypted event");return}L.emit(m,L.getDataToEmit(se))});return}this.emit(m,this.getDataToEmit(se))},f.prototype.getDataToEmit=function(m){var b=Object(qo.decode)(m);try{return JSON.parse(b)}catch{return b}},f}(v1),Br=xn,D0=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),Ln=function(p){D0(f,p);function f(m,b){var L=p.call(this)||this;L.state="initialized",L.connection=null,L.key=m,L.options=b,L.timeline=L.options.timeline,L.usingTLS=L.options.useTLS,L.errorCallbacks=L.buildErrorCallbacks(),L.connectionCallbacks=L.buildConnectionCallbacks(L.errorCallbacks),L.handshakeCallbacks=L.buildHandshakeCallbacks(L.errorCallbacks);var R=We.getNetwork();return R.bind("online",function(){L.timeline.info({netinfo:"online"}),(L.state==="connecting"||L.state==="unavailable")&&L.retryIn(0)}),R.bind("offline",function(){L.timeline.info({netinfo:"offline"}),L.connection&&L.sendActivityCheck()}),L.updateStrategy(),L}return f.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},f.prototype.send=function(m){return this.connection?this.connection.send(m):!1},f.prototype.send_event=function(m,b,L){return this.connection?this.connection.send_event(m,b,L):!1},f.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},f.prototype.isUsingTLS=function(){return this.usingTLS},f.prototype.startConnecting=function(){var m=this,b=function(L,R){L?m.runner=m.strategy.connect(0,b):R.action==="error"?(m.emit("error",{type:"HandshakeError",error:R.error}),m.timeline.error({handshakeError:R.error})):(m.abortConnecting(),m.handshakeCallbacks[R.action](R))};this.runner=this.strategy.connect(0,b)},f.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},f.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var m=this.abandonConnection();m.close()}},f.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},f.prototype.retryIn=function(m){var b=this;this.timeline.info({action:"retry",delay:m}),m>0&&this.emit("connecting_in",Math.round(m/1e3)),this.retryTimer=new m1(m||0,function(){b.disconnectInternally(),b.connect()})},f.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},f.prototype.setUnavailableTimer=function(){var m=this;this.unavailableTimer=new m1(this.options.unavailableTimeout,function(){m.updateState("unavailable")})},f.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},f.prototype.sendActivityCheck=function(){var m=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new m1(this.options.pongTimeout,function(){m.timeline.error({pong_timed_out:m.options.pongTimeout}),m.retryIn(0)})},f.prototype.resetActivityCheck=function(){var m=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new m1(this.activityTimeout,function(){m.sendActivityCheck()}))},f.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},f.prototype.buildConnectionCallbacks=function(m){var b=this;return Mt({},m,{message:function(L){b.resetActivityCheck(),b.emit("message",L)},ping:function(){b.send_event("pusher:pong",{})},activity:function(){b.resetActivityCheck()},error:function(L){b.emit("error",L)},closed:function(){b.abandonConnection(),b.shouldRetry()&&b.retryIn(1e3)}})},f.prototype.buildHandshakeCallbacks=function(m){var b=this;return Mt({},m,{connected:function(L){b.activityTimeout=Math.min(b.options.activityTimeout,L.activityTimeout,L.connection.activityTimeout||1/0),b.clearUnavailableTimer(),b.setConnection(L.connection),b.socket_id=b.connection.id,b.updateState("connected",{socket_id:b.socket_id})}})},f.prototype.buildErrorCallbacks=function(){var m=this,b=function(L){return function(R){R.error&&m.emit("error",{type:"WebSocketError",error:R.error}),L(R)}};return{tls_only:b(function(){m.usingTLS=!0,m.updateStrategy(),m.retryIn(0)}),refused:b(function(){m.disconnect()}),backoff:b(function(){m.retryIn(1e3)}),retry:b(function(){m.retryIn(0)})}},f.prototype.setConnection=function(m){this.connection=m;for(var b in this.connectionCallbacks)this.connection.bind(b,this.connectionCallbacks[b]);this.resetActivityCheck()},f.prototype.abandonConnection=function(){if(!!this.connection){this.stopActivityCheck();for(var m in this.connectionCallbacks)this.connection.unbind(m,this.connectionCallbacks[m]);var b=this.connection;return this.connection=null,b}},f.prototype.updateState=function(m,b){var L=this.state;if(this.state=m,L!==m){var R=m;R==="connected"&&(R+=" with new socket ID "+b.socket_id),Ne.debug("State changed",L+" -> "+R),this.timeline.info({state:m,params:b}),this.emit("state_change",{previous:L,current:m}),this.emit(m,b)}},f.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},f}(u1),Xr=Ln,Qo=function(){function p(){this.channels={}}return p.prototype.add=function(f,m){return this.channels[f]||(this.channels[f]=k0(f,m)),this.channels[f]},p.prototype.all=function(){return X1(this.channels)},p.prototype.find=function(f){return this.channels[f]},p.prototype.remove=function(f){var m=this.channels[f];return delete this.channels[f],m},p.prototype.disconnect=function(){e1(this.channels,function(f){f.disconnect()})},p}(),Hr=Qo;function k0(p,f){if(p.indexOf("private-encrypted-")===0){if(f.config.nacl)return F1.createEncryptedChannel(p,f,f.config.nacl);var m="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",b=K.buildLogSuffix("encryptedChannelSupport");throw new Ae(m+". "+b)}else{if(p.indexOf("private-")===0)return F1.createPrivateChannel(p,f);if(p.indexOf("presence-")===0)return F1.createPresenceChannel(p,f);if(p.indexOf("#")===0)throw new X('Cannot create a channel with name "'+p+'".');return F1.createChannel(p,f)}}var Yr={createChannels:function(){return new Hr},createConnectionManager:function(p,f){return new Xr(p,f)},createChannel:function(p,f){return new ft(p,f)},createPrivateChannel:function(p,f){return new v1(p,f)},createPresenceChannel:function(p,f){return new yo(p,f)},createEncryptedChannel:function(p,f,m){return new Br(p,f,m)},createTimelineSender:function(p,f){return new Dt(p,f)},createHandshake:function(p,f){return new at(p,f)},createAssistantToTheTransportManager:function(p,f,m){return new xe(p,f,m)}},F1=Yr,P0=function(){function p(f){this.options=f||{},this.livesLeft=this.options.lives||1/0}return p.prototype.getAssistant=function(f){return F1.createAssistantToTheTransportManager(this,f,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},p.prototype.isAlive=function(){return this.livesLeft>0},p.prototype.reportDeath=function(){this.livesLeft-=1},p}(),Sn=P0,Rn=function(){function p(f,m){this.strategies=f,this.loop=Boolean(m.loop),this.failFast=Boolean(m.failFast),this.timeout=m.timeout,this.timeoutLimit=m.timeoutLimit}return p.prototype.isSupported=function(){return Et(this.strategies,yt.method("isSupported"))},p.prototype.connect=function(f,m){var b=this,L=this.strategies,R=0,U=this.timeout,se=null,Ie=function(Ce,tt){tt?m(null,tt):(R=R+1,b.loop&&(R=R%L.length),R<L.length?(U&&(U=U*2,b.timeoutLimit&&(U=Math.min(U,b.timeoutLimit))),se=b.tryStrategy(L[R],f,{timeout:U,failFast:b.failFast},Ie)):m(!0))};return se=this.tryStrategy(L[R],f,{timeout:U,failFast:this.failFast},Ie),{abort:function(){se.abort()},forceMinPriority:function(Ce){f=Ce,se&&se.forceMinPriority(Ce)}}},p.prototype.tryStrategy=function(f,m,b,L){var R=null,U=null;return b.timeout>0&&(R=new m1(b.timeout,function(){U.abort(),L(!0)})),U=f.connect(m,function(se,Ie){se&&R&&R.isRunning()&&!b.failFast||(R&&R.ensureAborted(),L(se,Ie))}),{abort:function(){R&&R.ensureAborted(),U.abort()},forceMinPriority:function(se){U.forceMinPriority(se)}}},p}(),fr=Rn,$0=function(){function p(f){this.strategies=f}return p.prototype.isSupported=function(){return Et(this.strategies,yt.method("isSupported"))},p.prototype.connect=function(f,m){return en(this.strategies,f,function(b,L){return function(R,U){if(L[b].error=R,R){tn(L)&&m(!0);return}O1(L,function(se){se.forceMinPriority(U.transport.priority)}),m(null,U)}})},p}(),xo=$0;function en(p,f,m){var b=je(p,function(L,R,U,se){return L.connect(f,m(R,se))});return{abort:function(){O1(b,nt)},forceMinPriority:function(L){O1(b,function(R){R.forceMinPriority(L)})}}}function tn(p){return gt(p,function(f){return Boolean(f.error)})}function nt(p){!p.error&&!p.aborted&&(p.abort(),p.aborted=!0)}var J1=function(){function p(f,m,b){this.strategy=f,this.transports=m,this.ttl=b.ttl||1800*1e3,this.usingTLS=b.useTLS,this.timeline=b.timeline}return p.prototype.isSupported=function(){return this.strategy.isSupported()},p.prototype.connect=function(f,m){var b=this.usingTLS,L=ba(b),R=[this.strategy];if(L&&L.timestamp+this.ttl>=yt.now()){var U=this.transports[L.transport];U&&(this.timeline.info({cached:!0,transport:L.transport,latency:L.latency}),R.push(new fr([U],{timeout:L.latency*2+1e3,failFast:!0})))}var se=yt.now(),Ie=R.pop().connect(f,function Ce(tt,Gt){tt?(on(b),R.length>0?(se=yt.now(),Ie=R.pop().connect(f,Ce)):m(tt)):(qr(b,Gt.transport.name,yt.now()-se),m(null,Gt))});return{abort:function(){Ie.abort()},forceMinPriority:function(Ce){f=Ce,Ie&&Ie.forceMinPriority(Ce)}}},p}(),B0=J1;function rn(p){return"pusherTransport"+(p?"TLS":"NonTLS")}function ba(p){var f=We.getLocalStorage();if(f)try{var m=f[rn(p)];if(m)return JSON.parse(m)}catch{on(p)}return null}function qr(p,f,m){var b=We.getLocalStorage();if(b)try{b[rn(p)]=Vt({timestamp:yt.now(),transport:f,latency:m})}catch{}}function on(p){var f=We.getLocalStorage();if(f)try{delete f[rn(p)]}catch{}}var nn=function(){function p(f,m){var b=m.delay;this.strategy=f,this.options={delay:b}}return p.prototype.isSupported=function(){return this.strategy.isSupported()},p.prototype.connect=function(f,m){var b=this.strategy,L,R=new m1(this.options.delay,function(){L=b.connect(f,m)});return{abort:function(){R.ensureAborted(),L&&L.abort()},forceMinPriority:function(U){f=U,L&&L.forceMinPriority(U)}}},p}(),pr=nn,_a=function(){function p(f,m,b){this.test=f,this.trueBranch=m,this.falseBranch=b}return p.prototype.isSupported=function(){var f=this.test()?this.trueBranch:this.falseBranch;return f.isSupported()},p.prototype.connect=function(f,m){var b=this.test()?this.trueBranch:this.falseBranch;return b.connect(f,m)},p}(),j1=_a,H0=function(){function p(f){this.strategy=f}return p.prototype.isSupported=function(){return this.strategy.isSupported()},p.prototype.connect=function(f,m){var b=this.strategy.connect(f,function(L,R){R&&b.abort(),m(L,R)});return b},p}(),A0=H0;function gr(p){return function(){return p.isSupported()}}var Ar=function(p,f,m){var b={};function L(Wn,ai,eo,li,si){var to=m(p,Wn,ai,eo,li,si);return b[Wn]=to,to}var R=Object.assign({},f,{hostNonTLS:p.wsHost+":"+p.wsPort,hostTLS:p.wsHost+":"+p.wssPort,httpPath:p.wsPath}),U=Object.assign({},R,{useTLS:!0}),se=Object.assign({},f,{hostNonTLS:p.httpHost+":"+p.httpPort,hostTLS:p.httpHost+":"+p.httpsPort,httpPath:p.httpPath}),Ie={loop:!0,timeout:15e3,timeoutLimit:6e4},Ce=new Sn({lives:2,minPingDelay:1e4,maxPingDelay:p.activityTimeout}),tt=new Sn({lives:2,minPingDelay:1e4,maxPingDelay:p.activityTimeout}),Gt=L("ws","ws",3,R,Ce),k1=L("wss","ws",3,U,Ce),ri=L("sockjs","sockjs",1,se),Vn=L("xhr_streaming","xhr_streaming",1,se,tt),oi=L("xdr_streaming","xdr_streaming",1,se,tt),Cr=L("xhr_polling","xhr_polling",1,se),ni=L("xdr_polling","xdr_polling",1,se),fn=new fr([Gt],Ie),pn=new fr([k1],Ie),ii=new fr([ri],Ie),Zn=new fr([new j1(gr(Vn),Vn,oi)],Ie),zn=new fr([new j1(gr(Cr),Cr,ni)],Ie),Nn=new fr([new j1(gr(Zn),new xo([Zn,new pr(zn,{delay:4e3})]),zn)],Ie),Ro=new j1(gr(Nn),Nn,ii),gn;return f.useTLS?gn=new xo([fn,new pr(Ro,{delay:2e3})]):gn=new xo([fn,new pr(pn,{delay:2e3}),new pr(Ro,{delay:5e3})]),new B0(new A0(new j1(gr(Gt),gn,Ro)),b,{ttl:18e5,timeline:f.timeline,useTLS:f.useTLS})},an=Ar,Jr=function(){var p=this;p.timeline.info(p.buildTimelineMessage({transport:p.name+(p.options.useTLS?"s":"")})),p.hooks.isInitialized()?p.changeState("initialized"):p.hooks.file?(p.changeState("initializing"),he.load(p.hooks.file,{useTLS:p.options.useTLS},function(f,m){p.hooks.isInitialized()?(p.changeState("initialized"),m(!0)):(f&&p.onError(f),p.onClose(),m(!1))})):p.onClose()},T0={getRequest:function(p){var f=new window.XDomainRequest;return f.ontimeout=function(){p.emit("error",new Ee),p.close()},f.onerror=function(m){p.emit("error",m),p.close()},f.onprogress=function(){f.responseText&&f.responseText.length>0&&p.onChunk(200,f.responseText)},f.onload=function(){f.responseText&&f.responseText.length>0&&p.onChunk(200,f.responseText),p.emit("finished",200),p.close()},f},abortRequest:function(p){p.ontimeout=p.onerror=p.onprogress=p.onload=null,p.abort()}},O0=T0,In=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),ln=256*1024,F0=function(p){In(f,p);function f(m,b,L){var R=p.call(this)||this;return R.hooks=m,R.method=b,R.url=L,R}return f.prototype.start=function(m){var b=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){b.close()},We.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(m)},f.prototype.close=function(){this.unloader&&(We.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},f.prototype.onChunk=function(m,b){for(;;){var L=this.advanceBuffer(b);if(L)this.emit("chunk",{status:m,data:L});else break}this.isBufferTooLong(b)&&this.emit("buffer_too_long")},f.prototype.advanceBuffer=function(m){var b=m.slice(this.position),L=b.indexOf(`
`);return L!==-1?(this.position+=L+1,b.slice(0,L)):null},f.prototype.isBufferTooLong=function(m){return this.position===m.length&&m.length>ln},f}(u1),Mn=F0,sn;(function(p){p[p.CONNECTING=0]="CONNECTING",p[p.OPEN=1]="OPEN",p[p.CLOSED=3]="CLOSED"})(sn||(sn={}));var Tr=sn,un=1,j0=function(){function p(f,m){this.hooks=f,this.session=Pn(1e3)+"/"+$n(8),this.location=V0(m),this.readyState=Tr.CONNECTING,this.openStream()}return p.prototype.send=function(f){return this.sendRaw(JSON.stringify([f]))},p.prototype.ping=function(){this.hooks.sendHeartbeat(this)},p.prototype.close=function(f,m){this.onClose(f,m,!0)},p.prototype.sendRaw=function(f){if(this.readyState===Tr.OPEN)try{return We.createSocketRequest("POST",kn(Dn(this.location,this.session))).start(f),!0}catch{return!1}else return!1},p.prototype.reconnect=function(){this.closeStream(),this.openStream()},p.prototype.onClose=function(f,m,b){this.closeStream(),this.readyState=Tr.CLOSED,this.onclose&&this.onclose({code:f,reason:m,wasClean:b})},p.prototype.onChunk=function(f){if(f.status===200){this.readyState===Tr.OPEN&&this.onActivity();var m,b=f.data.slice(0,1);switch(b){case"o":m=JSON.parse(f.data.slice(1)||"{}"),this.onOpen(m);break;case"a":m=JSON.parse(f.data.slice(1)||"[]");for(var L=0;L<m.length;L++)this.onEvent(m[L]);break;case"m":m=JSON.parse(f.data.slice(1)||"null"),this.onEvent(m);break;case"h":this.hooks.onHeartbeat(this);break;case"c":m=JSON.parse(f.data.slice(1)||"[]"),this.onClose(m[0],m[1],!0);break}}},p.prototype.onOpen=function(f){this.readyState===Tr.CONNECTING?(f&&f.hostname&&(this.location.base=Z0(this.location.base,f.hostname)),this.readyState=Tr.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},p.prototype.onEvent=function(f){this.readyState===Tr.OPEN&&this.onmessage&&this.onmessage({data:f})},p.prototype.onActivity=function(){this.onactivity&&this.onactivity()},p.prototype.onError=function(f){this.onerror&&this.onerror(f)},p.prototype.openStream=function(){var f=this;this.stream=We.createSocketRequest("POST",kn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(m){f.onChunk(m)}),this.stream.bind("finished",function(m){f.hooks.onFinished(f,m)}),this.stream.bind("buffer_too_long",function(){f.reconnect()});try{this.stream.start()}catch(m){yt.defer(function(){f.onError(m),f.onClose(1006,"Could not start streaming",!1)})}},p.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},p}();function V0(p){var f=/([^\?]*)\/*(\??.*)/.exec(p);return{base:f[1],queryString:f[2]}}function Dn(p,f){return p.base+"/"+f+"/xhr_send"}function kn(p){var f=p.indexOf("?")===-1?"?":"&";return p+f+"t="+ +new Date+"&n="+un++}function Z0(p,f){var m=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(p);return m[1]+f+m[3]}function Pn(p){return Math.floor(Math.random()*p)}function $n(p){for(var f=[],m=0;m<p;m++)f.push(Pn(32).toString(32));return f.join("")}var ya=j0,xa={getReceiveURL:function(p,f){return p.base+"/"+f+"/xhr_streaming"+p.queryString},onHeartbeat:function(p){p.sendRaw("[]")},sendHeartbeat:function(p){p.sendRaw("[]")},onFinished:function(p,f){p.onClose(1006,"Connection interrupted ("+f+")",!1)}},z0=xa,Bn={getReceiveURL:function(p,f){return p.base+"/"+f+"/xhr"+p.queryString},onHeartbeat:function(){},sendHeartbeat:function(p){p.sendRaw("[]")},onFinished:function(p,f){f===200?p.reconnect():p.onClose(1006,"Connection interrupted ("+f+")",!1)}},N0=Bn,La={getRequest:function(p){var f=We.getXHRAPI(),m=new f;return m.onreadystatechange=m.onprogress=function(){switch(m.readyState){case 3:m.responseText&&m.responseText.length>0&&p.onChunk(m.status,m.responseText);break;case 4:m.responseText&&m.responseText.length>0&&p.onChunk(m.status,m.responseText),p.emit("finished",m.status),p.close();break}},m},abortRequest:function(p){p.onreadystatechange=null,p.abort()}},W0=La,Sa={createStreamingSocket:function(p){return this.createSocket(z0,p)},createPollingSocket:function(p){return this.createSocket(N0,p)},createSocket:function(p,f){return new ya(p,f)},createXHR:function(p,f){return this.createRequest(W0,p,f)},createRequest:function(p,f,m){return new Mn(p,f,m)}},Hn=Sa;Hn.createXDR=function(p,f){return this.createRequest(O0,p,f)};var Ra=Hn,U0={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:N,DependenciesReceivers:H,getDefaultStrategy:an,Transports:Q,transportConnectionInitializer:Jr,HTTPFactory:Ra,TimelineTransport:Vo,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(p){var f=this;window.Pusher=p;var m=function(){f.onDocumentBody(p.ready)};window.JSON?m():he.load("json2",{},m)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:$e,jsonp:s1}},onDocumentBody:function(p){var f=this;document.body?p():setTimeout(function(){f.onDocumentBody(p)},0)},createJSONPRequest:function(p,f){return new Y1(p,f)},createScriptRequest:function(p){return new cr(p)},getLocalStorage:function(){try{return window.localStorage}catch{return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var p=this.getXHRAPI();return new p},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return ae},createWebSocket:function(p){var f=this.getWebSocketAPI();return new f(p)},createSocketRequest:function(p,f){if(this.isXHRSupported())return this.HTTPFactory.createXHR(p,f);if(this.isXDRSupported(f.indexOf("https:")===0))return this.HTTPFactory.createXDR(p,f);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var p=this.getXHRAPI();return Boolean(p)&&new p().withCredentials!==void 0},isXDRSupported:function(p){var f=p?"https:":"http:",m=this.getProtocol();return Boolean(window.XDomainRequest)&&m===f},addUnloadListener:function(p){window.addEventListener!==void 0?window.addEventListener("unload",p,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",p)},removeUnloadListener:function(p){window.addEventListener!==void 0?window.removeEventListener("unload",p,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",p)}},We=U0,An;(function(p){p[p.ERROR=3]="ERROR",p[p.INFO=6]="INFO",p[p.DEBUG=7]="DEBUG"})(An||(An={}));var cn=An,Tn=function(){function p(f,m,b){this.key=f,this.session=m,this.events=[],this.options=b||{},this.sent=0,this.uniqueID=0}return p.prototype.log=function(f,m){f<=this.options.level&&(this.events.push(Mt({},m,{timestamp:yt.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},p.prototype.error=function(f){this.log(cn.ERROR,f)},p.prototype.info=function(f){this.log(cn.INFO,f)},p.prototype.debug=function(f){this.log(cn.DEBUG,f)},p.prototype.isEmpty=function(){return this.events.length===0},p.prototype.send=function(f,m){var b=this,L=Mt({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],f(L,function(R,U){R||b.sent++,m&&m(R,U)}),!0},p.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},p}(),K0=Tn,Ia=function(){function p(f,m,b,L){this.name=f,this.priority=m,this.transport=b,this.options=L||{}}return p.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},p.prototype.connect=function(f,m){var b=this;if(this.isSupported()){if(this.priority<f)return On(new me,m)}else return On(new Se,m);var L=!1,R=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),U=null,se=function(){R.unbind("initialized",se),R.connect()},Ie=function(){U=F1.createHandshake(R,function(k1){L=!0,Gt(),m(null,k1)})},Ce=function(k1){Gt(),m(k1)},tt=function(){Gt();var k1;k1=Vt(R),m(new ve(k1))},Gt=function(){R.unbind("initialized",se),R.unbind("open",Ie),R.unbind("error",Ce),R.unbind("closed",tt)};return R.bind("initialized",se),R.bind("open",Ie),R.bind("error",Ce),R.bind("closed",tt),R.initialize(),{abort:function(){L||(Gt(),U?U.close():R.close())},forceMinPriority:function(k1){L||b.priority<k1&&(U?U.close():R.close())}}},p}(),Ma=Ia;function On(p,f){return yt.defer(function(){f(p)}),{abort:function(){},forceMinPriority:function(){}}}var Da=We.Transports,ka=function(p,f,m,b,L,R){var U=Da[m];if(!U)throw new ee(m);var se=(!p.enabledTransports||S1(p.enabledTransports,f)!==-1)&&(!p.disabledTransports||S1(p.disabledTransports,f)===-1),Ie;return se?(L=Object.assign({ignoreNullOrigin:p.ignoreNullOrigin},L),Ie=new Ma(f,b,R?R.getAssistant(U):U,L)):Ie=Fn,Ie},Fn={isSupported:function(){return!1},connect:function(p,f){var m=yt.defer(function(){f(new Se)});return{abort:function(){m.ensureAborted()},forceMinPriority:function(){}}}},Pa=function(p,f){var m="socket_id="+encodeURIComponent(p.socketId);for(var b in f.params)m+="&"+encodeURIComponent(b)+"="+encodeURIComponent(f.params[b]);return m},G0=function(p){if(typeof We.getAuthorizers()[p.transport]>"u")throw"'"+p.transport+"' is not a recognized auth transport";return function(f,m){var b=Pa(f,p);We.getAuthorizers()[p.transport](We,b,p,T.UserAuthentication,m)}},X0=G0,Y0=function(p,f){var m="socket_id="+encodeURIComponent(p.socketId);m+="&channel_name="+encodeURIComponent(p.channelName);for(var b in f.params)m+="&"+encodeURIComponent(b)+"="+encodeURIComponent(f.params[b]);return m},q0=function(p){if(typeof We.getAuthorizers()[p.transport]>"u")throw"'"+p.transport+"' is not a recognized auth transport";return function(f,m){var b=Y0(f,p);We.getAuthorizers()[p.transport](We,b,p,T.ChannelAuthorization,m)}},Lo=q0,jn=function(p,f,m){var b={authTransport:f.transport,authEndpoint:f.endpoint,auth:{params:f.params,headers:f.headers}};return function(L,R){var U=p.channel(L.channelName),se=m(U,b);se.authorize(L.socketId,R)}},Qr=function(){return Qr=Object.assign||function(p){for(var f,m=1,b=arguments.length;m<b;m++){f=arguments[m];for(var L in f)Object.prototype.hasOwnProperty.call(f,L)&&(p[L]=f[L])}return p},Qr.apply(this,arguments)};function dn(p,f){var m={activityTimeout:p.activityTimeout||j.activityTimeout,cluster:p.cluster||j.cluster,httpPath:p.httpPath||j.httpPath,httpPort:p.httpPort||j.httpPort,httpsPort:p.httpsPort||j.httpsPort,pongTimeout:p.pongTimeout||j.pongTimeout,statsHost:p.statsHost||j.stats_host,unavailableTimeout:p.unavailableTimeout||j.unavailableTimeout,wsPath:p.wsPath||j.wsPath,wsPort:p.wsPort||j.wsPort,wssPort:p.wssPort||j.wssPort,enableStats:hn(p),httpHost:et(p),useTLS:mt(p),wsHost:D1(p),userAuthenticator:Zt(p),channelAuthorizer:Q0(p,f)};return"disabledTransports"in p&&(m.disabledTransports=p.disabledTransports),"enabledTransports"in p&&(m.enabledTransports=p.enabledTransports),"ignoreNullOrigin"in p&&(m.ignoreNullOrigin=p.ignoreNullOrigin),"timelineParams"in p&&(m.timelineParams=p.timelineParams),"nacl"in p&&(m.nacl=p.nacl),m}function et(p){return p.httpHost?p.httpHost:p.cluster?"sockjs-"+p.cluster+".pusher.com":j.httpHost}function D1(p){return p.wsHost?p.wsHost:p.cluster?mr(p.cluster):mr(j.cluster)}function mr(p){return"ws-"+p+".pusher.com"}function mt(p){return We.getProtocol()==="https:"?!0:p.forceTLS!==!1}function hn(p){return"enableStats"in p?p.enableStats:"disableStats"in p?!p.disableStats:!1}function Zt(p){var f=Qr({},j.userAuthentication,p.userAuthentication);return"customHandler"in f&&f.customHandler!=null?f.customHandler:X0(f)}function J0(p,f){var m;return"channelAuthorization"in p?m=Qr({},j.channelAuthorization,p.channelAuthorization):(m={transport:p.authTransport||j.authTransport,endpoint:p.authEndpoint||j.authEndpoint},"auth"in p&&("params"in p.auth&&(m.params=p.auth.params),"headers"in p.auth&&(m.headers=p.auth.headers)),"authorizer"in p&&(m.customHandler=jn(f,m,p.authorizer))),m}function Q0(p,f){var m=J0(p,f);return"customHandler"in m&&m.customHandler!=null?m.customHandler:Lo(m)}function E1(){var p,f,m=new Promise(function(b,L){p=b,f=L});return{promise:m,resolve:p,reject:f}}var ei=E1,So=function(){var p=function(f,m){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,L){b.__proto__=L}||function(b,L){for(var R in L)L.hasOwnProperty(R)&&(b[R]=L[R])},p(f,m)};return function(f,m){p(f,m);function b(){this.constructor=f}f.prototype=m===null?Object.create(m):(b.prototype=m.prototype,new b)}}(),Bt=function(p){So(f,p);function f(m){var b=p.call(this,function(L,R){Ne.debug("No callbacks on user for "+L)})||this;return b.signin_requested=!1,b.user_data=null,b.serverToUserChannel=null,b.signinDonePromise=null,b._signinDoneResolve=null,b._onAuthorize=function(L,R){if(L){Ne.warn("Error during signin: "+L),b._cleanup();return}b.pusher.send_event("pusher:signin",{auth:R.auth,user_data:R.user_data})},b.pusher=m,b.pusher.connection.bind("state_change",function(L){var R=L.previous,U=L.current;R!=="connected"&&U==="connected"&&b._signin(),R==="connected"&&U!=="connected"&&(b._cleanup(),b._newSigninPromiseIfNeeded())}),b.pusher.connection.bind("message",function(L){var R=L.event;R==="pusher:signin_success"&&b._onSigninSuccess(L.data),b.serverToUserChannel&&b.serverToUserChannel.name===L.channel&&b.serverToUserChannel.handleEvent(L)}),b}return f.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},f.prototype._signin=function(){!this.signin_requested||(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},f.prototype._onSigninSuccess=function(m){try{this.user_data=JSON.parse(m.user_data)}catch{Ne.error("Failed parsing user data after signin: "+m.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Ne.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},f.prototype._subscribeChannels=function(){var m=this,b=function(L){L.subscriptionPending&&L.subscriptionCancelled?L.reinstateSubscription():!L.subscriptionPending&&m.pusher.connection.state==="connected"&&L.subscribe()};this.serverToUserChannel=new ft("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(L,R){L.indexOf("pusher_internal:")===0||L.indexOf("pusher:")===0||m.emit(L,R)}),b(this.serverToUserChannel)},f.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},f.prototype._newSigninPromiseIfNeeded=function(){if(!!this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var m=ei(),b=m.promise,L=m.resolve,R=m.reject;b.done=!1;var U=function(){b.done=!0};b.then(U).catch(U),this.signinDonePromise=b,this._signinDoneResolve=L}},f}(u1),M=Bt,V1=function(){function p(f,m){var b=this;if(ti(f),m=m||{},!m.cluster&&!(m.wsHost||m.httpHost)){var L=K.buildLogSuffix("javascriptQuickStart");Ne.warn("You should always specify a cluster when connecting. "+L)}"disableStats"in m&&Ne.warn("The disableStats option is deprecated in favor of enableStats"),this.key=f,this.config=dn(m,this),this.channels=F1.createChannels(),this.global_emitter=new u1,this.sessionID=Math.floor(Math.random()*1e9),this.timeline=new K0(this.key,this.sessionID,{cluster:this.config.cluster,features:p.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:cn.INFO,version:j.VERSION}),this.config.enableStats&&(this.timelineSender=F1.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+We.TimelineTransport.name}));var R=function(U){return We.getDefaultStrategy(b.config,U,ka)};this.connection=F1.createConnectionManager(this.key,{getStrategy:R,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",function(){b.subscribeAll(),b.timelineSender&&b.timelineSender.send(b.connection.isUsingTLS())}),this.connection.bind("message",function(U){var se=U.event,Ie=se.indexOf("pusher_internal:")===0;if(U.channel){var Ce=b.channel(U.channel);Ce&&Ce.handleEvent(U)}Ie||b.global_emitter.emit(U.event,U.data)}),this.connection.bind("connecting",function(){b.channels.disconnect()}),this.connection.bind("disconnected",function(){b.channels.disconnect()}),this.connection.bind("error",function(U){Ne.warn(U)}),p.instances.push(this),this.timeline.info({instances:p.instances.length}),this.user=new M(this),p.isReady&&this.connect()}return p.ready=function(){p.isReady=!0;for(var f=0,m=p.instances.length;f<m;f++)p.instances[f].connect()},p.getClientFeatures=function(){return ur(qe({ws:We.Transports.ws},function(f){return f.isSupported({})}))},p.prototype.channel=function(f){return this.channels.find(f)},p.prototype.allChannels=function(){return this.channels.all()},p.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var f=this.connection.isUsingTLS(),m=this.timelineSender;this.timelineSenderTimer=new Ir(6e4,function(){m.send(f)})}},p.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},p.prototype.bind=function(f,m,b){return this.global_emitter.bind(f,m,b),this},p.prototype.unbind=function(f,m,b){return this.global_emitter.unbind(f,m,b),this},p.prototype.bind_global=function(f){return this.global_emitter.bind_global(f),this},p.prototype.unbind_global=function(f){return this.global_emitter.unbind_global(f),this},p.prototype.unbind_all=function(f){return this.global_emitter.unbind_all(),this},p.prototype.subscribeAll=function(){var f;for(f in this.channels.channels)this.channels.channels.hasOwnProperty(f)&&this.subscribe(f)},p.prototype.subscribe=function(f){var m=this.channels.add(f,this);return m.subscriptionPending&&m.subscriptionCancelled?m.reinstateSubscription():!m.subscriptionPending&&this.connection.state==="connected"&&m.subscribe(),m},p.prototype.unsubscribe=function(f){var m=this.channels.find(f);m&&m.subscriptionPending?m.cancelSubscription():(m=this.channels.remove(f),m&&m.subscribed&&m.unsubscribe())},p.prototype.send_event=function(f,m,b){return this.connection.send_event(f,m,b)},p.prototype.shouldUseTLS=function(){return this.config.useTLS},p.prototype.signin=function(){this.user.signin()},p.instances=[],p.isReady=!1,p.logToConsole=!1,p.Runtime=We,p.ScriptReceivers=We.ScriptReceivers,p.DependenciesReceivers=We.DependenciesReceivers,p.auth_callbacks=We.auth_callbacks,p}(),Kt=B.default=V1;function ti(p){if(p==null)throw"You must pass your app key when you instantiate Pusher."}We.setup(V1)}])})},6808:function(Fe,J,B){(function($,a){a(J,B(8160))})(this,function($,a){"use strict";function N(K){if(K&&K.__esModule)return K;var T=Object.create(null);return K&&Object.keys(K).forEach(function(O){if(O!=="default"){var G=Object.getOwnPropertyDescriptor(K,O);Object.defineProperty(T,O,G.get?G:{enumerable:!0,get:function(){return K[O]}})}}),T.default=K,Object.freeze(T)}var ne=N(a);function j(K,T){return j=Object.setPrototypeOf||function(G,X){return G.__proto__=X,G},j(K,T)}function q(K,T){K.prototype=Object.create(T.prototype),K.prototype.constructor=K,j(K,T)}var w=function(T,O){return T===void 0&&(T=[]),O===void 0&&(O=[]),T.length!==O.length||T.some(function(G,X){return!Object.is(G,O[X])})},H={error:null},he=function(K){q(T,K);function T(){for(var G,X=arguments.length,Ee=new Array(X),me=0;me<X;me++)Ee[me]=arguments[me];return G=K.call.apply(K,[this].concat(Ee))||this,G.state=H,G.resetErrorBoundary=function(){for(var ve,Ae=arguments.length,ee=new Array(Ae),Se=0;Se<Ae;Se++)ee[Se]=arguments[Se];G.props.onReset==null||(ve=G.props).onReset.apply(ve,ee),G.reset()},G}T.getDerivedStateFromError=function(X){return{error:X}};var O=T.prototype;return O.reset=function(){this.setState(H)},O.componentDidCatch=function(X,Ee){var me,ve;(me=(ve=this.props).onError)==null||me.call(ve,X,Ee)},O.componentDidUpdate=function(X,Ee){var me=this.state.error,ve=this.props.resetKeys;if(me!==null&&Ee.error!==null&&w(X.resetKeys,ve)){var Ae,ee;(Ae=(ee=this.props).onResetKeysChange)==null||Ae.call(ee,X.resetKeys,ve),this.reset()}},O.render=function(){var X=this.state.error,Ee=this.props,me=Ee.fallbackRender,ve=Ee.FallbackComponent,Ae=Ee.fallback;if(X!==null){var ee={error:X,resetErrorBoundary:this.resetErrorBoundary};if(ne.isValidElement(Ae))return Ae;if(typeof me=="function")return me(ee);if(ve)return ne.createElement(ve,ee);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},T}(ne.Component);function te(K,T){var O=function(Ee){return ne.createElement(he,T,ne.createElement(K,Ee))},G=K.displayName||K.name||"Unknown";return O.displayName="withErrorBoundary("+G+")",O}function le(K){var T=ne.useState(null),O=T[0],G=T[1];if(K!=null)throw K;if(O!=null)throw O;return G}$.ErrorBoundary=he,$.useErrorHandler=le,$.withErrorBoundary=te,Object.defineProperty($,"__esModule",{value:!0})})},5683:(Fe,J,B)=>{"use strict";B.d(J,{f:()=>N});var $=B(8160);function a(ne){var j=ne.freeze,q=ne.children,w=(0,$.useRef)({}).current;if(j&&!w.promise)throw w.promise=new Promise(function(H){w.resolve=H}),w.promise;if(j)throw w.promise;return w.promise&&(w.resolve(),w.promise=void 0),$.createElement($.Fragment,null,q)}function N(ne){var j=ne.freeze,q=ne.children,w=ne.placeholder,H=w===void 0?null:w;return $.createElement($.Suspense,{fallback:H},$.createElement(a,{freeze:j},q))}},7627:(Fe,J)=>{"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B=typeof Symbol=="function"&&Symbol.for,$=B?Symbol.for("react.element"):60103,a=B?Symbol.for("react.portal"):60106,N=B?Symbol.for("react.fragment"):60107,ne=B?Symbol.for("react.strict_mode"):60108,j=B?Symbol.for("react.profiler"):60114,q=B?Symbol.for("react.provider"):60109,w=B?Symbol.for("react.context"):60110,H=B?Symbol.for("react.async_mode"):60111,he=B?Symbol.for("react.concurrent_mode"):60111,te=B?Symbol.for("react.forward_ref"):60112,le=B?Symbol.for("react.suspense"):60113,K=B?Symbol.for("react.suspense_list"):60120,T=B?Symbol.for("react.memo"):60115,O=B?Symbol.for("react.lazy"):60116,G=B?Symbol.for("react.block"):60121,X=B?Symbol.for("react.fundamental"):60117,Ee=B?Symbol.for("react.responder"):60118,me=B?Symbol.for("react.scope"):60119;function ve(ee){if(typeof ee=="object"&&ee!==null){var Se=ee.$$typeof;switch(Se){case $:switch(ee=ee.type,ee){case H:case he:case N:case j:case ne:case le:return ee;default:switch(ee=ee&&ee.$$typeof,ee){case w:case te:case O:case T:case q:return ee;default:return Se}}case a:return Se}}}function Ae(ee){return ve(ee)===he}J.AsyncMode=H,J.ConcurrentMode=he,J.ContextConsumer=w,J.ContextProvider=q,J.Element=$,J.ForwardRef=te,J.Fragment=N,J.Lazy=O,J.Memo=T,J.Portal=a,J.Profiler=j,J.StrictMode=ne,J.Suspense=le,J.isAsyncMode=function(ee){return Ae(ee)||ve(ee)===H},J.isConcurrentMode=Ae,J.isContextConsumer=function(ee){return ve(ee)===w},J.isContextProvider=function(ee){return ve(ee)===q},J.isElement=function(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===$},J.isForwardRef=function(ee){return ve(ee)===te},J.isFragment=function(ee){return ve(ee)===N},J.isLazy=function(ee){return ve(ee)===O},J.isMemo=function(ee){return ve(ee)===T},J.isPortal=function(ee){return ve(ee)===a},J.isProfiler=function(ee){return ve(ee)===j},J.isStrictMode=function(ee){return ve(ee)===ne},J.isSuspense=function(ee){return ve(ee)===le},J.isValidElementType=function(ee){return typeof ee=="string"||typeof ee=="function"||ee===N||ee===he||ee===j||ee===ne||ee===le||ee===K||typeof ee=="object"&&ee!==null&&(ee.$$typeof===O||ee.$$typeof===T||ee.$$typeof===q||ee.$$typeof===w||ee.$$typeof===te||ee.$$typeof===X||ee.$$typeof===Ee||ee.$$typeof===me||ee.$$typeof===G)},J.typeOf=ve},9333:(Fe,J,B)=>{"use strict";Fe.exports=B(7627)},8379:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>w});var $=B(8160),a=B(8523),N=B.n(a),ne=B(5460),j=B(4168),q=function(H,he,te){te===void 0&&(te={});var le=te.video,K=te.onClose,T=K===void 0?j.ZT:K,O=(0,$.useState)(he),G=O[0],X=O[1];return(0,ne.Z)(function(){if(!!he&&!!H.current){var Ee=function(){le?.current&&(0,j.S1)(le.current,"webkitendfullscreen",Ee),T()},me=function(){if(N().isEnabled){var ve=N().isFullscreen;X(ve),ve||T()}};if(N().isEnabled){try{N().request(H.current),X(!0)}catch(ve){T(ve),X(!1)}N().on("change",me)}else le&&le.current&&le.current.webkitEnterFullscreen?(le.current.webkitEnterFullscreen(),(0,j.on)(le.current,"webkitendfullscreen",Ee),X(!0)):(T(),X(!1));return function(){if(X(!1),N().isEnabled)try{N().off("change",me),N().exit()}catch{}else le&&le.current&&le.current.webkitExitFullscreen&&((0,j.S1)(le.current,"webkitendfullscreen",Ee),le.current.webkitExitFullscreen())}}},[he,le,H]),G};const w=q},3738:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>a});var $=B(8160);function a(N){var ne=(0,$.useRef)();return(0,$.useEffect)(function(){ne.current=N}),ne.current}},2843:(Fe,J,B)=>{"use strict";B.d(J,{Z:()=>ne});var $=B(8160),a=function(j,q){return typeof q=="boolean"?q:!j},N=function(j){return(0,$.useReducer)(a,j)};const ne=N},8523:Fe=>{/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(){"use strict";var J=typeof window<"u"&&typeof window.document<"u"?window.document:{},B=Fe.exports,$=function(){for(var ne,j=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],q=0,w=j.length,H={};q<w;q++)if(ne=j[q],ne&&ne[1]in J){for(q=0;q<ne.length;q++)H[j[0][q]]=ne[q];return H}return!1}(),a={change:$.fullscreenchange,error:$.fullscreenerror},N={request:function(ne,j){return new Promise(function(q,w){var H=function(){this.off("change",H),q()}.bind(this);this.on("change",H),ne=ne||J.documentElement;var he=ne[$.requestFullscreen](j);he instanceof Promise&&he.then(H).catch(w)}.bind(this))},exit:function(){return new Promise(function(ne,j){if(!this.isFullscreen){ne();return}var q=function(){this.off("change",q),ne()}.bind(this);this.on("change",q);var w=J[$.exitFullscreen]();w instanceof Promise&&w.then(q).catch(j)}.bind(this))},toggle:function(ne,j){return this.isFullscreen?this.exit():this.request(ne,j)},onchange:function(ne){this.on("change",ne)},onerror:function(ne){this.on("error",ne)},on:function(ne,j){var q=a[ne];q&&J.addEventListener(q,j,!1)},off:function(ne,j){var q=a[ne];q&&J.removeEventListener(q,j,!1)},raw:$};if(!$){B?Fe.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(N,{isFullscreen:{get:function(){return Boolean(J[$.fullscreenElement])}},element:{enumerable:!0,get:function(){return J[$.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(J[$.fullscreenEnabled])}}}),B?Fe.exports=N:window.screenfull=N})()},1771:(Fe,J,B)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $=B(8160);function a(K,T){return K===T&&(K!==0||1/K===1/T)||K!==K&&T!==T}var N=typeof Object.is=="function"?Object.is:a,ne=$.useState,j=$.useEffect,q=$.useLayoutEffect,w=$.useDebugValue;function H(K,T){var O=T(),G=ne({inst:{value:O,getSnapshot:T}}),X=G[0].inst,Ee=G[1];return q(function(){X.value=O,X.getSnapshot=T,he(X)&&Ee({inst:X})},[K,O,T]),j(function(){return he(X)&&Ee({inst:X}),K(function(){he(X)&&Ee({inst:X})})},[K]),w(O),O}function he(K){var T=K.getSnapshot;K=K.value;try{var O=T();return!N(K,O)}catch{return!0}}function te(K,T){return T()}var le=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?te:H;J.useSyncExternalStore=$.useSyncExternalStore!==void 0?$.useSyncExternalStore:le},6165:(Fe,J,B)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $=B(8160),a=B(4361);function N(te,le){return te===le&&(te!==0||1/te===1/le)||te!==te&&le!==le}var ne=typeof Object.is=="function"?Object.is:N,j=a.useSyncExternalStore,q=$.useRef,w=$.useEffect,H=$.useMemo,he=$.useDebugValue;J.useSyncExternalStoreWithSelector=function(te,le,K,T,O){var G=q(null);if(G.current===null){var X={hasValue:!1,value:null};G.current=X}else X=G.current;G=H(function(){function me(we){if(!ve){if(ve=!0,Ae=we,we=T(we),O!==void 0&&X.hasValue){var Pe=X.value;if(O(Pe,we))return ee=Pe}return ee=we}if(Pe=ee,ne(Ae,we))return Pe;var $e=T(we);return O!==void 0&&O(Pe,$e)?Pe:(Ae=we,ee=$e)}var ve=!1,Ae,ee,Se=K===void 0?null:K;return[function(){return me(le())},Se===null?void 0:function(){return me(Se())}]},[le,K,T,O]);var Ee=j(te,G[0],G[1]);return w(function(){X.hasValue=!0,X.value=Ee},[Ee]),he(Ee),Ee}},4361:(Fe,J,B)=>{"use strict";Fe.exports=B(1771)},1942:(Fe,J,B)=>{"use strict";Fe.exports=B(6165)},5106:(Fe,J,B)=>{"use strict";B.d(J,{gr:()=>te,iK:()=>K});var $=B(7924);const a=T=>T.method!==void 0&&T.method==="call",N=T=>T.error===null&&typeof T.id=="number",ne=T=>{const O=new Map([[0,()=>{}]]),G=new Map([[0,()=>{}]]),X=new Map,Ee=new Worker(T);return Ee.addEventListener("message",({data:Se})=>{if(a(Se)){const{params:{timerId:we,timerType:Pe}}=Se;if(Pe==="interval"){const $e=O.get(we);if(typeof $e=="number"){const It=X.get($e);if(It===void 0||It.timerId!==we||It.timerType!==Pe)throw new Error("The timer is in an undefined state.")}else if(typeof $e<"u")$e();else throw new Error("The timer is in an undefined state.")}else if(Pe==="timeout"){const $e=G.get(we);if(typeof $e=="number"){const It=X.get($e);if(It===void 0||It.timerId!==we||It.timerType!==Pe)throw new Error("The timer is in an undefined state.")}else if(typeof $e<"u")$e(),G.delete(we);else throw new Error("The timer is in an undefined state.")}}else if(N(Se)){const{id:we}=Se,Pe=X.get(we);if(Pe===void 0)throw new Error("The timer is in an undefined state.");const{timerId:$e,timerType:It}=Pe;X.delete(we),It==="interval"?O.delete($e):G.delete($e)}else{const{error:{message:we}}=Se;throw new Error(we)}}),{clearInterval:Se=>{const we=(0,$.generateUniqueNumber)(X);X.set(we,{timerId:Se,timerType:"interval"}),O.set(Se,we),Ee.postMessage({id:we,method:"clear",params:{timerId:Se,timerType:"interval"}})},clearTimeout:Se=>{const we=(0,$.generateUniqueNumber)(X);X.set(we,{timerId:Se,timerType:"timeout"}),G.set(Se,we),Ee.postMessage({id:we,method:"clear",params:{timerId:Se,timerType:"timeout"}})},setInterval:(Se,we)=>{const Pe=(0,$.generateUniqueNumber)(O);return O.set(Pe,()=>{Se(),typeof O.get(Pe)=="function"&&Ee.postMessage({id:null,method:"set",params:{delay:we,now:performance.now(),timerId:Pe,timerType:"interval"}})}),Ee.postMessage({id:null,method:"set",params:{delay:we,now:performance.now(),timerId:Pe,timerType:"interval"}}),Pe},setTimeout:(Se,we)=>{const Pe=(0,$.generateUniqueNumber)(G);return G.set(Pe,Se),Ee.postMessage({id:null,method:"set",params:{delay:we,now:performance.now(),timerId:Pe,timerType:"timeout"}}),Pe}}};let j=null;const H=((T,O)=>()=>{if(j!==null)return j;const G=new Blob([O],{type:"application/javascript; charset=utf-8"}),X=URL.createObjectURL(G);return j=T(X),j.setTimeout(()=>URL.revokeObjectURL(X),0),j})(ne,`(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error('The given type "'.concat(i,'" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error('The given method "'.concat(s.method,'" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error('The given type "'.concat(d,'" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`),he=T=>H().clearInterval(T),te=T=>H().clearTimeout(T),le=(T,O)=>H().setInterval(T,O),K=(T,O)=>H().setTimeout(T,O)},5836:(Fe,J,B)=>{"use strict";B.d(J,{Dr:()=>YQ});var $={};B.r($),B.d($,{directoryOpen:()=>oc,directoryOpenLegacy:()=>Rs,directoryOpenModern:()=>xs,fileOpen:()=>zi,fileOpenLegacy:()=>Ss,fileOpenModern:()=>_s,fileSave:()=>bs,fileSaveLegacy:()=>Is,fileSaveModern:()=>Ls,supported:()=>Po});var a=B(8160),N=Object.defineProperty,ne=(e,t,r)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,j=(e,t,r)=>(ne(e,typeof t!="symbol"?t+"":t,r),r),q=class{static clamp(e,t,r){return Math.max(t,typeof r<"u"?Math.min(e,r):e)}static clampV(e,t,r){return e.map(o=>r?q.clamp(o,t,r):q.clamp(o,t))}static cross(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}static snap(e,t=1){return[Math.round(e[0]/t)*t,Math.round(e[1]/t)*t]}},w=q;j(w,"neg",e=>[-e[0],-e[1]]),j(w,"add",(e,t)=>[e[0]+t[0],e[1]+t[1]]),j(w,"addScalar",(e,t)=>[e[0]+t,e[1]+t]),j(w,"sub",(e,t)=>[e[0]-t[0],e[1]-t[1]]),j(w,"subScalar",(e,t)=>[e[0]-t,e[1]-t]),j(w,"vec",(e,t)=>[t[0]-e[0],t[1]-e[1]]),j(w,"mul",(e,t)=>[e[0]*t,e[1]*t]),j(w,"mulV",(e,t)=>[e[0]*t[0],e[1]*t[1]]),j(w,"div",(e,t)=>[e[0]/t,e[1]/t]),j(w,"divV",(e,t)=>[e[0]/t[0],e[1]/t[1]]),j(w,"per",e=>[e[1],-e[0]]),j(w,"dpr",(e,t)=>e[0]*t[0]+e[1]*t[1]),j(w,"cpr",(e,t)=>e[0]*t[1]-t[0]*e[1]),j(w,"len2",e=>e[0]*e[0]+e[1]*e[1]),j(w,"len",e=>Math.hypot(e[0],e[1])),j(w,"pry",(e,t)=>q.dpr(e,t)/q.len(t)),j(w,"uni",e=>q.div(e,q.len(e))),j(w,"normalize",e=>q.uni(e)),j(w,"tangent",(e,t)=>q.uni(q.sub(e,t))),j(w,"dist2",(e,t)=>q.len2(q.sub(e,t))),j(w,"dist",(e,t)=>Math.hypot(e[1]-t[1],e[0]-t[0])),j(w,"fastDist",(e,t)=>{let r=[t[0]-e[0],t[1]-e[1]],o=[Math.abs(r[0]),Math.abs(r[1])],n=1/Math.max(o[0],o[1]);return n=n*(1.29289-(o[0]+o[1])*n*.29289),[r[0]*n,r[1]*n]}),j(w,"ang",(e,t)=>Math.atan2(q.cpr(e,t),q.dpr(e,t))),j(w,"angle",(e,t)=>Math.atan2(t[1]-e[1],t[0]-e[0])),j(w,"med",(e,t)=>q.mul(q.add(e,t),.5)),j(w,"rot",(e,t=0)=>[e[0]*Math.cos(t)-e[1]*Math.sin(t),e[0]*Math.sin(t)+e[1]*Math.cos(t)]),j(w,"rotWith",(e,t,r=0)=>{if(r===0)return e;let o=Math.sin(r),n=Math.cos(r),i=e[0]-t[0],l=e[1]-t[1],u=i*n-l*o,s=i*o+l*n;return[u+t[0],s+t[1]]}),j(w,"isEqual",(e,t)=>e[0]===t[0]&&e[1]===t[1]),j(w,"lrp",(e,t,r)=>q.add(e,q.mul(q.sub(t,e),r))),j(w,"int",(e,t,r,o,n=1)=>{let i=(q.clamp(r,o)-r)/(o-r);return q.add(q.mul(e,1-i),q.mul(t,n))}),j(w,"ang3",(e,t,r)=>{let o=q.vec(t,e),n=q.vec(t,r);return q.ang(o,n)}),j(w,"abs",e=>[Math.abs(e[0]),Math.abs(e[1])]),j(w,"rescale",(e,t)=>{let r=q.len(e);return[t*e[0]/r,t*e[1]/r]}),j(w,"isLeft",(e,t,r)=>(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])),j(w,"clockwise",(e,t,r)=>q.isLeft(e,t,r)>0),j(w,"toFixed",e=>e.map(t=>Math.round(t*100)/100)),j(w,"nearestPointOnLineThroughPoint",(e,t,r)=>q.add(e,q.mul(t,q.pry(q.sub(r,e),t)))),j(w,"distanceToLineThroughPoint",(e,t,r)=>q.dist(r,q.nearestPointOnLineThroughPoint(e,t,r))),j(w,"nearestPointOnLineSegment",(e,t,r,o=!0)=>{let n=q.uni(q.sub(t,e)),i=q.add(e,q.mul(n,q.pry(q.sub(r,e),n)));if(o){if(i[0]<Math.min(e[0],t[0]))return e[0]<t[0]?e:t;if(i[0]>Math.max(e[0],t[0]))return e[0]>t[0]?e:t;if(i[1]<Math.min(e[1],t[1]))return e[1]<t[1]?e:t;if(i[1]>Math.max(e[1],t[1]))return e[1]>t[1]?e:t}return i}),j(w,"distanceToLineSegment",(e,t,r,o=!0)=>q.dist(r,q.nearestPointOnLineSegment(e,t,r,o))),j(w,"nearestPointOnBounds",(e,t)=>[q.clamp(t[0],e.minX,e.maxX),q.clamp(t[1],e.minY,e.maxY)]),j(w,"distanceToBounds",(e,t)=>q.dist(t,q.nearestPointOnBounds(e,t))),j(w,"nudge",(e,t,r)=>q.isEqual(e,t)?e:q.add(e,q.mul(q.uni(q.sub(t,e)),r))),j(w,"nudgeAtAngle",(e,t,r)=>[Math.cos(t)*r+e[0],Math.sin(t)*r+e[1]]),j(w,"toPrecision",(e,t=4)=>[+e[0].toPrecision(t),+e[1].toPrecision(t)]),j(w,"pointsBetween",(e,t,r=6)=>Array.from(Array(r)).map((o,n)=>{let i=n/(r-1),l=Math.min(1,.5+Math.abs(.5-i));return[...q.lrp(e,t,i),l]})),j(w,"slope",(e,t)=>e[0]===t[0]?NaN:(e[1]-t[1])/(e[0]-t[0])),j(w,"max",(...e)=>[Math.max(...e.map(t=>t[0])),Math.max(...e.map(t=>t[1]))]),j(w,"min",(...e)=>[Math.min(...e.map(t=>t[0])),Math.min(...e.map(t=>t[1]))]);var H=w;function he(e,t,r){return Math.max(t,Math.min(e,r))}const te={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function le(e,t,r){return t===0||Math.abs(t)===1/0?Math.pow(e,r*5):e*t*r/(t+r*e)}function K(e,t,r,o=.15){return o===0?he(e,t,r):e<t?-le(t-e,r-t,o)+t:e>r?+le(e-r,r-t,o)+r:e}function T(e,[t,r],[o,n]){const[[i,l],[u,s]]=e;return[K(t,i,l,o),K(r,u,s,n)]}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(o){O(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}const Ee={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function me(e){return e?e[0].toUpperCase()+e.slice(1):""}const ve=["enter","leave"];function Ae(e=!1,t){return e&&!ve.includes(t)}function ee(e,t="",r=!1){const o=Ee[e],n=o&&o[t]||t;return"on"+me(e)+me(n)+(Ae(r,n)?"Capture":"")}const Se=["gotpointercapture","lostpointercapture"];function we(e){let t=e.substring(2).toLowerCase();const r=!!~t.indexOf("passive");r&&(t=t.replace("passive",""));const o=Se.includes(t)?"capturecapture":"capture",n=!!~t.indexOf(o);return n&&(t=t.replace("capture","")),{device:t,capture:n,passive:r}}function Pe(e,t=""){const r=Ee[e],o=r&&r[t]||t;return e+o}function $e(e){return"touches"in e}function It(e){return $e(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function A1(e){return Array.from(e.touches).filter(t=>{var r,o;return t.target===e.currentTarget||((r=e.currentTarget)===null||r===void 0||(o=r.contains)===null||o===void 0?void 0:o.call(r,t.target))})}function g1(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function K1(e){return $e(e)?g1(e)[0]:e}function a1(e,t){const r=t.clientX-e.clientX,o=t.clientY-e.clientY,n=(t.clientX+e.clientX)/2,i=(t.clientY+e.clientY)/2,l=Math.hypot(r,o);return{angle:-(Math.atan2(r,o)*180)/Math.PI,distance:l,origin:[n,i]}}function yr(e){return A1(e).map(t=>t.identifier)}function xr(e,t){const[r,o]=Array.from(e.touches).filter(n=>t.includes(n.identifier));return a1(r,o)}function l1(e){const t=K1(e);return $e(e)?t.identifier:t.pointerId}function L1(e){const t=K1(e);return[t.clientX,t.clientY]}const G1=40,Lr=800;function Sr(e){let{deltaX:t,deltaY:r,deltaMode:o}=e;return o===1?(t*=G1,r*=G1):o===2&&(t*=Lr,r*=Lr),[t,r]}function lr(e){var t,r;const{scrollX:o,scrollY:n,scrollLeft:i,scrollTop:l}=e.currentTarget;return[(t=o??i)!==null&&t!==void 0?t:0,(r=n??l)!==null&&r!==void 0?r:0]}function Rr(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:r,altKey:o,metaKey:n,ctrlKey:i}=e;Object.assign(t,{shiftKey:r,altKey:o,metaKey:n,ctrlKey:i})}return t}function T1(e,...t){return typeof e=="function"?e(...t):e}function m1(){}function Ir(...e){return e.length===0?m1:e.length===1?e[0]:function(){let t;for(const r of e)t=r.apply(this,arguments)||t;return t}}function sr(e,t){return Object.assign({},t,e||{})}const yt=32;class Mt{constructor(t,r,o){this.ctrl=t,this.args=r,this.key=o,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:r,ingKey:o,args:n}=this;r[o]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=n,t.axis=void 0,t.memo=void 0,t.elapsedTime=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const r=this.state,o=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=t.target,r.currentTarget=t.currentTarget,r.lastOffset=o.from?T1(o.from,r):r.offset,r.offset=r.lastOffset),r.startTime=r.timeStamp=t.timeStamp}computeValues(t){const r=this.state;r._values=t,r.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:r,config:o,shared:n}=this;r.args=this.args;let i=0;if(t&&(r.event=t,o.preventDefault&&t.cancelable&&r.event.preventDefault(),r.type=t.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,Rr(t)),n.down=n.pressed=n.buttons%2===1||n.touches>0,i=t.timeStamp-r.timeStamp,r.timeStamp=t.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const P=r._delta.map(Math.abs);te.addTo(r._distance,P)}this.axisIntent&&this.axisIntent(t);const[l,u]=r._movement,[s,c]=o.threshold,{_step:d,values:h}=r;if(o.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(l)>=s&&h[0]),d[1]===!1&&(d[1]=Math.abs(u)>=c&&h[1])):(d[0]===!1&&(d[0]=Math.abs(l)>=s&&Math.sign(l)*s),d[1]===!1&&(d[1]=Math.abs(u)>=c&&Math.sign(u)*c)),r.intentional=d[0]!==!1||d[1]!==!1,!r.intentional)return;const C=[0,0];if(o.hasCustomTransform){const[P,A]=h;C[0]=d[0]!==!1?P-d[0]:0,C[1]=d[1]!==!1?A-d[1]:0}else C[0]=d[0]!==!1?l-d[0]:0,C[1]=d[1]!==!1?u-d[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(C);const E=r.offset,v=r._active&&!r._blocked||r.active;v&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=n[this.ingKey]=r._active,t&&(r.first&&("bounds"in o&&(r._bounds=T1(o.bounds,r)),this.setup&&this.setup()),r.movement=C,this.computeOffset()));const[_,y]=r.offset,[[x,S],[D,F]]=r._bounds;r.overflow=[_<x?-1:_>S?1:0,y<D?-1:y>F?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const k=r._active?o.rubberband||[0,0]:[0,0];if(r.offset=T(r._bounds,r.offset,k),r.delta=te.sub(r.offset,E),this.computeMovement(),v&&(!r.last||i>yt)){r.delta=te.sub(r.offset,E);const P=r.delta.map(Math.abs);te.addTo(r.distance,P),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&i>0&&(r.velocity=[P[0]/i,P[1]/i])}}emit(){const t=this.state,r=this.shared,o=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!o.triggerAllEvents)return;const n=this.handler(X(X(X({},r),t),{},{[this.aliasKey]:t.values}));n!==void 0&&(t.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Mr([e,t],r){const o=Math.abs(e),n=Math.abs(t);if(o>n&&o>r)return"x";if(n>o&&n>r)return"y"}class S1 extends Mt{constructor(...t){super(...t),O(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=te.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=te.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const r=this.state,o=this.config;if(!r.axis&&t){const n=typeof o.axisThreshold=="object"?o.axisThreshold[It(t)]:o.axisThreshold;r.axis=Mr(r._movement,n)}r._blocked=(o.lockDirection||!!o.axis)&&!r.axis||!!o.axis&&o.axis!==r.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const e1=e=>e,ur=.15,X1={enabled(e=!0){return e},eventOptions(e,t,r){return X(X({},r.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[ur,ur];case!1:return[0,0];default:return te.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return te.toVector(e)},transform(e,t,r){const o=e||r.shared.transform;return this.hasCustomTransform=!!o,o||e1},threshold(e){return te.toVector(e,0)}},O1=0,je=X(X({},X1),{},{axis(e,t,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(e=O1){return e},bounds(e={}){if(typeof e=="function")return i=>je.bounds(e(i));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:r=1/0,top:o=-1/0,bottom:n=1/0}=e;return[[t,r],[o,n]]}}),Ge=10,Ue={ArrowRight:(e=1)=>[Ge*e,0],ArrowLeft:(e=1)=>[-Ge*e,0],ArrowUp:(e=1)=>[0,-Ge*e],ArrowDown:(e=1)=>[0,Ge*e]};class qe extends S1{constructor(...t){super(...t),O(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const r=t._bounds.getBoundingClientRect(),o=t.currentTarget.getBoundingClientRect(),n={left:r.left-o.left+t.offset[0],right:r.right-o.right+t.offset[0],top:r.top-o.top+t.offset[1],bottom:r.bottom-o.bottom+t.offset[1]};t._bounds=je.bounds(n)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const r=this.config,o=this.state;if(t.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(t.buttons):r.pointerButtons!==-1&&r.pointerButtons!==t.buttons))return;const n=this.ctrl.setEventIds(t);r.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(n&&n.size>1&&o._pointerActive)&&(this.start(t),this.setupPointer(t),o._pointerId=l1(t),o._pointerActive=!0,this.computeValues(L1(t)),this.computeInitial(),r.preventScrollAxis&&It(t)!=="mouse"?(o._active=!1,this.setupScrollPrevention(t)):r.delay>0?(this.setupDelayTrigger(t),r.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const r=this.state,o=this.config;if(!r._pointerActive||r.type===t.type&&t.timeStamp===r.timeStamp)return;const n=l1(t);if(r._pointerId!==void 0&&n!==r._pointerId)return;const i=L1(t);if(document.pointerLockElement===t.target?r._delta=[t.movementX,t.movementY]:(r._delta=te.sub(i,r._values),this.computeValues(i)),te.addTo(r._movement,r._delta),this.compute(t),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(t);return}if(o.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===o.preventScrollAxis||o.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const r=this.state,o=this.config;if(!r._active||!r._pointerActive)return;const n=l1(t);if(r._pointerId!==void 0&&n!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[i,l]=r._distance;if(r.tap=i<=o.tapsThreshold&&l<=o.tapsThreshold,r.tap&&o.filterTaps)r._force=!0;else{const[u,s]=r.direction,[c,d]=r.velocity,[h,C]=r.movement,[E,v]=o.swipe.velocity,[_,y]=o.swipe.distance,x=o.swipe.duration;r.elapsedTime<x&&(Math.abs(c)>E&&Math.abs(h)>_&&(r.swipe[0]=u),Math.abs(d)>v&&Math.abs(C)>y&&(r.swipe[1]=s))}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const r=this.config,o=r.device;r.pointerLock&&t.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,o,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,o,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,o,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,Ht(t);const r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const r=Ue[t.key];if(r){const o=this.state,n=t.shiftKey?10:t.altKey?.1:1;this.start(t),o._delta=r(n),o._keyboardActive=!0,te.addTo(o._movement,o._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Ue&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const r=this.config.device;t(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(r,"change",this.pointerMove.bind(this)),t(r,"end",this.pointerUp.bind(this)),t(r,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Ht(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Et=typeof window<"u"&&window.document&&window.document.createElement;function gt(){return Et&&"ontouchstart"in window}function t1(){return gt()||Et&&window.navigator.maxTouchPoints>1}function Wt(){return Et&&"onpointerdown"in window}function Ut(){return Et&&"exitPointerLock"in window.document}function Vt(){try{return"constructor"in GestureEvent}catch{return!1}}const wt={isBrowser:Et,gesture:Vt(),touch:t1(),touchscreen:t1(),pointer:Wt(),pointerLock:Ut()},Ne=250,$t=180,s1=.5,R1=50,cr=250,C1={mouse:0,touch:0,pen:8},Y1=X(X({},je),{},{device(e,t,{pointer:{touch:r=!1,lock:o=!1,mouse:n=!1}={}}){return this.pointerLock=o&&wt.pointerLock,wt.touch&&r?"touch":this.pointerLock?"mouse":wt.pointer&&!n?"pointer":wt.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&e?Ne:void 0,!(!wt.touchscreen||r===!1))return e||(r!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:r=!0,buttons:o=1}={}}){return this.pointerButtons=o,!this.pointerLock&&this.device==="pointer"&&r},keys(e=!0){return e},threshold(e,t,{filterTaps:r=!1,tapsThreshold:o=3,axis:n=void 0}){const i=te.toVector(e,r?o:n?1:0);return this.filterTaps=r,this.tapsThreshold=o,i},swipe({velocity:e=s1,distance:t=R1,duration:r=cr}={}){return{velocity:this.transform(te.toVector(e)),distance:this.transform(te.toVector(t)),duration:r}},delay(e=0){switch(e){case!0:return $t;case!1:return 0;default:return e}},axisThreshold(e){return e?X(X({},C1),e):C1}}),I1=30,ho=100;class Vo extends Mt{constructor(...t){super(...t),O(this,"ingKey","pinching"),O(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:r,lastOffset:o}=this.state;t==="wheel"?this.state.offset=te.add(r,o):this.state.offset=[(1+r[0])*o[0],r[1]+o[1]]}computeMovement(){const{offset:t,lastOffset:r}=this.state;this.state.movement=[t[0]/r[0],t[1]-r[1]]}axisIntent(){const t=this.state,[r,o]=t._movement;if(!t.axis){const n=Math.abs(r)*I1-Math.abs(o);n<0?t.axis="angle":n>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const r=this.state,o=this.ctrl.touchIds;if(r._active&&r._touchIds.every(i=>o.has(i))||o.size<2)return;this.start(t),r._touchIds=Array.from(o).slice(0,2);const n=xr(t,r._touchIds);this.pinchStart(t,n)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const r=this.state,o=r._pointerEvents,n=this.ctrl.pointerIds;if(r._active&&Array.from(o.keys()).every(l=>n.has(l))||(o.size<2&&o.set(t.pointerId,t),r._pointerEvents.size<2))return;this.start(t);const i=a1(...Array.from(o.values()));this.pinchStart(t,i)}pinchStart(t,r){const o=this.state;o.origin=r.origin,this.computeValues([r.distance,r.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const r=xr(t,this.state._touchIds);this.pinchMove(t,r)}pointerMove(t){const r=this.state._pointerEvents;if(r.has(t.pointerId)&&r.set(t.pointerId,t),!this.state._active)return;const o=a1(...Array.from(r.values()));this.pinchMove(t,o)}pinchMove(t,r){const o=this.state,n=o._values[1],i=r.angle-n;let l=0;Math.abs(i)>270&&(l+=Math.sign(i)),this.computeValues([r.distance,r.angle-360*l]),o.origin=r.origin,o.turns=l,o._movement=[o._values[0]/o._initial[0]-1,o._values[1]-o._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),!!this.state._active&&this.state._touchIds.some(r=>!this.ctrl.touchIds.has(r))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const r=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}r._pointerEvents.has(t.pointerId)&&r._pointerEvents.delete(t.pointerId),!!r._active&&r._pointerEvents.size<2&&(r._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const r=this.state;r._active||(this.start(t),this.computeValues([t.scale,t.rotation]),r.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const r=this.state;this.computeValues([t.scale,t.rotation]),r.origin=[t.clientX,t.clientY];const o=r._movement;r._movement=[t.scale-1,t.rotation],r._delta=te.sub(r._movement,o),this.compute(t),this.emit()}gestureEnd(t){!this.state._active||(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const r=this.config.modifierKey;r&&!t[r]||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const o=this.state;o._delta=[-Sr(t)[1]/ho*o.offset[0],0],te.addTo(o._movement,o._delta),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(t){const r=this.config.device;r&&(t(r,"start",this[r+"Start"].bind(this)),t(r,"change",this[r+"Move"].bind(this)),t(r,"end",this[r+"End"].bind(this)),t(r,"cancel",this[r+"End"].bind(this))),t("wheel","",this.wheel.bind(this),{passive:!1})}}const Ur=X(X({},X1),{},{device(e,t,{shared:r,pointer:{touch:o=!1}={}}){if(r.target&&!wt.touch&&wt.gesture)return"gesture";if(wt.touch&&o)return"touch";if(wt.touchscreen){if(wt.pointer)return"pointer";if(wt.touch)return"touch"}},bounds(e,t,{scaleBounds:r={},angleBounds:o={}}){const n=l=>{const u=sr(T1(r,l),{min:-1/0,max:1/0});return[u.min,u.max]},i=l=>{const u=sr(T1(o,l),{min:-1/0,max:1/0});return[u.min,u.max]};return typeof r!="function"&&typeof o!="function"?[n(),i()]:l=>[n(l),i(l)]},threshold(e,t,r){return this.lockDirection=r.axis==="lock",te.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e}});class Kr extends S1{constructor(...t){super(...t),O(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(L1(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const r=L1(t),o=this.state;o._delta=te.sub(r,o._values),te.addTo(o._movement,o._delta),this.computeValues(r),this.compute(t),this.emit()}moveEnd(t){!this.state._active||(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const Zo=X(X({},je),{},{mouseOnly:(e=!0)=>e});class zo extends S1{constructor(...t){super(...t),O(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const r=this.state,o=lr(t);r._delta=te.sub(o,r._values),te.addTo(r._movement,r._delta),this.computeValues(o),this.compute(t),this.emit()}scrollEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const fo=je;class Gr extends S1{constructor(...t){super(...t),O(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const r=this.state;r._delta=Sr(t),te.addTo(r._movement,r._delta);const[o,n]=r.overflow,[i,l]=r._delta,[u,s]=r._direction;(o<0&&i>0&&u<0||o>0&&i<0&&u>0)&&(r._movement[0]=r._movementBound[0]),(n<0&&l>0&&s<0||n>0&&l<0&&s>0)&&(r._movement[1]=r._movementBound[1]),this.compute(t),this.emit()}wheelEnd(){!this.state._active||(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const M1=je;class Dr extends S1{constructor(...t){super(...t),O(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(L1(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const r=this.state;if(!r._active)return;r._active=!1;const o=L1(t);r._movement=r._delta=te.sub(o,r._values),this.computeValues(o),this.compute(t),r.delta=r.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const po=X(X({},je),{},{mouseOnly:(e=!0)=>e}),u1=new Map,go=new Map;function No(e){u1.set(e.key,e.engine),go.set(e.key,e.resolver)}const Wo={key:"drag",engine:qe,resolver:Y1},Uo={key:"hover",engine:Dr,resolver:po},q1={key:"move",engine:Kr,resolver:Zo},Ko={key:"pinch",engine:Vo,resolver:Ur},mo={key:"scroll",engine:zo,resolver:fo},Co={key:"wheel",engine:Gr,resolver:M1};function vo(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function kr(e,t){if(e==null)return{};var r=vo(e,t),o,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(r[o]=e[o]))}return r}const Go={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=wt.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},Xo=["target","eventOptions","window","enabled","transform"];function Pr(e={},t){const r={};for(const[o,n]of Object.entries(t))switch(typeof n){case"function":r[o]=n.call(r,e[o],o,e);break;case"object":r[o]=Pr(e[o],n);break;case"boolean":n&&(r[o]=e[o]);break}return r}function $r(e,t,r={}){const o=e,{target:n,eventOptions:i,window:l,enabled:u,transform:s}=o,c=kr(o,Xo);if(r.shared=Pr({target:n,eventOptions:i,window:l,enabled:u,transform:s},Go),t){const d=go.get(t);r[t]=Pr(X({shared:r.shared},c),d)}else for(const d in c){const h=go.get(d);h&&(r[d]=Pr(X({shared:r.shared},c[d]),h))}return r}class Eo{constructor(t,r){O(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=r}add(t,r,o,n,i){const l=this._listeners,u=Pe(r,o),s=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=X(X({},s),i);t.addEventListener(u,n,c);const d=()=>{t.removeEventListener(u,n,c),l.delete(d)};return l.add(d),d}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class wo{constructor(){O(this,"_timeouts",new Map)}add(t,r,o=140,...n){this.remove(t),this._timeouts.set(t,window.setTimeout(r,o,...n))}remove(t){const r=this._timeouts.get(t);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class Yo{constructor(t){O(this,"gestures",new Set),O(this,"_targetEventStore",new Eo(this)),O(this,"gestureEventStores",{}),O(this,"gestureTimeoutStores",{}),O(this,"handlers",{}),O(this,"config",{}),O(this,"pointerIds",new Set),O(this,"touchIds",new Set),O(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Q(this,t)}setEventIds(t){if($e(t))return this.touchIds=new Set(yr(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,r){this.handlers=t,this.nativeHandlers=r}applyConfig(t,r){this.config=$r(t,r,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const r=this.config.shared,o={};let n;if(!(r.target&&(n=r.target(),!n))){if(r.enabled){for(const l of this.gestures){const u=this.config[l],s=re(o,u.eventOptions,!!n);if(u.enabled){const c=u1.get(l);new c(this,t,l).bind(s)}}const i=re(o,r.eventOptions,!!n);for(const l in this.nativeHandlers)i(l,"",u=>this.nativeHandlers[l](X(X({},this.state.shared),{},{event:u,args:t})),void 0,!0)}for(const i in o)o[i]=Ir(...o[i]);if(!n)return o;for(const i in o){const{device:l,capture:u,passive:s}=we(i);this._targetEventStore.add(n,l,"",o[i],{capture:u,passive:s})}}}}function V(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Eo(e,t),e.gestureTimeoutStores[t]=new wo}function Q(e,t){t.drag&&V(e,"drag"),t.wheel&&V(e,"wheel"),t.scroll&&V(e,"scroll"),t.move&&V(e,"move"),t.pinch&&V(e,"pinch"),t.hover&&V(e,"hover")}const re=(e,t,r)=>(o,n,i,l={},u=!1)=>{var s,c;const d=(s=l.capture)!==null&&s!==void 0?s:t.capture,h=(c=l.passive)!==null&&c!==void 0?c:t.passive;let C=u?o:ee(o,n,d);r&&h&&(C+="Passive"),e[C]=e[C]||[],e[C].push(i)},Y=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function ae(e){const t={},r={},o=new Set;for(let n in e)Y.test(n)?(o.add(RegExp.lastMatch),r[n]=e[n]):t[n]=e[n];return[r,t,o]}function ue(e,t,r,o,n,i){if(!e.has(r)||!u1.has(o))return;const l=r+"Start",u=r+"End",s=c=>{let d;return c.first&&l in t&&t[l](c),r in t&&(d=t[r](c)),c.last&&u in t&&t[u](c),d};n[o]=s,i[o]=i[o]||{}}function xe(e,t){const[r,o,n]=ae(e),i={};return ue(n,r,"onDrag","drag",i,t),ue(n,r,"onWheel","wheel",i,t),ue(n,r,"onScroll","scroll",i,t),ue(n,r,"onPinch","pinch",i,t),ue(n,r,"onMove","move",i,t),ue(n,r,"onHover","hover",i,t),{handlers:i,config:t,nativeHandlers:o}}function pe(e,t={},r,o){const n=a.useMemo(()=>new Yo(e),[]);if(n.applyHandlers(e,o),n.applyConfig(t,r),a.useEffect(n.effect.bind(n)),a.useEffect(()=>n.clean.bind(n),[]),t.target===void 0)return n.bind.bind(n)}function Re(e,t){return registerAction(dragAction),pe({drag:e},t||{},"drag")}function De(e,t){return registerAction(pinchAction),pe({pinch:e},t||{},"pinch")}function Me(e,t){return registerAction(wheelAction),pe({wheel:e},t||{},"wheel")}function He(e,t){return registerAction(scrollAction),pe({scroll:e},t||{},"scroll")}function Le(e,t){return registerAction(moveAction),pe({move:e},t||{},"move")}function at(e,t){return registerAction(hoverAction),pe({hover:e},t||{},"hover")}function lt(e){return e.forEach(No),function(r,o){const{handlers:n,nativeHandlers:i,config:l}=xe(r,o||{});return pe(n,l,void 0,i)}}function Dt(e,t){return lt([Wo,Ko,mo,Co,q1,Uo])(e,t||{})}function bt(e,t,r,o=n=>n){return e*o(.5-t*(.5-r))}function xt(e){return[-e[0],-e[1]]}function ft(e,t){return[e[0]+t[0],e[1]+t[1]]}function Lt(e,t){return[e[0]-t[0],e[1]-t[1]]}function kt(e,t){return[e[0]*t,e[1]*t]}function v1(e,t){return[e[0]/t,e[1]/t]}function ct(e){return[e[1],-e[0]]}function Yt(e,t){return e[0]*t[0]+e[1]*t[1]}function r1(e,t){return e[0]===t[0]&&e[1]===t[1]}function dr(e){return Math.hypot(e[0],e[1])}function bo(e){return e[0]*e[0]+e[1]*e[1]}function _o(e,t){return bo(Lt(e,t))}function yo(e){return v1(e,dr(e))}function qo(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function hr(e,t,r){let o=Math.sin(r),n=Math.cos(r),i=e[0]-t[0],l=e[1]-t[1],u=i*n-l*o,s=i*o+l*n;return[u+t[0],s+t[1]]}function Jo(e,t,r){return ft(e,kt(Lt(t,e),r))}function xn(e,t,r){return ft(e,kt(t,r))}var{min:Br,PI:D0}=Math,Ln=.275,Xr=D0+1e-4;function Qo(e,t={}){let{size:r=16,smoothing:o=.5,thinning:n=.5,simulatePressure:i=!0,easing:l=ie=>ie,start:u={},end:s={},last:c=!1}=t,{cap:d=!0,easing:h=ie=>ie*(2-ie)}=u,{cap:C=!0,easing:E=ie=>--ie*ie*ie+1}=s;if(e.length===0||r<=0)return[];let v=e[e.length-1].runningLength,_=u.taper===!1?0:u.taper===!0?Math.max(r,v):u.taper,y=s.taper===!1?0:s.taper===!0?Math.max(r,v):s.taper,x=Math.pow(r*o,2),S=[],D=[],F=e.slice(0,10).reduce((ie,Ve)=>{let ze=Ve.pressure;if(i){let Xe=Br(1,Ve.distance/r),Qt=Br(1,1-Xe);ze=Br(1,ie+(Qt-ie)*(Xe*Ln))}return(ie+ze)/2},e[0].pressure),k=bt(r,n,e[e.length-1].pressure,l),P,A=e[0].vector,Z=e[0].point,oe=Z,be=Z,ce=oe,_e=!1;for(let ie=0;ie<e.length;ie++){let{pressure:Ve}=e[ie],{point:ze,vector:Xe,distance:Qt,runningLength:Qe}=e[ie];if(ie<e.length-1&&v-Qe<3)continue;if(n){if(i){let ar=Br(1,Qt/r),Oo=Br(1,1-ar);Ve=Br(1,F+(Oo-F)*(ar*Ln))}k=bt(r,n,Ve,l)}else k=r/2;P===void 0&&(P=k);let p1=Qe<_?h(Qe/_):1,jt=v-Qe<y?E((v-Qe)/y):1;k=Math.max(.01,k*Math.min(p1,jt));let Nt=(ie<e.length-1?e[ie+1]:e[ie]).vector,x1=ie<e.length-1?Yt(Xe,Nt):1,_r=Yt(Xe,A)<0&&!_e,co=x1!==null&&x1<0;if(_r||co){let ar=kt(ct(A),k);for(let Oo=1/13,Fo=0;Fo<=1;Fo+=Oo)be=hr(Lt(ze,ar),ze,Xr*Fo),S.push(be),ce=hr(ft(ze,ar),ze,Xr*-Fo),D.push(ce);Z=be,oe=ce,co&&(_e=!0);continue}if(_e=!1,ie===e.length-1){let ar=kt(ct(Xe),k);S.push(Lt(ze,ar)),D.push(ft(ze,ar));continue}let I0=kt(ct(Jo(Nt,Xe,x1)),k);be=Lt(ze,I0),(ie<=1||_o(Z,be)>x)&&(S.push(be),Z=be),ce=ft(ze,I0),(ie<=1||_o(oe,ce)>x)&&(D.push(ce),oe=ce),F=Ve,A=Xe}let ye=e[0].point.slice(0,2),Ke=e.length>1?e[e.length-1].point.slice(0,2):ft(e[0].point,[1,1]),Ze=[],ut=[];if(e.length===1){if(!(_||y)||c){let ie=xn(ye,yo(ct(Lt(ye,Ke))),-(P||k)),Ve=[];for(let ze=1/13,Xe=ze;Xe<=1;Xe+=ze)Ve.push(hr(ie,ye,Xr*2*Xe));return Ve}}else{if(!(_||y&&e.length===1))if(d)for(let Ve=1/13,ze=Ve;ze<=1;ze+=Ve){let Xe=hr(D[0],ye,Xr*ze);Ze.push(Xe)}else{let Ve=Lt(S[0],D[0]),ze=kt(Ve,.5),Xe=kt(Ve,.51);Ze.push(Lt(ye,ze),Lt(ye,Xe),ft(ye,Xe),ft(ye,ze))}let ie=ct(xt(e[e.length-1].vector));if(y||_&&e.length===1)ut.push(Ke);else if(C){let Ve=xn(Ke,ie,k);for(let ze=1/29,Xe=ze;Xe<1;Xe+=ze)ut.push(hr(Ve,Ke,Xr*3*Xe))}else ut.push(ft(Ke,kt(ie,k)),ft(Ke,kt(ie,k*.99)),Lt(Ke,kt(ie,k*.99)),Lt(Ke,kt(ie,k)))}return S.concat(ut,D.reverse(),Ze)}function Hr(e,t={}){var r;let{streamline:o=.5,size:n=16,last:i=!1}=t;if(e.length===0)return[];let l=.15+(1-o)*.85,u=Array.isArray(e[0])?e:e.map(({x:E,y:v,pressure:_=.5})=>[E,v,_]);if(u.length===2){let E=u[1];u=u.slice(0,-1);for(let v=1;v<5;v++)u.push(Jo(u[0],E,v/4))}u.length===1&&(u=[...u,[...ft(u[0],[1,1]),...u[0].slice(2)]]);let s=[{point:[u[0][0],u[0][1]],pressure:u[0][2]>=0?u[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],c=!1,d=0,h=s[0],C=u.length-1;for(let E=1;E<u.length;E++){let v=i&&E===C?u[E].slice(0,2):Jo(h.point,u[E],l);if(r1(h.point,v))continue;let _=qo(v,h.point);if(d+=_,E<C&&!c){if(d<n)continue;c=!0}h={point:v,pressure:u[E][2]>=0?u[E][2]:.5,vector:yo(Lt(h.point,v)),distance:_,runningLength:d},s.push(h)}return s[0].vector=((r=s[1])==null?void 0:r.vector)||[0,0],s}function k0(e,t={}){return Qo(Hr(e,t),t)}var Yr=k0,F1=Object.defineProperty,P0=Object.defineProperties,Sn=Object.getOwnPropertyDescriptors,Rn=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,$0=Object.prototype.propertyIsEnumerable,xo=(e,t,r)=>t in e?F1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,en=(e,t)=>{for(var r in t||(t={}))fr.call(t,r)&&xo(e,r,t[r]);if(Rn)for(var r of Rn(t))$0.call(t,r)&&xo(e,r,t[r]);return e},tn=(e,t)=>P0(e,Sn(t));function nt(e,...t){return{didIntersect:t.length>0,message:e,points:t}}function J1(e,t,r=0){let o=[e[0]+t[0]/2,e[1]+t[1]/2],n=w.rotWith(e,o,r),i=w.rotWith(w.add(e,[t[0],0]),o,r),l=w.rotWith(w.add(e,t),o,r),u=w.rotWith(w.add(e,[0,t[1]]),o,r);return[["top",[n,i]],["right",[i,l]],["bottom",[l,u]],["left",[u,n]]]}function B0(e,t,r){if(r===e||r===t)return!0;let o=Math.PI*2,n=(t-e+o)%o,i=(r-e+o)%o;return n<=Math.PI!=i>n}function rn(e,t){let r=w.slope(e[0],e[1]),o=w.slope(t[0],t[1]);if(r===o)return;if(Number.isNaN(r)&&!Number.isNaN(o))return[e[0][0],(e[0][0]-t[0][0])*o+t[0][1]];if(Number.isNaN(o)&&!Number.isNaN(r))return[t[0][0],(t[0][0]-e[0][0])*r+e[0][1]];let n=(r*e[0][0]-o*t[0][0]+t[0][1]-e[0][1])/(r-o),i=o*(n-t[0][0])+t[0][1];return[n,i]}function ba(e,t,r,o){let n=r[0]-e[0],i=r[1]-e[1],l=o[0]*t[1]-o[1]*t[0],u=(i*o[0]-n*o[1])/l,s=(i*t[0]-n*t[1])/l;if(u<0||s<0)return nt("miss");let c=t[1]/t[0],d=o[1]/o[0],h=e[1]-c*e[0],C=(r[1]-d*r[0]-h)/(c-d),E=c*C+h;return Number.isFinite(C)?nt("intersection",[C,E]):nt("parallel")}function qr(e,t,r,o){let[n,i]=e,[l,u]=t,[s,c]=r,[d,h]=o;if(u/l!==(h-c)/(d-s)){let C=l*(h-c)-u*(d-s);if(C!==0){let E=((i-c)*(d-s)-(n-s)*(h-c))/C,v=((i-c)*l-(n-s)*u)/C;if(E>=0&&v>=0&&v<=1)return nt("intersection",[n+E*l,i+E*u])}}return nt("no intersection")}function on(e,t,r,o,n=0){return O0(r,o,n,e,t)}function nn(e,t,r,o,n,i){let l=e,u=w.mul(t,999999999);return Ar(l,u,r,o,n,i)}function pr(e,t,r,o=0){let{minX:n,minY:i,width:l,height:u}=r;return on(e,t,[n,i],[l,u],o)}function _a(e,t,r,o){return qr(r,o,e,t)}function j1(e,t,r,o){let n=w.sub(e,r),i=w.sub(o,r),l=w.sub(t,e),u=i[0]*n[1]-i[1]*n[0],s=l[0]*n[1]-l[1]*n[0],c=i[1]*l[0]-i[0]*l[1];if(u===0||s===0)return nt("coincident");if(c===0)return nt("parallel");if(c!==0){let d=u/c,h=s/c;if(0<=d&&d<=1&&0<=h&&h<=1)return nt("intersection",w.add(e,w.mul(l,d)))}return nt("no intersection")}function H0(e,t,r,o){return In(r,o,e,t)}function A0(e,t,r,o,n,i){let l=w.angle(r,n),u=w.angle(r,i),s=z0(r,o,o,0,e,t);if(!s.didIntersect)return nt("no intersection");let c=s.points.filter(d=>B0(l,u,w.angle(r,d)));return c.length===0?nt("no intersection"):nt("intersection",...c)}function gr(e,t,r,o){let n=(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]),i=2*((t[0]-e[0])*(e[0]-r[0])+(t[1]-e[1])*(e[1]-r[1])),l=r[0]*r[0]+r[1]*r[1]+e[0]*e[0]+e[1]*e[1]-2*(r[0]*e[0]+r[1]*e[1])-o*o,u=i*i-4*n*l;if(u<0)return nt("outside");if(u===0)return nt("tangent");let s=Math.sqrt(u),c=(-i+s)/(2*n),d=(-i-s)/(2*n);if((c<0||c>1)&&(d<0||d>1))return c<0&&d<0||c>1&&d>1?nt("outside"):nt("inside");let h=[];return 0<=c&&c<=1&&h.push(w.lrp(e,t,c)),0<=d&&d<=1&&h.push(w.lrp(e,t,d)),nt("intersection",...h)}function Ar(e,t,r,o,n,i=0){if(o===0||n===0||w.isEqual(e,t))return nt("no intersection");o=o<0?o:-o,n=n<0?n:-n,e=w.sub(w.rotWith(e,r,-i),r),t=w.sub(w.rotWith(t,r,-i),r);let l=w.sub(t,e),u=l[0]*l[0]/o/o+l[1]*l[1]/n/n,s=2*e[0]*l[0]/o/o+2*e[1]*l[1]/n/n,c=e[0]*e[0]/o/o+e[1]*e[1]/n/n-1,d=[],h=s*s-4*u*c;if(h===0)d.push(-s/2/u);else if(h>0){let E=Math.sqrt(h);d.push((-s+E)/2/u),d.push((-s-E)/2/u)}let C=d.filter(E=>E>=0&&E<=1).map(E=>w.add(r,w.add(e,w.mul(w.sub(t,e),E)))).map(E=>w.rotWith(E,r,i));return nt("intersection",...C)}function an(e,t,r){return Hn(r,e,t)}function Jr(e,t,r){let o=[];for(let n=1;n<r.length;n++){let i=j1(e,t,r[n-1],r[n]);i&&o.push(...i.points)}return o.length===0?nt("no intersection"):nt("intersection",...r)}function T0(e,t,r){let o=[];for(let n=1;n<r.length+1;n++){let i=j1(e,t,r[n-1],r[n%r.length]);i&&o.push(...i.points)}return o.length===0?nt("no intersection"):nt("intersection",...r)}function O0(e,t,r,o,n){return J1(e,t,r).reduce((i,[l,[u,s]])=>{let c=qr(o,n,u,s);return c&&i.push(nt(l,...c.points)),i},[]).filter(i=>i.didIntersect)}function In(e,t,r,o){return J1(e,t).reduce((n,[i,[l,u]])=>{let s=j1(r,o,l,u);return s&&n.push(nt(i,...s.points)),n},[]).filter(n=>n.didIntersect)}function ln(e,t,r,o){return J1(e,t).reduce((n,[i,[l,u]])=>{let s=In(r,o,l,u);return n.push(...s.map(c=>nt(`${i} ${c.message}`,...c.points))),n},[]).filter(n=>n.didIntersect)}function F0(e,t,r,o,n,i){return J1(e,t).reduce((l,[u,[s,c]])=>{let d=V0(r,o,n,i,s,c);return d&&l.push(tn(en({},d),{message:u})),l},[]).filter(l=>l.didIntersect)}function Mn(e,t,r,o){return J1(e,t).reduce((n,[i,[l,u]])=>{let s=gr(l,u,r,o);return s&&n.push(tn(en({},s),{message:i})),n},[]).filter(n=>n.didIntersect)}function sn(e,t,r,o,n,i=0){return J1(e,t).reduce((l,[u,[s,c]])=>{let d=Ar(s,c,r,o,n,i);return d&&l.push(tn(en({},d),{message:u})),l},[]).filter(l=>l.didIntersect)}function Tr(e,t,r){let{minX:o,minY:n,width:i,height:l}=r;return ln(e,t,[o,n],[i,l])}function un(e,t,r){return J1(e,t).reduce((o,[n,[i,l]])=>{let u=Jr(i,l,r);return u.didIntersect&&o.push(nt(n,...u.points)),o},[]).filter(o=>o.didIntersect)}function j0(e,t,r){return J1(e,t).reduce((o,[n,[i,l]])=>{let u=T0(i,l,r);return u.didIntersect&&o.push(nt(n,...u.points)),o},[]).filter(o=>o.didIntersect)}function V0(e,t,r,o,n,i){return A0(n,i,e,t,r,o)}function Dn(e,t,r,o,n,i){return F0(n,i,e,t,r,o)}function kn(e,t,r,o,n){let{minX:i,minY:l,width:u,height:s}=n;return Dn(e,t,r,o,[i,l],[u,s])}function Z0(e,t,r,o){return gr(r,o,e,t)}function Pn(e,t,r,o){let n=r[0]-e[0],i=r[1]-e[1],l=Math.sqrt(n*n+i*i),u=(l*l-o*o+t*t)/(2*l),s=Math.sqrt(t*t-u*u);return n/=l,i/=l,nt("intersection",[e[0]+n*u-i*s,e[1]+i*u+n*s],[e[0]+n*u+i*s,e[1]+i*u-n*s])}function $n(e,t,r,o){return Mn(r,o,e,t)}function ya(e,t,r){let{minX:o,minY:n,width:i,height:l}=r;return $n(e,t,[o,n],[i,l])}function xa(e,t,r,o,n,i){return nn(n,i,e,t,r,o)}function z0(e,t,r,o=0,n,i){return t===r?gr(n,i,e,t):Ar(n,i,e,t,r,o)}function Bn(e,t,r,o=0,n,i){return t===r?Mn(n,i,e,t):sn(n,i,e,t,r,o)}function N0(e,t,r,o,n,i,l,u){return nt("no intersection")}function La(e,t,r,o,n,i){return N0(e,t,r,o,n,i,i,0)}function W0(e,t,r,o,n){let{minX:i,minY:l,width:u,height:s}=n;return Bn(e,t,r,o,[i,l],[u,s])}function Sa(e,t,r){let{minX:o,minY:n,width:i,height:l}=e;return on(t,r,[o,n],[i,l])}function Hn(e,t,r){let{minX:o,minY:n,width:i,height:l}=e;return H0(t,r,[o,n],[i,l])}function Ra(e,t,r){let{minX:o,minY:n,width:i,height:l}=e;return ln(t,r,[o,n],[i,l])}function U0(e,t){return ln([e.minX,e.minY],[e.width,e.height],[t.minX,t.minY],[t.width,t.height])}function We(e,t,r,o,n){let{minX:i,minY:l,width:u,height:s}=e;return Dn(t,r,o,n,[i,l],[u,s])}function An(e,t,r){let{minX:o,minY:n,width:i,height:l}=e;return $n(t,r,[o,n],[i,l])}function cn(e,t,r,o,n=0){let{minX:i,minY:l,width:u,height:s}=e;return Bn(t,r,o,n,[i,l],[u,s])}function Tn(e,t){return On(t,e)}function K0(e,t){return Fn(t,e)}function Ia(e,t,r){return Jr(t,r,e)}function Ma(e,t,r){return un(t,r,e)}function On(e,t){return un([t.minX,t.minY],[t.width,t.height],e)}function Da(e,t,r){return Jr(t,r,e)}function ka(e,t,r){return un(t,r,e)}function Fn(e,t){return j0([t.minX,t.minY],[t.width,t.height],e)}function Pa(e,t,r){return G0(r,!0).reduce((o,[n,i],l)=>{let u=qr(e,t,n,i);return u&&o.push(nt(l.toString(),...u.points)),o},[]).filter(o=>o.didIntersect)}function G0(e,t=!1){let r=[];for(let o=1;o<e.length;o++)r.push([e[o-1],e[o]]);return t&&r.push([e[e.length-1],e[0]]),r}var X0=Object.defineProperty,Y0=Object.defineProperties,q0=Object.getOwnPropertyDescriptors,Lo=Object.getOwnPropertySymbols,jn=Object.prototype.hasOwnProperty,Qr=Object.prototype.propertyIsEnumerable,dn=(e,t,r)=>t in e?X0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,et=(e,t)=>{for(var r in t||(t={}))jn.call(t,r)&&dn(e,r,t[r]);if(Lo)for(var r of Lo(t))Qr.call(t,r)&&dn(e,r,t[r]);return e},D1=(e,t)=>Y0(e,q0(t)),mr=(e,t)=>{var r={};for(var o in e)jn.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Lo)for(var o of Lo(e))t.indexOf(o)<0&&Qr.call(e,o)&&(r[o]=e[o]);return r},mt=(e,t,r)=>(dn(e,typeof t!="symbol"?t+"":t,r),r),hn=a.createContext({});function Zt(){return a.useContext(hn)}var J0=(e=>(e.TransformSelected="transform_selected",e.TranslateSelected="translate_selected",e.TransformAll="transform_all",e.TranslateAll="translate_all",e))(J0||{}),Q0=(e=>(e.Top="top_edge",e.Right="right_edge",e.Bottom="bottom_edge",e.Left="left_edge",e))(Q0||{}),E1=(e=>(e.TopLeft="top_left_corner",e.TopRight="top_right_corner",e.BottomRight="bottom_right_corner",e.BottomLeft="bottom_left_corner",e))(E1||{}),ei=(e=>(e.minX="minX",e.midX="midX",e.maxX="maxX",e.minY="minY",e.midY="midY",e.maxY="maxY",e))(ei||{});String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});var So=Math.PI*2,Bt=class{static lerp(e,t,r){return r=Bt.clamp(r,0,1),e*(1-r)+t*r}static lerpColor(e,t,r=.5){function o(s){let c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}function n(s){return"#"+((1<<24)+(s[0]<<16)+(s[1]<<8)+s[2]).toString(16).slice(1)}let i=o(e)||[0,0,0],l=o(t)||[0,0,0],u=i.slice();for(let s=0;s<3;s++)u[s]=Math.round(u[s]+r*(l[s]-i[s]));return n(u)}static modulate(e,t,r,o=!1){let[n,i]=t,[l,u]=r,s=l+(e-n)/(i-n)*(u-l);return o?l<u?Math.max(Math.min(s,u),l):Math.max(Math.min(s,l),u):s}static clamp(e,t,r){return Math.max(t,typeof r<"u"?Math.min(e,r):e)}static deepClone(e){if(e===null)return e;if(Array.isArray(e))return[...e];if(typeof e=="object"){let t=et({},e);return Object.keys(t).forEach(r=>t[r]=typeof e[r]=="object"?Bt.deepClone(e[r]):e[r]),t}return e}static rng(e=""){let t=0,r=0,o=0,n=0;function i(){let l=t^t<<11;return t=r,r=o,o=n,n^=(n>>>19^l^l>>>8)>>>0,n/4294967296}for(let l=0;l<e.length+64;l++)t^=e.charCodeAt(l)|0,i();return i}static pointsToLineSegments(e,t=!1){let r=[];for(let o=1;o<e.length;o++)r.push([e[o-1],e[o]]);return t&&r.push([e[e.length-1],e[0]]),r}static getRectangleSides(e,t,r=0){let o=[e[0]+t[0]/2,e[1]+t[1]/2],n=w.rotWith(e,o,r),i=w.rotWith(w.add(e,[t[0],0]),o,r),l=w.rotWith(w.add(e,t),o,r),u=w.rotWith(w.add(e,[0,t[1]]),o,r);return[["top",[n,i]],["right",[i,l]],["bottom",[l,u]],["left",[u,n]]]}static circleFromThreePoints(e,t,r){let[o,n]=e,[i,l]=t,[u,s]=r,c=o*(l-s)-n*(i-u)+i*s-u*l,d=(o*o+n*n)*(s-l)+(i*i+l*l)*(n-s)+(u*u+s*s)*(l-n),h=(o*o+n*n)*(i-u)+(i*i+l*l)*(u-o)+(u*u+s*s)*(o-i),C=-d/(2*c),E=-h/(2*c);return[C,E,Math.hypot(C-o,E-n)]}static perimeterOfEllipse(e,t){let r=Math.pow(e-t,2)/Math.pow(e+t,2);return Math.PI*(e+t)*(1+3*r/(10+Math.sqrt(4-3*r)))}static shortAngleDist(e,t){let r=Math.PI*2,o=(t-e)%r;return 2*o%r-o}static longAngleDist(e,t){return Math.PI*2-Bt.shortAngleDist(e,t)}static lerpAngles(e,t,r){return e+Bt.shortAngleDist(e,t)*r}static angleDelta(e,t){return Bt.shortAngleDist(e,t)}static getSweep(e,t,r){return Bt.angleDelta(w.angle(e,t),w.angle(e,r))}static clampRadians(e){return(Math.PI*2+e)%(Math.PI*2)}static snapAngleToSegments(e,t){let r=Math.PI*2/t;return Math.floor((Bt.clampRadians(e)+r/2)/r)*r}static isAngleBetween(e,t,r){if(r===e||r===t)return!0;let o=(t-e+So)%So,n=(r-e+So)%So;return o<=Math.PI!=n>o}static degreesToRadians(e){return e*Math.PI/180}static radiansToDegrees(e){return e*180/Math.PI}static getArcLength(e,t,r,o){let n=Bt.getSweep(e,r,o);return t*(2*Math.PI)*(n/(2*Math.PI))}static getSweepFlag(e,t,r){let o=w.angle(e,r);return(w.angle(e,t)-o+3*Math.PI)%(2*Math.PI)-Math.PI>0?0:1}static getLargeArcFlag(e,t,r){let o=w.angle(r,e),n=(w.angle(r,t)-o+3*Math.PI)%(2*Math.PI)-Math.PI;return Math.abs(n)>Math.PI/2?0:1}static getArcDashOffset(e,t,r,o,n){let i=Bt.getSweepFlag(e,r,o),l=Bt.getArcLength(e,t,r,o);return-(i<0?l:2*Math.PI*e[2]-l)/2+n}static getEllipseDashOffset(e,t){return-(2*Math.PI*e[2])/2+-t}static pointInCircle(e,t,r){return w.dist(e,t)<=r}static pointInEllipse(e,t,r,o,n=0){n=n||0;let i=Math.cos(n),l=Math.sin(n),u=w.sub(e,t),s=i*u[0]+l*u[1],c=l*u[0]-i*u[1];return s*s/(r*r)+c*c/(o*o)<=1}static pointInRect(e,t){return!(e[0]<t[0]||e[0]>e[0]+t[0]||e[1]<t[1]||e[1]>e[1]+t[1])}static pointInPolygon(e,t){let r=0;return t.forEach((o,n)=>{let i=t[(n+1)%t.length];o[1]<=e[1]?i[1]>e[1]&&w.cross(o,i,e)>0&&(r+=1):i[1]<=e[1]&&w.cross(o,i,e)<0&&(r-=1)}),r!==0}static pointInBounds(e,t){return!(e[0]<t.minX||e[0]>t.maxX||e[1]<t.minY||e[1]>t.maxY)}static pointInPolyline(e,t,r=3){for(let o=1;o<t.length;o++)if(w.distanceToLineSegment(t[o-1],t[o],e)<r)return!0;return!1}static getBoundsSides(e){return this.getRectangleSides([e.minX,e.minY],[e.width,e.height])}static expandBounds(e,t){return{minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,width:e.width+t*2,height:e.height+t*2}}static boundsCollide(e,t){return!(e.maxX<t.minX||e.minX>t.maxX||e.maxY<t.minY||e.minY>t.maxY)}static boundsContain(e,t){return e.minX<t.minX&&e.minY<t.minY&&e.maxY>t.maxY&&e.maxX>t.maxX}static boundsContained(e,t){return Bt.boundsContain(t,e)}static boundsAreEqual(e,t){return!(t.maxX!==e.maxX||t.minX!==e.minX||t.maxY!==e.maxY||t.minY!==e.minY)}static getBoundsFromPoints(e,t=0){let r=1/0,o=1/0,n=-1/0,i=-1/0;if(e.length<2)r=0,o=0,n=1,i=1;else for(let[l,u]of e)r=Math.min(l,r),o=Math.min(u,o),n=Math.max(l,n),i=Math.max(u,i);return t!==0?Bt.getBoundsFromPoints(e.map(l=>w.rotWith(l,[(r+n)/2,(o+i)/2],t))):{minX:r,minY:o,maxX:n,maxY:i,width:Math.max(1,n-r),height:Math.max(1,i-o)}}static centerBounds(e,t){let r=this.getBoundsCenter(e),o=t[0]-r[0],n=t[1]-r[1];return this.translateBounds(e,[o,n])}static snapBoundsToGrid(e,t){let r=Math.round(e.minX/t)*t,o=Math.round(e.minY/t)*t,n=Math.round(e.maxX/t)*t,i=Math.round(e.maxY/t)*t;return{minX:r,minY:o,maxX:n,maxY:i,width:Math.max(1,n-r),height:Math.max(1,i-o)}}static translateBounds(e,t){return{minX:e.minX+t[0],minY:e.minY+t[1],maxX:e.maxX+t[0],maxY:e.maxY+t[1],width:e.width,height:e.height}}static rotateBounds(e,t,r){let[o,n]=w.rotWith([e.minX,e.minY],t,r),[i,l]=w.rotWith([e.maxX,e.maxY],t,r);return{minX:o,minY:n,maxX:i,maxY:l,width:e.width,height:e.height}}static getRotatedEllipseBounds(e,t,r,o,n=0){let i=Math.cos(n),l=Math.sin(n),u=Math.hypot(r*i,o*l),s=Math.hypot(r*l,o*i);return{minX:e+r-u,minY:t+o-s,maxX:e+r+u,maxY:t+o+s,width:u*2,height:s*2}}static getExpandedBounds(e,t){let r=Math.min(e.minX,t.minX),o=Math.min(e.minY,t.minY),n=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY),l=Math.abs(n-r),u=Math.abs(i-o);return{minX:r,minY:o,maxX:n,maxY:i,width:l,height:u}}static getCommonBounds(e){if(e.length<2)return e[0];let t=e[0];for(let r=1;r<e.length;r++)t=Bt.getExpandedBounds(t,e[r]);return t}static getRotatedCorners(e,t=0){let r=[e.minX+e.width/2,e.minY+e.height/2];return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]].map(o=>w.rotWith(o,r,t))}static getTransformedBoundingBox(e,t,r,o=0,n=!1){let[i,l]=[e.minX,e.minY],[u,s]=[e.maxX,e.maxY],[c,d]=[e.minX,e.minY],[h,C]=[e.maxX,e.maxY];if(t==="center")return{minX:c+r[0],minY:d+r[1],maxX:h+r[0],maxY:C+r[1],width:h-c,height:C-d,scaleX:1,scaleY:1};let[E,v]=w.rot(r,-o);switch(t){case"top_edge":case"top_left_corner":case"top_right_corner":{d+=v;break}case"bottom_edge":case"bottom_left_corner":case"bottom_right_corner":{C+=v;break}}switch(t){case"left_edge":case"top_left_corner":case"bottom_left_corner":{c+=E;break}case"right_edge":case"top_right_corner":case"bottom_right_corner":{h+=E;break}}let _=u-i,y=s-l,x=(h-c)/_,S=(C-d)/y,D=x<0,F=S<0,k=Math.abs(h-c),P=Math.abs(C-d);if(n){let A=_/y,Z=A<k/P,oe=k*(S<0?1:-1)*(1/A),be=P*(x<0?1:-1)*A;switch(t){case"top_left_corner":{Z?d=C+oe:c=h+be;break}case"top_right_corner":{Z?d=C+oe:h=c-be;break}case"bottom_right_corner":{Z?C=d-oe:h=c-be;break}case"bottom_left_corner":{Z?C=d-oe:c=h+be;break}case"bottom_edge":case"top_edge":{let ce=(c+h)/2,_e=P*A;c=ce-_e/2,h=ce+_e/2;break}case"left_edge":case"right_edge":{let ce=(d+C)/2,_e=k/A;d=ce-_e/2,C=ce+_e/2;break}}}if(o%(Math.PI*2)!==0){let A=[0,0],Z=w.med([i,l],[u,s]),oe=w.med([c,d],[h,C]);switch(t){case"top_left_corner":{A=w.sub(w.rotWith([h,C],oe,o),w.rotWith([u,s],Z,o));break}case"top_right_corner":{A=w.sub(w.rotWith([c,C],oe,o),w.rotWith([i,s],Z,o));break}case"bottom_right_corner":{A=w.sub(w.rotWith([c,d],oe,o),w.rotWith([i,l],Z,o));break}case"bottom_left_corner":{A=w.sub(w.rotWith([h,d],oe,o),w.rotWith([u,l],Z,o));break}case"top_edge":{A=w.sub(w.rotWith(w.med([c,C],[h,C]),oe,o),w.rotWith(w.med([i,s],[u,s]),Z,o));break}case"left_edge":{A=w.sub(w.rotWith(w.med([h,d],[h,C]),oe,o),w.rotWith(w.med([u,l],[u,s]),Z,o));break}case"bottom_edge":{A=w.sub(w.rotWith(w.med([c,d],[h,d]),oe,o),w.rotWith(w.med([i,l],[u,l]),Z,o));break}case"right_edge":{A=w.sub(w.rotWith(w.med([c,d],[c,C]),oe,o),w.rotWith(w.med([i,l],[i,s]),Z,o));break}}[c,d]=w.sub([c,d],A),[h,C]=w.sub([h,C],A)}return h<c&&([h,c]=[c,h]),C<d&&([C,d]=[d,C]),{minX:c,minY:d,maxX:h,maxY:C,width:h-c,height:C-d,scaleX:(h-c)/(u-i||1)*(D?-1:1),scaleY:(C-d)/(s-l||1)*(F?-1:1)}}static getTransformAnchor(e,t,r){let o=e;switch(e){case"top_left_corner":{t&&r?o="bottom_right_corner":t?o="top_right_corner":r?o="bottom_left_corner":o="bottom_right_corner";break}case"top_right_corner":{t&&r?o="bottom_left_corner":t?o="top_left_corner":r?o="bottom_right_corner":o="bottom_left_corner";break}case"bottom_right_corner":{t&&r?o="top_left_corner":t?o="bottom_left_corner":r?o="top_right_corner":o="top_left_corner";break}case"bottom_left_corner":{t&&r?o="top_right_corner":t?o="bottom_right_corner":r?o="top_left_corner":o="top_right_corner";break}}return o}static getRelativeTransformedBoundingBox(e,t,r,o,n){let i=(o?t.maxX-r.maxX:r.minX-t.minX)/t.width,l=(n?t.maxY-r.maxY:r.minY-t.minY)/t.height,u=r.width/t.width,s=r.height/t.height,c=e.minX+e.width*i,d=e.minY+e.height*l,h=e.width*u,C=e.height*s;return{minX:c,minY:d,maxX:c+h,maxY:d+C,width:h,height:C}}static getRotatedSize(e,t){let r=w.div(e,2),o=[[0,0],[e[0],0],e,[0,e[1]]].map(i=>w.rotWith(i,r,t)),n=Bt.getBoundsFromPoints(o);return[n.width,n.height]}static getBoundsCenter(e){return[e.minX+e.width/2,e.minY+e.height/2]}static getBoundsWithCenter(e){let t=Bt.getBoundsCenter(e);return D1(et({},e),{midX:t[0],midY:t[1]})}static getCommonTopLeft(e){let t=[1/0,1/0];return e.forEach(r=>{t[0]=Math.min(t[0],r[0]),t[1]=Math.min(t[1],r[1])}),t}static getFromCache(e,t,r){let o=e.get(t);if(o===void 0&&(e.set(t,r()),o=e.get(t),o===void 0))throw Error("Cache did not include item!");return o}static uniqueId(e=""){return e?((Number(e)^Math.random()*16)>>Number(e)/4).toString(16):`${1e7}-${1e3}-${4e3}-${8e3}-${1e11}`.replace(/[018]/g,Bt.uniqueId)}static rotateArray(e,t){return e.map((r,o)=>e[(o+t)%e.length])}static debounce(e,t=0){let r;return function(...o){clearTimeout(r),r=setTimeout(()=>e.apply(o),t)}}static getSvgPathFromStroke(e,t=!0){let r=e.length;if(r<4)return"";let o=e[0],n=e[1],i=e[2],l=`M${o[0].toFixed(2)},${o[1].toFixed(2)} Q${n[0].toFixed(2)},${n[1].toFixed(2)} ${V1(n[0],i[0]).toFixed(2)},${V1(n[1],i[1]).toFixed(2)} T`;for(let u=2,s=r-1;u<s;u++)o=e[u],n=e[u+1],l+=`${V1(o[0],n[0]).toFixed(2)},${V1(o[1],n[1]).toFixed(2)} `;return t&&(l+="Z"),l}static getSvgPathFromStrokePoints(e,t=!1){let r=e.length;if(r<4)return"";let o=e[0].point,n=e[1].point,i=e[2].point,l=`M${o[0].toFixed(2)},${o[1].toFixed(2)} Q${n[0].toFixed(2)},${n[1].toFixed(2)} ${V1(n[0],i[0]).toFixed(2)},${V1(n[1],i[1]).toFixed(2)} T`;for(let u=2,s=r-1;u<s;u++)o=e[u].point,n=e[u+1].point,l+=`${V1(o[0],n[0]).toFixed(2)},${V1(o[1],n[1]).toFixed(2)} `;return t&&(l+="Z"),l}static getPerfectDashProps(e,t,r,o=1,n=!0,i=2){let l,u,s;if(r.toLowerCase()==="dashed")l=t*i,s=1,u=n?(l/2).toString():"0";else if(r.toLowerCase()==="dotted")l=t/100,s=100,u="0";else return{strokeDasharray:"none",strokeDashoffset:"none"};let c=Math.floor(e/l/(2*s));c-=c%o,c=Math.max(c,4);let d=Math.max(l,(e-c*l)/(n?c:c-1));return{strokeDasharray:[l,d].join(" "),strokeDashoffset:u}}static isMobileSafari(){if(typeof window>"u")return!1;let e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),r=!!e.match(/WebKit/i);return t&&r&&!e.match(/CriOS/i)}static throttle(e,t){let r,o;return function(...n){return r||(r=!0,setTimeout(()=>r=!1,t),o=e(...n)),o}}static isDarwin(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}static metaKey(e){return Bt.isDarwin()?e.metaKey:e.ctrlKey}static lns(e){let t=e.split("");return t.push(...t.splice(0,Math.round(t.length/5))),t.push(...t.splice(0,Math.round(t.length/4))),t.push(...t.splice(0,Math.round(t.length/3))),t.push(...t.splice(0,Math.round(t.length/2))),t.reverse().map(r=>+r?+r<5?5+ +r:+r>5?+r-5:r:r).join("")}},M=Bt;mt(M,"getSnapPoints",(e,t,r)=>{let o=et({},e),n=[0,0],i=[],l={minX:{id:"minX",isSnapped:!1},midX:{id:"midX",isSnapped:!1},maxX:{id:"maxX",isSnapped:!1},minY:{id:"minY",isSnapped:!1},midY:{id:"midY",isSnapped:!1},maxY:{id:"maxY",isSnapped:!1}},u=["midX","minX","maxX"],s=["midY","minY","maxY"],c=t.map(v=>{let _=u.flatMap((x,S)=>u.map((D,F)=>{let k=o[x]-v[D],P=Math.abs(k);return{f:x,t:D,gap:k,distance:P,isCareful:S===0||S+F===3}})),y=s.flatMap((x,S)=>s.map((D,F)=>{let k=o[x]-v[D],P=Math.abs(k);return{f:x,t:D,gap:k,distance:P,isCareful:S===0||S+F===3}}));return[v,_,y]}),d=1/0,h=1/0,C=1/0,E=1/0;return c.forEach(([v,_,y])=>{_.forEach(x=>{x.distance<r&&x.distance<C&&(C=x.distance,d=x.gap)}),y.forEach(x=>{x.distance<r&&x.distance<E&&(E=x.distance,h=x.gap)})}),c.forEach(([v,_,y])=>{d!==1/0&&_.forEach(x=>{Math.abs(x.gap-d)<2&&(l[x.f]=D1(et({},l[x.f]),{isSnapped:!0,to:v[x.t],B:v,distance:x.distance}))}),h!==1/0&&y.forEach(x=>{Math.abs(x.gap-h)<2&&(l[x.f]=D1(et({},l[x.f]),{isSnapped:!0,to:v[x.t],B:v,distance:x.distance}))})}),n[0]=d===1/0?0:d,n[1]=h===1/0?0:h,o.minX-=n[0],o.midX-=n[0],o.maxX-=n[0],o.minY-=n[1],o.midY-=n[1],o.maxY-=n[1],u.forEach(v=>{let _=l[v];if(!_.isSnapped)return;let{id:y,B:x}=_,S=o[y];i.push(y==="minX"?[[S,o.midY],[S,x.minY],[S,x.maxY]]:[[S,o.minY],[S,o.maxY],[S,x.minY],[S,x.maxY]])}),s.forEach(v=>{let _=l[v];if(!_.isSnapped)return;let{id:y,B:x}=_,S=o[y];i.push(y==="midY"?[[o.midX,S],[x.minX,S],[x.maxX,S]]:[[o.minX,S],[o.maxX,S],[x.minX,S],[x.maxX,S]])}),{offset:n,snapLines:i}}),mt(M,"deepMerge",(e,t)=>{let r=et({},e),o=Object.entries(t);for(let[n,i]of o)r[n]=i===Object(i)&&!Array.isArray(i)?Bt.deepMerge(r[n],i):i;return r});function V1(e,t){return(e+t)/2}var Kt=M;function ti(e,t){let r=a.useRef(void 0),o=a.useRef(void 0),n=a.useRef([0,0]),{inputs:i,bounds:l,callbacks:u}=Zt();a.useEffect(()=>{let C=E=>E.preventDefault();return document.addEventListener("gesturestart",C),document.addEventListener("gesturechange",C),()=>{document.removeEventListener("gesturestart",C),document.removeEventListener("gesturechange",C)}},[]);let s=a.useCallback(({event:C})=>{var E,v,_,y;if(C.preventDefault(),i.isPinching)return;let[x,S,D]=f(C);if((C.altKey||C.ctrlKey||C.metaKey)&&C.buttons===0){let P=[...(v=(E=i.pointer)==null?void 0:E.point)!=null?v:[l.width/2,l.height/2],D*.618],A=i.pan(P,C);(_=u.onZoom)==null||_.call(u,D1(et({},A),{delta:P}),C);return}let F=w.mul(C.shiftKey&&!Kt.isDarwin?[S,0]:[x,S],.5);if(w.isEqual(F,[0,0]))return;let k=i.pan(F,C);(y=u.onPan)==null||y.call(u,k,C)},[u,i,l]),c=a.useCallback(({origin:C,event:E})=>{var v;if(E instanceof WheelEvent)return;let _=t.current;if(!_||!(E.target===_||_.contains(E.target)))return;let y=i.pinch(C,C);i.isPinching=!0,(v=u.onPinchStart)==null||v.call(u,y,E),o.current=y.point,r.current=y.origin,n.current=[0,0]},[u,i,l]),d=a.useCallback(({origin:C,offset:E,event:v})=>{var _;if(v instanceof WheelEvent)return;let y=t.current;if(!(v.target===y||y?.contains(v.target))||!r.current)return;let x=i.pinch(C,r.current),S=w.sub(x.delta,n.current);n.current=x.delta,(_=u.onPinch)==null||_.call(u,D1(et({},x),{point:x.point,origin:r.current,delta:[...S,E[0]]}),v),o.current=C},[u,i,l]),h=a.useCallback(({origin:C,event:E})=>{var v;let _=t.current;if(!(E.target===_||_?.contains(E.target)))return;let y=i.pinch(C,C);i.isPinching=!1,(v=u.onPinchEnd)==null||v.call(u,y,E),o.current=void 0,r.current=void 0,n.current=[0,0]},[]);Dt({onWheel:s,onPinchStart:c,onPinch:d,onPinchEnd:h},{target:t,eventOptions:{passive:!1},pinch:{from:[e.current,0],scaleBounds:()=>({from:e.current,max:5,min:.1})}})}var p=10;function f(e){let{deltaY:t,deltaX:r}=e,o=0;if(e.ctrlKey||e.metaKey){let n=Math.sign(e.deltaY),i=Math.abs(e.deltaY),l=t;i>p&&(l=p*n),o=l}return[r,t,o]}function m(){let{callbacks:e}=Zt();(0,a.useEffect)(()=>{function t(){var r;(r=e.onShapeBlur)==null||r.call(e)}return Kt.isMobileSafari()?(document.addEventListener("focusout",t),()=>document.removeEventListener("focusout",t)):()=>null},[e])}function b(){let{callbacks:e,inputs:t}=Zt();return a.useMemo(()=>({onPointerDown:r=>{var o,n,i;if(r.dead||(r.dead=!0,!t.pointerIsValid(r)))return;if(r.button===2){(o=e.onRightPointCanvas)==null||o.call(e,t.pointerDown(r,"canvas"),r);return}r.currentTarget.setPointerCapture(r.pointerId);let l=t.pointerDown(r,"canvas");r.button===0&&((n=e.onPointCanvas)==null||n.call(e,l,r)),(i=e.onPointerDown)==null||i.call(e,l,r)},onPointerMove:r=>{var o,n;if(r.dead||(r.dead=!0,!t.pointerIsValid(r)))return;let i=t.pointerMove(r,"canvas");r.buttons===1&&r.currentTarget.hasPointerCapture(r.pointerId)&&((o=e.onDragCanvas)==null||o.call(e,i,r)),(n=e.onPointerMove)==null||n.call(e,i,r)},onPointerUp:r=>{var o,n,i,l;if(r.dead||(r.dead=!0,t.activePointer=void 0,!t.pointerIsValid(r))||r.button===2)return;let u=t.pointerUp(r,"canvas"),s=t.isDoubleClick();r.currentTarget.hasPointerCapture(r.pointerId)&&((o=r.currentTarget)==null||o.releasePointerCapture(r.pointerId)),r.button===0&&(s&&!(u.altKey||u.metaKey)&&((n=e.onDoubleClickCanvas)==null||n.call(e,u,r)),(i=e.onReleaseCanvas)==null||i.call(e,u,r)),(l=e.onPointerUp)==null||l.call(e,u,r)},onDrop:e.onDrop,onDragOver:e.onDragOver}),[e,t])}function L(e){let{rPageState:t,rSelectionBounds:r,callbacks:o,inputs:n}=a.useContext(hn);return a.useMemo(()=>({onPointerDown:i=>{var l,u,s,c,d,h,C;if(i.dead||(i.dead=!0,!n.pointerIsValid(i)))return;if(i.button===2){(l=o.onRightPointShape)==null||l.call(o,n.pointerDown(i,e),i);return}let E=n.pointerDown(i,e);if((u=i.currentTarget)==null||u.setPointerCapture(i.pointerId),r.current&&M.pointInBounds(E.point,r.current)&&!t.current.selectedIds.includes(e)){i.button===0&&((s=o.onPointBounds)==null||s.call(o,n.pointerDown(i,"bounds"),i),(c=o.onPointShape)==null||c.call(o,E,i)),(d=o.onPointerDown)==null||d.call(o,E,i);return}i.button===0&&((h=o.onPointShape)==null||h.call(o,E,i)),(C=o.onPointerDown)==null||C.call(o,E,i)},onPointerUp:i=>{var l,u,s,c;if(i.dead||(i.dead=!0,!n.pointerIsValid(i))||i.button===2)return;n.activePointer=void 0;let d=n.isDoubleClick(),h=n.pointerUp(i,e);i.pointerId&&i.currentTarget.hasPointerCapture(i.pointerId)&&((l=i.currentTarget)==null||l.releasePointerCapture(i.pointerId)),i.button===0&&(d&&!(h.altKey||h.metaKey)&&((u=o.onDoubleClickShape)==null||u.call(o,h,i)),(s=o.onReleaseShape)==null||s.call(o,h,i)),(c=o.onPointerUp)==null||c.call(o,h,i)},onPointerMove:i=>{var l,u;if(i.dead||(i.dead=!0,i.buttons===2||!n.pointerIsValid(i)||n.pointer&&i.pointerId!==n.pointer.pointerId))return;let s=n.pointerMove(i,e);i.buttons===1&&i.currentTarget.hasPointerCapture(i.pointerId)&&((l=o.onDragShape)==null||l.call(o,s,i)),(u=o.onPointerMove)==null||u.call(o,s,i)},onPointerEnter:i=>{var l;if(!n.pointerIsValid(i))return;let u=n.pointerEnter(i,e);(l=o.onHoverShape)==null||l.call(o,u,i)},onPointerLeave:i=>{var l;if(!n.pointerIsValid(i))return;let u=n.pointerEnter(i,e);(l=o.onUnhoverShape)==null||l.call(o,u,i)}}),[n,o,e])}function R(e,t,r,o,n,i=!1,l=!1,u,s){let c={shape:e,asset:e.assetId?n[e.assetId]:void 0,meta:u,isChildOfSelected:l,isGhost:e.isGhost||i,isEditing:o.editingId===e.id,isBinding:s===e.id,isSelected:o.selectedIds.includes(e.id),isHovered:o.hoveredId===e.id||e.children!==void 0&&(o.hoveredId&&e.children.includes(o.hoveredId)||e.children.some(d=>o.selectedIds.includes(d)))};t.push(c),e.children&&(c.children=[],e.children.map(d=>r[d]).filter(d=>r[d.id]).sort((d,h)=>d.childIndex-h.childIndex).forEach(d=>R(d,c.children,r,o,n,c.isGhost,c.isSelected||c.isChildOfSelected,u)))}function U(e,t){return M.boundsContain(t,e)||M.boundsCollide(t,e)}function se(e,t,r,o){let{callbacks:n,shapeUtils:i,bounds:l}=Zt(),u=a.useRef(),s=a.useRef(-1),c=a.useRef(new Set),d=a.useRef(new Set),{selectedIds:h,camera:C}=t,[E,v]=w.sub(w.div([0,0],C.zoom),C.point),[_,y]=w.sub(w.div([l.width,l.height],C.zoom),C.point),x={minX:E,minY:v,maxX:_,maxY:y,height:_-E,width:y-v},S=d.current,D=c.current;S.clear(),D.clear(),Object.values(e.shapes).filter(P=>i[P.type].isStateful||h.includes(P.id)||U(i[P.type].getBounds(P),x)).forEach(P=>{if(P.parentId===e.id){D.add(P.id),S.add(P);return}let A=e.shapes[P.parentId];if(A===void 0)throw Error(`A shape (${P.id}) has a parent (${P.parentId}) that does not exist!`);D.add(A.id),S.add(A)}),S.size!==s.current&&(u.current&&clearTimeout(u.current),u.current=requestAnimationFrame(()=>{var P;(P=n.onRenderCountChange)==null||P.call(n,Array.from(D.values()))}),s.current=S.size);let F=t.bindingId?e.bindings[t.bindingId].toId:void 0,k=[];return S.forEach(P=>{if(P===void 0)throw Error("Rendered shapes included a missing shape");R(P,k,e.shapes,t,r,P.isGhost,!1,o,F)}),k.sort((P,A)=>P.shape.childIndex-A.shape.childIndex),k}var Ie=new Map;function Ce(e,t){return Object.keys(t).reduce((r,o)=>{let n=t[o];return n?r+`${`--${e}-${o}`}: ${n};
`:r},"")}function tt(e,t,r=":root"){a.useLayoutEffect(()=>{let o=document.createElement("style"),n=Ce(e,t);return o.setAttribute("id",`${e}-theme`),o.setAttribute("data-selector",r),o.innerHTML=`
        ${r} {
          ${n}
        }
      `,document.head.appendChild(o),()=>{o&&document.head.contains(o)&&document.head.removeChild(o)}},[e,t,r])}function Gt(e,t){a.useLayoutEffect(()=>{if(Ie.get(e))return()=>{};let r=document.createElement("style");return r.innerHTML=t,r.setAttribute("id",e),document.head.appendChild(r),Ie.set(e,r),()=>{r&&document.head.contains(r)&&(document.head.removeChild(r),Ie.delete(e))}},[e,t])}var k1=(e,...t)=>e.reduce((r,o,n)=>r+o+(n<t.length?t[n]:""),""),ri={accent:"rgb(255, 0, 0)",brushFill:"rgba(0,0,0,.05)",brushStroke:"rgba(0,0,0,.25)",brushDashStroke:"rgba(0,0,0,.6)",selectStroke:"rgb(66, 133, 244)",selectFill:"rgba(65, 132, 244, 0.05)",binding:"rgba(65, 132, 244, 0.12)",background:"rgb(248, 249, 250)",foreground:"rgb(51, 51, 51)",grid:"rgba(144, 144, 144, 1)"},Vn=k1`
  .tl-container {
    --tl-zoom: 1;
    --tl-scale: calc(1 / var(--tl-zoom));
    --tl-padding: calc(64px * max(1, var(--tl-scale)));
    --tl-performance-all: auto;
    --tl-performance-selected: auto;
    position: relative;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    box-sizing: border-box;
    padding: 0px;
    margin: 0px;
    z-index: 100;
    overflow: hidden;
    touch-action: none;
    overscroll-behavior: none;
    background-color: var(--tl-background);
  }
  .tl-container * {
    box-sizing: border-box;
  }
  .tl-overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: none;
  }
  .tl-grid {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: none;
    user-select: none;
  }
  .tl-snap-line {
    stroke: var(--tl-accent);
    stroke-width: calc(1px * var(--tl-scale));
  }
  .tl-snap-point {
    stroke: var(--tl-accent);
    stroke-width: calc(1px * var(--tl-scale));
  }
  .tl-canvas {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: all;
    overflow: clip;
  }
  .tl-layer {
    position: absolute;
    top: 0px;
    left: 0px;
    height: 0px;
    width: 0px;
    contain: layout style size;
  }
  .tl-absolute {
    position: absolute;
    top: 0px;
    left: 0px;
    transform-origin: center center;
    contain: layout style size;
  }
  .tl-positioned {
    position: absolute;
    top: 0px;
    left: 0px;
    transform-origin: center center;
    pointer-events: none;
    display: flex;
    align-items: center;
    justify-content: center;
    contain: layout style size;
    will-change: var(--tl-performance-all);
  }
  .tl-positioned-svg {
    width: 100%;
    height: 100%;
    overflow: hidden;
    contain: layout style size;
  }
  .tl-positioned-div {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    padding: var(--tl-padding);
    overflow: hidden;
    contain: layout style size;
  }
  .tl-positioned-selected {
    will-change: var(--tl-performance-selected);
  }
  .tl-inner-div {
    position: relative;
    width: 100%;
    height: 100%;
  }
  .tl-stroke-hitarea {
    fill: none;
    stroke: transparent;
    stroke-width: calc(24px * var(--tl-scale));
    pointer-events: stroke;
    stroke-linecap: round;
    stroke-linejoin: round;
  }
  .tl-fill-hitarea {
    fill: transparent;
    stroke: transparent;
    stroke-width: calc(24px * var(--tl-scale));
    pointer-events: all;
    stroke-linecap: round;
    stroke-linejoin: round;
  }
  .tl-counter-scaled {
    transform: scale(var(--tl-scale));
  }
  .tl-dashed {
    stroke-dasharray: calc(2px * var(--tl-scale)), calc(2px * var(--tl-scale));
  }
  .tl-transparent {
    fill: transparent;
    stroke: transparent;
  }
  .tl-cursor-ns {
    cursor: ns-resize;
  }
  .tl-cursor-ew {
    cursor: ew-resize;
  }
  .tl-cursor-nesw {
    cursor: nesw-resize;
  }
  .tl-cursor-nwse {
    cursor: nwse-resize;
  }
  .tl-corner-handle {
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
    stroke-width: calc(1.5px * var(--tl-scale));
  }
  .tl-rotate-handle {
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
    stroke-width: calc(1.5px * var(--tl-scale));
    cursor: grab;
  }
  .tl-binding {
    fill: var(--tl-selectFill);
    stroke: var(--tl-selectStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
  }
  .tl-user {
    left: calc(-15px * var(--tl-scale));
    top: calc(-15px * var(--tl-scale));
    height: calc(35px * var(--tl-scale));
    width: calc(35px * var(--tl-scale));
    transform: scale(var(--tl-scale));
    pointer-events: none;
    will-change: transform;
  }
  .tl-animated {
    transition: transform 200ms linear;
  }
  .tl-indicator {
    fill: transparent;
    stroke-width: calc(1.5px * var(--tl-scale));
    pointer-events: none;
  }
  .tl-user-indicator-bounds {
    border-style: solid;
    border-width: calc(1px * var(--tl-scale));
  }
  .tl-hovered {
    stroke: var(--tl-selectStroke);
  }
  .tl-selected {
    stroke: var(--tl-selectStroke);
  }
  .tl-locked {
    stroke-dasharray: calc(3px * var(--tl-scale)) calc(3px * var(--tl-scale));
  }
  .tl-editing {
    stroke-width: calc(2.5px * min(5, var(--tl-scale)));
  }
  .tl-performance {
    will-change: transform, contents;
  }
  .tl-clone-target {
    pointer-events: all;
  }
  .tl-clone-target:hover .tl-clone-button {
    opacity: 1;
  }
  .tl-clone-button-target {
    cursor: pointer;
    pointer-events: all;
  }
  .tl-clone-button-target:hover .tl-clone-button {
    fill: var(--tl-selectStroke);
  }
  .tl-clone-button {
    opacity: 0;
    r: calc(8px * var(--tl-scale));
    stroke-width: calc(1.5px * var(--tl-scale));
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
  }
  .tl-bounds {
    pointer-events: none;
    contain: layout style size;
  }
  .tl-bounds-bg {
    stroke: none;
    fill: var(--tl-selectFill);
    pointer-events: all;
    contain: layout style size;
  }
  .tl-bounds-center {
    fill: transparent;
    stroke: var(--tl-selectStroke);
    stroke-width: calc(1.5px * var(--tl-scale));
  }
  .tl-brush {
    fill: var(--tl-brushFill);
    stroke: var(--tl-brushStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
    contain: layout style size;
  }
  .tl-dashed-brush-line {
    fill: none;
    stroke: var(--tl-brushDashStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
  }
  .tl-brush.dashed {
    stroke: none;
  }
  .tl-handle {
    pointer-events: all;
    cursor: grab;
  }
  .tl-handle:hover .tl-handle-bg {
    fill: var(--tl-selectFill);
  }
  .tl-handle:hover .tl-handle-bg > * {
    stroke: var(--tl-selectFill);
  }
  .tl-handle:active .tl-handle-bg {
    cursor: grabbing;
    fill: var(--tl-selectFill);
  }
  .tl-handle:active .tl-handle-bg > * {
    stroke: var(--tl-selectFill);
  }
  .tl-handle {
    fill: var(--tl-background);
    stroke: var(--tl-selectStroke);
    stroke-width: 1.5px;
  }
  .tl-handle-bg {
    fill: transparent;
    stroke: none;
    pointer-events: all;
    r: calc(16px / max(1, var(--tl-zoom)));
  }
  .tl-binding-indicator {
    fill: transparent;
    stroke: var(--tl-binding);
  }
  .tl-centered-g {
    transform: translate(var(--tl-padding), var(--tl-padding));
  }
  .tl-current-parent > *[data-shy='true'] {
    opacity: 1;
  }
  .tl-binding {
    fill: none;
    stroke: var(--tl-selectStroke);
    stroke-width: calc(2px * var(--tl-scale));
  }
  .tl-grid-dot {
    fill: var(--tl-grid);
  }
  .tl-erase-line {
    stroke-linejoin: round;
    stroke-linecap: round;
    pointer-events: none;
    fill: var(--tl-grid);
    opacity: 0.32;
  }
`;function oi(e,t){let r=a.useMemo(()=>et(et({},ri),e),[e]);tt("tl",r,t),Gt("tl-canvas",Vn)}function Cr(e){let{callbacks:t,inputs:r}=Zt(),o=a.useCallback(s=>{var c,d,h;if(s.dead||(s.dead=!0,!r.pointerIsValid(s)))return;let C=r.pointerDown(s,e);if(s.button===2){(c=t.onRightPointBoundsHandle)==null||c.call(t,C,s);return}s.button===0&&((d=t.onPointBoundsHandle)==null||d.call(t,C,s)),(h=t.onPointerDown)==null||h.call(t,C,s)},[r,t,e]),n=a.useCallback(s=>{var c,d,h;if(s.dead||(s.dead=!0,s.button===2||!r.pointerIsValid(s)))return;let C=r.pointerUp(s,e),E=r.isDoubleClick();s.button===0&&(E&&!(C.altKey||C.metaKey)&&((c=t.onDoubleClickBoundsHandle)==null||c.call(t,C,s)),(d=t.onReleaseBoundsHandle)==null||d.call(t,C,s)),(h=t.onPointerUp)==null||h.call(t,C,s)},[r,t,e]),i=a.useCallback(s=>{var c,d;if(s.dead||(s.dead=!0,!r.pointerIsValid(s))||s.buttons===2)return;let h=r.pointerMove(s,e);s.buttons===1&&s.currentTarget.hasPointerCapture(s.pointerId)&&((c=t.onDragBoundsHandle)==null||c.call(t,h,s)),(d=t.onPointerMove)==null||d.call(t,h,s)},[r,t,e]),l=a.useCallback(s=>{var c;!r.pointerIsValid(s)||(c=t.onHoverBoundsHandle)==null||c.call(t,r.pointerEnter(s,e),s)},[r,t,e]),u=a.useCallback(s=>{var c;!r.pointerIsValid(s)||(c=t.onUnhoverBoundsHandle)==null||c.call(t,r.pointerEnter(s,e),s)},[r,t,e]);return{onPointerDown:o,onPointerUp:n,onPointerEnter:l,onPointerMove:i,onPointerLeave:u}}function ni(e,t,r){let o=a.useRef(),n=a.useRef();a.useLayoutEffect(()=>{let{zoom:i,point:l}=r.camera,u=i!==o.current,s=l!==n.current;if(o.current=i,n.current=l,u||s){let c=e.current;if(t&&"current"in t){let d=t.current;u&&d&&d.style.setProperty("--tl-zoom",i.toString()),c&&c.style.setProperty("transform",`scale(${i}) translateX(${l[0]}px) translateY(${l[1]}px)`)}}},[r.camera.zoom,r.camera.point])}function fn(e,t){return[(e[0]+t.point[0])*t.zoom,(e[1]+t.point[1])*t.zoom]}function pn(e,t){return e[t.type]}function ii(e,t,r){let{rSelectionBounds:o}=Zt(),{selectedIds:n}=t,i=a.useRef(),l,u=0,s=!1,c=!1;if(n.length===1){let h=n[0],C=e.shapes[h];if(!C)throw Error(`selectedIds is set to the id of a shape that doesn't exist: ${h}`);u=C.rotation||0,s=C.isLocked||!1;let E=pn(r,C);l=E.hideBounds?void 0:E.getBounds(C)}else if(n.length>1){let h=n.map(C=>e.shapes[C]);u=0,s=h.every(C=>C.isLocked),l=h.reduce((C,E,v)=>v===0?pn(r,E).getRotatedBounds(E):Kt.getExpandedBounds(C,pn(r,E).getRotatedBounds(E)),{})}if(l){let[h,C]=fn([l.minX,l.minY],t.camera),[E,v]=fn([l.maxX,l.maxY],t.camera);c=!!Object.values(e.bindings).find(_=>n.includes(_.toId)||n.includes(_.fromId)),o.current={minX:h,minY:C,maxX:E,maxY:v,width:E-h,height:v-C}}else o.current=null;let d=i.current;return!d||!l?i.current=l:l&&d.minX===l.minX&&d.minY===l.minY&&d.maxX===l.maxX&&d.maxY===l.maxY&&(l=i.current),{bounds:l,rotation:u,isLocked:s,isLinked:c}}function Zn(e){let{inputs:t,callbacks:r}=Zt();return a.useMemo(()=>({onPointerDown:o=>{var n,i,l;if(o.dead||(o.dead=!0,!t.pointerIsValid(o))||o.button===2)return;(n=o.currentTarget)==null||n.setPointerCapture(o.pointerId);let u=t.pointerDown(o,e);o.button===0&&((i=r.onPointHandle)==null||i.call(r,u,o)),(l=r.onPointerDown)==null||l.call(r,u,o)},onPointerUp:o=>{var n,i,l,u;if(o.dead||(o.dead=!0,!t.pointerIsValid(o))||o.button===2)return;let s=t.isDoubleClick(),c=t.pointerUp(o,e);o.currentTarget.hasPointerCapture(o.pointerId)&&((n=o.currentTarget)==null||n.releasePointerCapture(o.pointerId),o.button===0&&(s&&!(c.altKey||c.metaKey)&&((i=r.onDoubleClickHandle)==null||i.call(r,c,o)),(l=r.onReleaseHandle)==null||l.call(r,c,o))),(u=r.onPointerUp)==null||u.call(r,c,o)},onPointerMove:o=>{var n,i;if(o.dead||(o.dead=!0,!t.pointerIsValid(o))||o.buttons===2)return;let l=t.pointerMove(o,e);o.buttons===1&&o.currentTarget.hasPointerCapture(o.pointerId)&&((n=r.onDragHandle)==null||n.call(r,l,o)),(i=r.onPointerMove)==null||i.call(r,l,o)},onPointerEnter:o=>{var n;if(!t.pointerIsValid(o))return;let i=t.pointerEnter(o,e);(n=r.onHoverHandle)==null||n.call(r,i,o)},onPointerLeave:o=>{var n;if(!t.pointerIsValid(o))return;let i=t.pointerEnter(o,e);(n=r.onUnhoverHandle)==null||n.call(r,i,o)}}),[t,r,e])}function zn(e){let{bounds:t}=Zt();a.useEffect(()=>{let r=i=>{i.preventDefault()},o=i=>{let l=i.touches[0].pageX,u=i.touches[0].radiusX||0;(l-u<10||l+u>t.width-10)&&i.preventDefault()},n=e.current;return n?(n.addEventListener("gestureend",r),n.addEventListener("gesturechange",r),n.addEventListener("gesturestart",r),n.addEventListener("touchstart",o),()=>{n&&(n.removeEventListener("gestureend",r),n.removeEventListener("gesturechange",r),n.removeEventListener("gesturestart",r),n.removeEventListener("touchstart",o))}):()=>{}},[e,t.width])}function Nn(){let{callbacks:e,inputs:t}=Zt();return a.useMemo(()=>({onPointerDown:r=>{var o,n,i,l;if(r.dead||(r.dead=!0,!t.pointerIsValid(r)))return;if(r.button===2){(o=e.onRightPointBounds)==null||o.call(e,t.pointerDown(r,"bounds"),r);return}let u=t.pointerDown(r,"bounds");(n=r.currentTarget)==null||n.setPointerCapture(r.pointerId),r.button===0&&((i=e.onPointBounds)==null||i.call(e,u,r)),(l=e.onPointerDown)==null||l.call(e,u,r)},onPointerUp:r=>{var o,n,i,l;if(r.dead||(r.dead=!0,r.button===2)||(t.activePointer=void 0,!t.pointerIsValid(r)))return;let u=t.isDoubleClick(),s=t.pointerUp(r,"bounds");r.currentTarget.hasPointerCapture(r.pointerId)&&((o=r.currentTarget)==null||o.releasePointerCapture(r.pointerId)),r.button===0&&(u&&!(s.altKey||s.metaKey)&&((n=e.onDoubleClickBounds)==null||n.call(e,s,r)),(i=e.onReleaseBounds)==null||i.call(e,s,r)),(l=e.onPointerUp)==null||l.call(e,s,r)},onPointerMove:r=>{var o,n;if(r.dead||(r.dead=!0,!t.pointerIsValid(r)))return;r.buttons===1&&r.currentTarget.hasPointerCapture(r.pointerId)&&((o=e.onDragBounds)==null||o.call(e,t.pointerMove(r,"bounds"),r));let i=t.pointerMove(r,"bounds");(n=e.onPointerMove)==null||n.call(e,i,r)},onPointerEnter:r=>{var o;!t.pointerIsValid(r)||(o=e.onHoverBounds)==null||o.call(e,t.pointerEnter(r,"bounds"),r)},onPointerLeave:r=>{var o;!t.pointerIsValid(r)||(o=e.onUnhoverBounds)==null||o.call(e,t.pointerEnter(r,"bounds"),r)}}),[t,e])}function Ro(e,t=0){let r=a.useRef(null);return a.useLayoutEffect(()=>{let o=r.current,n=`
    translate(
      calc(${e.minX}px - var(--tl-padding)),
      calc(${e.minY}px - var(--tl-padding))
    )
    rotate(${t+(e.rotation||0)}rad)`;o.style.setProperty("transform",n),o.style.setProperty("width",`calc(${Math.floor(e.width)}px + (var(--tl-padding) * 2))`),o.style.setProperty("height",`calc(${Math.floor(e.height)}px + (var(--tl-padding) * 2))`)},[e,t]),r}function gn(){let{inputs:e,callbacks:t}=Zt();a.useEffect(()=>{let r=n=>{var i;(i=t.onKeyDown)==null||i.call(t,n.key,e.keydown(n),n)},o=n=>{var i;e.keyup(n),(i=t.onKeyUp)==null||i.call(t,n.key,e.keyup(n),n)};return window.addEventListener("keydown",r),window.addEventListener("keyup",o),()=>{window.removeEventListener("keydown",r),window.removeEventListener("keyup",o)}},[e,t])}function Wn(e,t){a.useLayoutEffect(()=>{if(t&&"current"in t){let r=t?.current;if(!r)return;switch(e){case"transform_selected":{r.style.setProperty("--tl-performance-all","auto"),r.style.setProperty("--tl-performance-selected","transform, contents");break}case"transform_all":{r.style.setProperty("--tl-performance-all","transform, contents"),r.style.setProperty("--tl-performance-selected","transform, contents");break}case"translate_selected":{r.style.setProperty("--tl-performance-all","auto"),r.style.setProperty("--tl-performance-selected","transform");break}case"translate_all":{r.style.setProperty("--tl-performance-all","transform"),r.style.setProperty("--tl-performance-selected","transform");break}default:r.style.setProperty("--tl-performance-all","auto"),r.style.setProperty("--tl-performance-selected","auto")}}},[e])}function ai(e){var t=e,{id:r,bounds:o,rotation:n=0,isGhost:i=!1,isSelected:l=!1,children:u}=t,s=mr(t,["id","bounds","rotation","isGhost","isSelected","children"]);let c=Ro(o,n);return a.createElement("div",et({id:r,ref:c,className:`tl-positioned${i?" tl-ghost":""}${l?" tl-positioned-selected":""}`,"aria-label":"container","data-testid":"container"},s),u)}var eo=a.memo(ai);function li({brush:e,zoom:t,dashed:r}){return a.createElement(eo,{bounds:e,rotation:0},a.createElement(P1,null,a.createElement("rect",{className:"tl-brush"+(r?" dashed":""),opacity:1,x:0,y:0,width:e.width,height:e.height,"aria-label":"brush"}),r&&a.createElement("g",{className:"tl-dashed-brush-line"},a.createElement(to,{x1:0,y1:0,x2:e.width,y2:0,zoom:t}),a.createElement(to,{x1:e.width,y1:0,x2:e.width,y2:e.height,zoom:t}),a.createElement(to,{x1:0,y1:e.height,x2:e.width,y2:e.height,zoom:t}),a.createElement(to,{x1:0,y1:0,x2:0,y2:e.height,zoom:t}))))}var si=a.memo(li);function to({x1:e,y1:t,x2:r,y2:o,zoom:n}){let i=Kt.getPerfectDashProps(Math.hypot(r-e,o-t),1/n,"dashed",1,!0,3);return a.createElement("line",{x1:e,y1:t,x2:r,y2:o,strokeWidth:1/n,strokeDasharray:i.strokeDasharray,strokeDashoffset:i.strokeDashoffset})}var J2=a.memo(({color:e})=>a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",fill:"none",fillRule:"evenodd"},a.createElement("g",{fill:"rgba(0,0,0,.2)",transform:"translate(1,1)"},a.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),a.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),a.createElement("g",{fill:"white"},a.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),a.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),a.createElement("g",{fill:e},a.createElement("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),a.createElement("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"}))));function Q2({points:e,zoom:t}){if(e.length===0)return null;let r=Kt.getSvgPathFromStroke(Yr(e,{size:16/t,start:{taper:!0}}));return a.createElement("path",{d:r,className:"tl-erase-line"})}var eu=a.memo(Q2),$a=[[-1,.15,64],[.05,.375,16],[.15,1,4],[.7,2.5,1]];function tu({grid:e,camera:t}){return a.createElement("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.createElement("defs",null,$a.map(([r,o,n],i)=>{let l=n*e*t.zoom,u=t.point[0]*t.zoom,s=t.point[1]*t.zoom,c=u>0?u%l:l+u%l,d=s>0?s%l:l+s%l,h=t.zoom<o?Kt.modulate(t.zoom,[r,o],[0,1]):1;return a.createElement("pattern",{key:`grid-pattern-${i}`,id:`grid-${i}`,width:l,height:l,patternUnits:"userSpaceOnUse"},a.createElement("circle",{className:"tl-grid-dot",cx:c,cy:d,r:1,opacity:h}))})),$a.map((r,o)=>a.createElement("rect",{key:`grid-rect-${o}`,width:"100%",height:"100%",fill:`url(#grid-${o})`})))}function ru({camera:{zoom:e,point:t},children:r}){let o=2.5/e;return a.createElement("svg",{className:"tl-overlay"},a.createElement("defs",null,a.createElement("g",{id:"tl-snap-point"},a.createElement("path",{className:"tl-snap-point",d:`M ${-o},${-o} L ${o},${o} M ${-o},${o} L ${o},${-o}`}))),a.createElement("g",{transform:`scale(${e}) translate(${t})`},r))}var ou=a.memo(ru),P1=a.memo(a.forwardRef(function(e,t){var r=e,{id:o,className:n="",children:i}=r,l=mr(r,["id","className","children"]);return a.createElement("svg",et({ref:t,className:`tl-positioned-svg ${n}`},l),a.createElement("g",{id:o,className:"tl-centered-g"},i))}));function nu({bounds:e,isLocked:t,isHidden:r}){return a.createElement("rect",{className:["tl-bounds-center",t?"tl-dashed":""].join(" "),x:-1,y:-1,width:e.width+2,height:e.height+2,opacity:r?0:1,pointerEvents:"none","aria-label":"center handle"})}var iu=a.memo(nu),au={right:0,bottomRight:45,bottom:90,bottomLeft:135,left:180,topLeft:225,top:270,topRight:315};function lu({bounds:e,side:t,targetSize:r,size:o}){let n=r*2,i={left:-n,topLeft:-n,bottomLeft:-n,right:e.width,topRight:e.width,bottomRight:e.width,top:e.width/2-n/2,bottom:e.width/2-n/2}[t],l={left:e.height/2-n/2,right:e.height/2-n/2,top:-n*2,topLeft:-n,topRight:-n,bottom:e.height,bottomLeft:e.height,bottomRight:e.height}[t],{callbacks:u,inputs:s}=Zt(),c=a.useCallback(d=>{var h;d.stopPropagation();let C=s.pointerDown(d,t);(h=u.onShapeClone)==null||h.call(u,C,d)},[u.onShapeClone]);return a.createElement("g",{className:"tl-clone-target",transform:`translate(${i}, ${l})`,"aria-label":"clone button"},a.createElement("rect",{className:"tl-transparent",width:r*2,height:r*2}),a.createElement("g",{className:"tl-clone-button-target",onPointerDown:c,transform:`translate(${r}, ${r}) rotate(${au[t]})`},a.createElement("circle",{className:"tl-transparent ",r}),a.createElement("path",{className:"tl-clone-button",d:`M -${o/2},-${o/2} L ${o/2},0 -${o/2},${o/2} Z`,strokeLinejoin:"round"})))}var Or=a.memo(lu);function su({targetSize:e,size:t,bounds:r}){return a.createElement(a.Fragment,null,a.createElement(Or,{targetSize:e,size:t,bounds:r,side:"top"}),a.createElement(Or,{targetSize:e,size:t,bounds:r,side:"right"}),a.createElement(Or,{targetSize:e,size:t,bounds:r,side:"bottom"}),a.createElement(Or,{targetSize:e,size:t,bounds:r,side:"left"}),a.createElement(Or,{targetSize:e,size:t,bounds:r,side:"topLeft"}),a.createElement(Or,{targetSize:e,size:t,bounds:r,side:"topRight"}),a.createElement(Or,{targetSize:e,size:t,bounds:r,side:"bottomLeft"}),a.createElement(Or,{targetSize:e,size:t,bounds:r,side:"bottomRight"}))}var uu=a.memo(su),cu={top_left_corner:"tl-cursor-nwse",top_right_corner:"tl-cursor-nesw",bottom_right_corner:"tl-cursor-nwse",bottom_left_corner:"tl-cursor-nesw"};function du({size:e,targetSize:t,isHidden:r,corner:o,bounds:n}){let i=Cr(o),l=o==="top_left_corner"||o==="top_right_corner",u=o==="top_left_corner"||o==="bottom_left_corner";return a.createElement("g",{opacity:r?0:1},a.createElement("rect",et({className:"tl-transparent "+(r?"":cu[o]),"aria-label":"corner transparent",x:(u?-1:n.width+1)-t,y:(l?-1:n.height+1)-t,width:t*2,height:t*2,pointerEvents:r?"none":"all"},i)),a.createElement("rect",{className:"tl-corner-handle","aria-label":"corner handle",x:(u?-1:n.width+1)-e/2,y:(l?-1:n.height+1)-e/2,width:e,height:e,pointerEvents:"none"}))}var Un=a.memo(du),hu={top_edge:"tl-cursor-ns",right_edge:"tl-cursor-ew",bottom_edge:"tl-cursor-ns",left_edge:"tl-cursor-ew"};function fu({size:e,isHidden:t,bounds:r,edge:o}){let n=Cr(o),i=o==="top_edge"||o==="bottom_edge",l=o==="right_edge"||o==="bottom_edge",{height:u,width:s}=r;return a.createElement("rect",et({pointerEvents:t?"none":"all",className:"tl-transparent tl-edge-handle "+(t?"":hu[o]),"aria-label":`${o} handle`,opacity:t?0:1,x:i?e/2:(l?s+1:-1)-e/2,y:i?(l?u+1:-1)-e/2:e/2,width:i?Math.max(0,s+1-e):e,height:i?e:Math.max(0,u+1-e)},n))}var Kn=a.memo(fu);function pu({size:e,bounds:t,isHidden:r}){let o=Cr("left"),n=Cr("center"),i=Cr("right");return a.createElement("g",{cursor:"grab",transform:`translate(${t.width/2-e*4}, ${t.height+e*2})`,"aria-label":"link handle"},a.createElement("g",{className:"tl-transparent",pointerEvents:r?"none":"all"},a.createElement("rect",et({x:0,y:0,width:e*2,height:e*2},o)),a.createElement("rect",et({x:e*3,y:0,width:e*2,height:e*2},n)),a.createElement("rect",et({x:e*6,y:0,width:e*2,height:e*2},i))),a.createElement("g",{className:"tl-rotate-handle",transform:`translate(${e/2}, ${e/2})`,"aria-label":"link rotate handle"},a.createElement("path",{d:`M 0,${e/2} L ${e},${e} ${e},0 Z`,pointerEvents:"none",opacity:r?0:1}),a.createElement("path",{transform:`translate(${e*3}, 0)`,d:`M 0,0 L ${e},0 ${e/2},${e} Z`,pointerEvents:"none",opacity:r?0:1}),a.createElement("path",{transform:`translate(${e*6}, 0)`,d:`M ${e},${e/2} L 0,0 0,${e} Z`,pointerEvents:"none",opacity:r?0:1})))}var gu=a.memo(pu);function mu({bounds:e,targetSize:t,size:r,isHidden:o}){let n=Cr("rotate");return a.createElement("g",{cursor:"grab",opacity:o?0:1},a.createElement("circle",et({className:"tl-transparent","aria-label":"rotate handle transparent",cx:e.width/2,cy:r*-2,r:t,pointerEvents:o?"none":"all"},n)),a.createElement("circle",{className:"tl-rotate-handle","aria-label":"rotate handle",cx:e.width/2,cy:r*-2,r:r/2,pointerEvents:"none"}))}var Cu=a.memo(mu),vu=function({zoom:e,bounds:t,viewportWidth:r,rotation:o,isHidden:n,isLocked:i,hideCloneHandles:l,hideResizeHandles:u,hideRotateHandle:s,hideBindingHandles:c}){let d=(r<768?16:8)/e,h=8/e,C=Math.min(t.width,t.height)*e,E=!s&&!n&&!i&&C>32,v=!n&&!i&&C>24,_=!n&&!i&&C>20,y=!l&&C>24;return a.createElement(eo,{bounds:t,rotation:o},a.createElement(P1,null,a.createElement(iu,{bounds:t,isLocked:i,isHidden:n}),!u&&!i?a.createElement(a.Fragment,null,a.createElement(Kn,{targetSize:d,size:h,bounds:t,edge:"top_edge",isHidden:!v}),a.createElement(Kn,{targetSize:d,size:h,bounds:t,edge:"right_edge",isHidden:!v}),a.createElement(Kn,{targetSize:d,size:h,bounds:t,edge:"bottom_edge",isHidden:!v}),a.createElement(Kn,{targetSize:d,size:h,bounds:t,edge:"left_edge",isHidden:!v}),a.createElement(Un,{targetSize:d,size:h,bounds:t,isHidden:n||!_,corner:"top_left_corner"}),a.createElement(Un,{targetSize:d,size:h,bounds:t,isHidden:n||!_,corner:"top_right_corner"}),a.createElement(Un,{targetSize:d,size:h,bounds:t,isHidden:n||!_,corner:"bottom_right_corner"}),a.createElement(Un,{targetSize:d,size:h,bounds:t,isHidden:n||!_,corner:"bottom_left_corner"})):null,E&&a.createElement(Cu,{targetSize:d,size:h,bounds:t,isHidden:!v}),y&&a.createElement(uu,{bounds:t,targetSize:d,size:h}),!c&&a.createElement(gu,{targetSize:d,size:h,bounds:t,isHidden:!v})))},Eu=a.memo(vu);function wu({bounds:e,rotation:t,isHidden:r}){let o=Nn();return a.createElement(eo,{bounds:e,rotation:t},a.createElement(P1,null,a.createElement("rect",et({className:"tl-bounds-bg","aria-label":"bounds bg",width:e.width,height:e.height,opacity:r?0:1},o))))}var bu=a.memo(wu);function _u({id:e,point:t}){let r=Zn(e);return a.createElement(eo,{bounds:Kt.translateBounds({minX:0,minY:0,maxX:0,maxY:0,width:0,height:0},t)},a.createElement(P1,null,a.createElement("g",et({className:"tl-handle","aria-label":"handle"},r),a.createElement("circle",{className:"tl-handle-bg",pointerEvents:"all"}),a.createElement("circle",{className:"tl-counter-scaled tl-handle",pointerEvents:"none",r:4}))))}var yu=a.memo(_u);function xu({shape:e,zoom:t}){if(e.handles===void 0)return null;let r=null,o=Object.values(e.handles).reduce((n,i)=>{let l=w.add(i.point,e.point);return(!r||w.dist(l,r)*t>=32)&&(n.push(i),r=l),n},[]);return o.length===1?null:a.createElement(a.Fragment,null,o.map(n=>a.createElement(yu,{key:e.id+"_"+n.id,id:n.id,point:w.add(n.point,e.point)})))}var Lu=a.memo(xu);function Su(e){let t=e.utils.getRef(e.shape);return a.createElement(e.utils.Component,et({ref:t},e))}var Ru=a.memo(Su,(e,t)=>e.isHovered!==t.isHovered||e.isSelected!==t.isSelected||e.isEditing!==t.isEditing||e.isBinding!==t.isBinding||e.isGhost!==t.isGhost||e.meta!==t.meta?!1:t.shape!==e.shape?!t.utils.shouldRender(t.shape,e.shape):!0);function Iu(e){var t=e,{shape:r,utils:o,meta:n}=t,i=mr(t,["shape","utils","meta"]);let{callbacks:l}=Zt(),u=o.getBounds(r),s=L(r.id);return a.createElement(eo,{id:r.id,bounds:u,rotation:r.rotation,"data-shape":r.type,isGhost:i.isGhost,isSelected:i.isSelected},a.createElement(Ru,et({shape:r,utils:o,meta:n,events:s,bounds:u,onShapeChange:l.onShapeChange,onShapeBlur:l.onShapeBlur},i)))}var Mu=a.memo(Iu);function Du(e){var t=e,{shape:r,utils:o,meta:n,children:i}=t,l=mr(t,["shape","utils","meta","children"]);return a.createElement(a.Fragment,null,a.createElement(Mu,et({shape:r,utils:o[r.type],meta:n},l)),i&&i.map(u=>a.createElement(Ba,et({key:u.shape.id,utils:o},u))))}var Ba=a.memo(Du);function ku({isHovered:e=!1,isSelected:t=!1,isEditing:r=!1,shape:o,user:n,meta:i}){let{shapeUtils:l}=Zt(),u=l[o.type],s=u.getBounds(o),c=Ro(s,o.rotation);return a.createElement("div",{ref:c,draggable:!1,className:["tl-indicator","tl-absolute",t&&!n?"tl-selected":"tl-hovered",r?"tl-editing":"",o.isLocked?"tl-locked":""].join(" ")},a.createElement("svg",{width:"100%",height:"100%"},a.createElement("g",{className:"tl-centered-g",stroke:n?.color},a.createElement(u.Indicator,{shape:o,meta:i,user:n,bounds:s,isSelected:t,isHovered:e}))))}var ui=a.memo(ku);function Pu({page:e,pageState:t,assets:r,hideBounds:o,hideHandles:n,hideIndicators:i,hideBindingHandles:l,hideCloneHandles:u,hideRotateHandle:s,hideResizeHandles:c,meta:d}){let{bounds:h,shapeUtils:C}=Zt(),E=se(e,t,r,d),{bounds:v,isLinked:_,isLocked:y,rotation:x}=ii(e,t,C),{selectedIds:S,hoveredId:D,editingId:F,camera:{zoom:k}}=t,P=i,A=!0,Z=!1,oe,be=S.map(ce=>e.shapes[ce]);if(be.length===1){let ce=be[0];Z=F===ce.id,Z&&(P=!0);let _e=C[ce.type];A=u||!_e.showCloneHandles,ce.handles!==void 0&&!Z&&(oe=ce)}return a.createElement(a.Fragment,null,v&&a.createElement(bu,{bounds:v,rotation:x,isHidden:o}),E.map(ce=>a.createElement(Ba,et({key:ce.shape.id,utils:C},ce))),!P&&be.map(ce=>a.createElement(ui,{key:"selected_"+ce.id,shape:ce,meta:d,isSelected:!0,isEditing:Z})),!P&&D&&D!==F&&a.createElement(ui,{key:"hovered_"+D,shape:e.shapes[D],meta:d,isHovered:!0}),v&&a.createElement(Eu,{zoom:k,bounds:v,viewportWidth:h.width,isLocked:y,rotation:x,isHidden:o,hideRotateHandle:s,hideResizeHandles:c,hideBindingHandles:l||!_,hideCloneHandles:A}),!n&&oe&&a.createElement(Lu,{shape:oe,zoom:k}))}var $u=a.memo(Pu);function Bu({snapLines:e}){return a.createElement(a.Fragment,null,e.map((t,r)=>a.createElement(Au,{key:r,snapLine:t})))}function Hu({snapLine:e}){let t=Kt.getBoundsFromPoints(e);return a.createElement(a.Fragment,null,a.createElement("line",{className:"tl-snap-line",x1:t.minX,y1:t.minY,x2:t.maxX,y2:t.maxY}),e.map(([r,o],n)=>a.createElement("use",{key:n,href:"#tl-snap-point",x:r,y:o})))}var Au=a.memo(Hu),Tu=a.memo(Bu);function Ou({user:e,Cursor:t}){let r=a.useRef(null);return a.useLayoutEffect(()=>{r.current&&(r.current.style.transform=`translate(${e.point[0]}px, ${e.point[1]}px)`)},[e.point]),a.createElement("div",{ref:r,className:`tl-absolute tl-user tl-counter-scaled ${e.session?"":"tl-animated"}`},a.createElement(t,{id:e.id,color:e.color}))}function Fu({userId:e,users:t,Cursor:r}){return a.createElement(a.Fragment,null,Object.values(t).filter(o=>o&&o.id!==e).map(o=>a.createElement(Ou,{key:o.id,user:o,Cursor:r})))}function ju({userId:e,users:t,meta:r,page:o}){let{shapeUtils:n}=Zt();return a.createElement(a.Fragment,null,Object.values(t).filter(Boolean).filter(i=>i.id!==e&&i.selectedIds.length>0).map(i=>{let l=i.selectedIds.map(s=>o.shapes[s]).filter(Boolean);if(l.length===0)return null;let u=Kt.getCommonBounds(l.map(s=>n[s.type].getBounds(s)));return a.createElement(a.Fragment,{key:i.id+"_shapes"},a.createElement("div",{className:"tl-absolute tl-user-indicator-bounds",style:{backgroundColor:i.color+"0d",borderColor:i.color+"78",transform:`translate(${u.minX}px, ${u.minY}px)`,width:u.width,height:u.height,pointerEvents:"none"}}),l.map(s=>a.createElement(ui,{key:`${i.id}_${s.id}_indicator`,shape:s,user:i,meta:r,isHovered:!0})))}))}var Vu=e=>{let t=e.parentElement;for(;t;){if(t===document.body)return document;let{overflowY:r}=window.getComputedStyle(t);if(t.scrollHeight>t.clientHeight&&(r==="auto"||r==="scroll"||r==="overlay"))return t;t=t.parentElement}return document};function Zu(e,t){let{inputs:r,callbacks:o}=Zt(),n=a.useRef(!1),i=a.useCallback(()=>{var l,u;if(n.current){let s=(l=e.current)==null?void 0:l.getBoundingClientRect();if(s){let c={minX:s.left,maxX:s.left+s.width,minY:s.top,maxY:s.top+s.height,width:s.width,height:s.height};r.bounds=c,t(c),(u=o.onBoundsChange)==null||u.call(o,c)}}else n.current=!0},[e,r,o.onBoundsChange]);a.useEffect(()=>{let l=e.current?Vu(e.current):document,u=M.debounce(i,100);return l.addEventListener("scroll",u),window.addEventListener("resize",u),()=>{l.removeEventListener("scroll",u),window.removeEventListener("resize",u)}},[]),a.useEffect(()=>{let l=new ResizeObserver(u=>{r.isPinching||u[0].contentRect&&i()});return e.current&&l.observe(e.current),()=>{l.disconnect()}},[e,r]),a.useEffect(()=>{i()},[e])}function zu({id:e,page:t,pageState:r,assets:o,snapLines:n,eraseLine:i,grid:l,users:u,userId:s,components:c={},meta:d,performanceMode:h,showDashedBrush:C,hideHandles:E,hideBounds:v,hideIndicators:_,hideBindingHandles:y,hideCloneHandles:x,hideResizeHandles:S,hideRotateHandle:D,hideGrid:F,onBoundsChange:k,hideCursors:P}){var A;let Z=a.useRef(null),oe=a.useRef(r.camera.zoom);oe.current=r.camera.zoom,ti(oe,Z),Zu(Z,k),m(),zn(Z);let be=a.useRef(null),ce=a.useRef(null);ni(ce,be,r),Wn(h,be),gn();let _e=b();return a.createElement("div",{id:e,className:"tl-container",ref:be},a.createElement("div",et({id:"canvas",className:"tl-absolute tl-canvas",ref:Z},_e),!F&&l&&a.createElement(tu,{grid:l,camera:r.camera}),a.createElement("div",{ref:ce,className:"tl-absolute tl-layer","data-testid":"layer"},a.createElement($u,{page:t,pageState:r,assets:o,hideBounds:v,hideIndicators:_,hideHandles:E,hideBindingHandles:y,hideCloneHandles:x,hideResizeHandles:S,hideRotateHandle:D,meta:d}),u&&s&&a.createElement(ju,{userId:s,users:u,page:t,meta:d}),r.brush&&a.createElement(si,{brush:r.brush,dashed:C,zoom:r.camera.zoom}),u&&!P&&a.createElement(Fu,{userId:s,users:u,Cursor:(A=c?.Cursor)!=null?A:J2})),a.createElement(ou,{camera:r.camera},i&&a.createElement(eu,{points:i,zoom:r.camera.zoom}),n&&a.createElement(Tu,{snapLines:n}))))}var Nu=a.memo(zu),Wu=250,At=class{constructor(){mt(this,"pointer"),mt(this,"keyboard"),mt(this,"keys",{}),mt(this,"isPinching",!1),mt(this,"bounds",{minX:0,maxX:640,minY:0,maxY:480,width:640,height:480}),mt(this,"pointerUpTime",0),mt(this,"activePointer"),mt(this,"panStart",e=>{var t,r;let{shiftKey:o,ctrlKey:n,metaKey:i,altKey:l}=e,u={target:"wheel",pointerId:((t=this.pointer)==null?void 0:t.pointerId)||0,origin:((r=this.pointer)==null?void 0:r.origin)||[0,0],delta:[0,0],pressure:.5,point:At.getPoint(e,this.bounds),shiftKey:o,ctrlKey:n,metaKey:i,altKey:l,spaceKey:this.keys[" "]};return this.pointer=u,u}),mt(this,"pan",(e,t)=>{if(!this.pointer||this.pointer.target!=="wheel")return this.panStart(t);let{shiftKey:r,ctrlKey:o,metaKey:n,altKey:i}=t,l=this.pointer,u=At.getPoint(t,this.bounds),s=D1(et({},l),{target:"wheel",delta:e,point:u,shiftKey:r,ctrlKey:o,metaKey:n,altKey:i,spaceKey:this.keys[" "]});return this.pointer=s,s}),mt(this,"keydown",e=>{var t,r;let{shiftKey:o,ctrlKey:n,metaKey:i,altKey:l}=e;return this.keys[e.key]=!0,{point:((t=this.pointer)==null?void 0:t.point)||[0,0],origin:((r=this.pointer)==null?void 0:r.origin)||[0,0],key:e.key,keys:Object.keys(this.keys),shiftKey:o,ctrlKey:n,metaKey:M.isDarwin()?i:n,altKey:l}}),mt(this,"keyup",e=>{var t,r;let{shiftKey:o,ctrlKey:n,metaKey:i,altKey:l}=e;return delete this.keys[e.key],{point:((t=this.pointer)==null?void 0:t.point)||[0,0],origin:((r=this.pointer)==null?void 0:r.origin)||[0,0],key:e.key,keys:Object.keys(this.keys),shiftKey:o,ctrlKey:n,metaKey:M.isDarwin()?i:n,altKey:l}})}pointerIsValid(e){if("pointerId"in e&&this.activePointer&&this.activePointer!==e.pointerId)return!1;if("touches"in e){let t=e.changedTouches[0];if(this.activePointer&&this.activePointer!==t.identifier)return!1}return!0}touchStart(e,t){let{shiftKey:r,ctrlKey:o,metaKey:n,altKey:i}=e,l=e.changedTouches[0];this.activePointer=l.identifier;let u={target:t,pointerId:l.identifier,origin:At.getPoint(l,this.bounds),delta:[0,0],point:At.getPoint(l,this.bounds),pressure:At.getPressure(l),shiftKey:r,ctrlKey:o,metaKey:M.isDarwin()?n:o,altKey:i,spaceKey:this.keys[" "]};return this.pointer=u,u}touchEnd(e,t){let{shiftKey:r,ctrlKey:o,metaKey:n,altKey:i}=e,l=e.changedTouches[0],u={target:t,pointerId:l.identifier,origin:At.getPoint(l,this.bounds),delta:[0,0],point:At.getPoint(l,this.bounds),pressure:At.getPressure(l),shiftKey:r,ctrlKey:o,metaKey:M.isDarwin()?n:o,altKey:i,spaceKey:this.keys[" "]};return this.pointer=u,this.activePointer=void 0,u}touchMove(e,t){let{shiftKey:r,ctrlKey:o,metaKey:n,altKey:i}=e,l=e.changedTouches[0],u=this.pointer,s=At.getPoint(l,this.bounds),c=u?.point?w.sub(s,u.point):[0,0],d=D1(et({origin:s},u),{target:t,pointerId:l.identifier,point:s,delta:c,pressure:At.getPressure(l),shiftKey:r,ctrlKey:o,metaKey:M.isDarwin()?n:o,altKey:i,spaceKey:this.keys[" "]});return this.pointer=d,d}pointerDown(e,t){let{shiftKey:r,ctrlKey:o,metaKey:n,altKey:i}=e,l=At.getPoint(e,this.bounds);this.activePointer=e.pointerId;let u={target:t,pointerId:e.pointerId,origin:l,point:l,delta:[0,0],pressure:At.getPressure(e),shiftKey:r,ctrlKey:o,metaKey:M.isDarwin()?n:o,altKey:i,spaceKey:this.keys[" "]};return this.pointer=u,u}pointerEnter(e,t){let{shiftKey:r,ctrlKey:o,metaKey:n,altKey:i}=e,l=At.getPoint(e,this.bounds),u={target:t,pointerId:e.pointerId,origin:l,delta:[0,0],point:l,pressure:At.getPressure(e),shiftKey:r,ctrlKey:o,metaKey:M.isDarwin()?n:o,altKey:i,spaceKey:this.keys[" "]};return this.pointer=u,u}pointerMove(e,t){let{shiftKey:r,ctrlKey:o,metaKey:n,altKey:i}=e,l=this.pointer,u=At.getPoint(e,this.bounds),s=l?.point?w.sub(u,l.point):[0,0],c=D1(et({origin:u},l),{target:t,pointerId:e.pointerId,point:u,delta:s,pressure:At.getPressure(e),shiftKey:r,ctrlKey:o,metaKey:M.isDarwin()?n:o,altKey:i,spaceKey:this.keys[" "]});return this.pointer=c,c}pointerUp(e,t){let{shiftKey:r,ctrlKey:o,metaKey:n,altKey:i}=e,l=this.pointer,u=At.getPoint(e,this.bounds),s=l?.point?w.sub(u,l.point):[0,0];this.activePointer=void 0;let c=D1(et({origin:u},l),{target:t,pointerId:e.pointerId,point:u,delta:s,pressure:At.getPressure(e),shiftKey:r,ctrlKey:o,metaKey:M.isDarwin()?n:o,altKey:i,spaceKey:this.keys[" "]});return this.pointer=c,this.pointerUpTime=performance.now(),c}isDoubleClick(){if(!this.pointer)return!1;let{origin:e,point:t}=this.pointer,r=performance.now()-this.pointerUpTime<Wu&&w.dist(e,t)<4;return r&&(this.activePointer=void 0),r}clear(){this.pointer=void 0}resetDoubleClick(){this.pointerUpTime=0}pinch(e,t){let{shiftKey:r,ctrlKey:o,metaKey:n,altKey:i}=this.keys,l=w.sub(t,e),u={pointerId:0,target:"pinch",origin:t,delta:l,point:w.sub(w.toFixed(e),[this.bounds.minX,this.bounds.minY]),pressure:.5,shiftKey:r,ctrlKey:o,metaKey:M.isDarwin()?n:o,altKey:i,spaceKey:this.keys[" "]};return this.pointer=u,u}reset(){this.pointerUpTime=0,this.pointer=void 0,this.keyboard=void 0,this.activePointer=void 0,this.keys={}}static getPoint(e,t){return[+e.clientX.toFixed(2)-t.minX,+e.clientY.toFixed(2)-t.minY]}static getPressure(e){return"pressure"in e&&+e.pressure.toFixed(2)||.5}static commandKey(){return M.isDarwin()?"\u2318":"Ctrl"}},nee=new At,Uu=Object.freeze({});function Ku(e){var t=e,{id:r="tl",shapeUtils:o,page:n,pageState:i,assets:l=Uu,users:u,userId:s,theme:c,meta:d,snapLines:h,eraseLine:C,grid:E,containerRef:v,performanceMode:_,components:y,hideHandles:x=!1,hideIndicators:S=!1,hideCloneHandles:D=!1,hideBindingHandles:F=!1,hideResizeHandles:k=!1,hideRotateHandles:P=!1,hideBounds:A=!1,hideGrid:Z=!0,showDashedBrush:oe=!1,hideCursors:be}=t,ce=mr(t,["id","shapeUtils","page","pageState","assets","users","userId","theme","meta","snapLines","eraseLine","grid","containerRef","performanceMode","components","hideHandles","hideIndicators","hideCloneHandles","hideBindingHandles","hideResizeHandles","hideRotateHandles","hideBounds","hideGrid","showDashedBrush","hideCursors"]);oi(c,"#"+r);let _e=a.useRef(null),ye=a.useRef(i);a.useEffect(()=>{ye.current=i},[i]);let[Ke,Ze]=a.useState(()=>({callbacks:ce,shapeUtils:o,rSelectionBounds:_e,rPageState:ye,bounds:{minX:0,minY:0,maxX:1/0,maxY:1/0,width:1/0,height:1/0},inputs:new At})),ut=a.useCallback(ie=>{Ze(Ve=>D1(et({},Ve),{bounds:ie}))},[]);return a.createElement(hn.Provider,{value:Ke},a.createElement(Nu,{id:r,page:n,pageState:i,assets:l,snapLines:h,eraseLine:C,grid:E,users:u,userId:s,externalContainerRef:v,hideBounds:A,hideIndicators:S,hideHandles:x,hideCloneHandles:D,hideBindingHandles:F,hideRotateHandle:P,hideResizeHandles:k,hideGrid:Z,showDashedBrush:oe,onBoundsChange:ut,performanceMode:_,components:y,meta:d,hideCursors:be}))}var Gu=a.memo(Ku),Gn=a.memo(a.forwardRef(function(e,t){var r=e,{children:o,className:n=""}=r,i=mr(r,["children","className"]);return a.createElement("div",et({ref:t,className:`tl-positioned-div ${n}`,draggable:!1},i),a.createElement("div",{className:"tl-inner-div"},o))})),ci=class{constructor(){mt(this,"refMap",new Map),mt(this,"boundsCache",new WeakMap),mt(this,"showCloneHandles",!1),mt(this,"hideBounds",!1),mt(this,"isStateful",!1),mt(this,"shouldRender",(e,t)=>!0),mt(this,"getRef",e=>(this.refMap.has(e.id)||this.refMap.set(e.id,a.createRef()),this.refMap.get(e.id))),mt(this,"hitTestBounds",(e,t)=>{let r=this.getBounds(e),o=Kt.getRotatedCorners(r,e.rotation);return o.every(n=>Kt.pointInBounds(n,t))||Fn(o,t).length>0}),mt(this,"getRotatedBounds",e=>Kt.getBoundsFromPoints(Kt.getRotatedCorners(this.getBounds(e),e.rotation)))}};mt(ci,"Component",e=>a.forwardRef(e)),mt(ci,"Indicator",e=>e);/**
 * String.prototype.replaceAll() polyfill
 * https://gomakethings.com/how-to-replace-a-section-of-a-string-with-another-one-with-vanilla-js/
 * @author Chris Ferdinandi
 * @license MIT
 */var Xu=B(6808),fe=B(6753),iee=B(335);function Yu(e){return e.displayName||e.name||"Component"}var di=a.createContext(null),qu=di.Consumer,Ju=di.Provider,Qu=Ju,e9=di;function aee(e,t){var r=t||{},o=r.intlPropName,n=o===void 0?"intl":o,i=r.forwardRef,l=i===void 0?!1:i,u=r.enforceContext,s=u===void 0?!0:u,c=function(d){return React.createElement(qu,null,function(h){var C;s&&invariantIntlContext(h);var E=(C={},C[n]=h,C);return React.createElement(e,__assign({},d,E,{ref:l?d.forwardedRef:null}))})};return c.displayName="injectIntl(".concat(Yu(e),")"),c.WrappedComponent=e,l?hoistNonReactStatics(React.forwardRef(function(d,h){return React.createElement(c,__assign({},d,{forwardedRef:h}))}),e):hoistNonReactStatics(c,e)}function lee(e){return Math.floor(Math.log(e)*Math.LOG10E)}function see(e,t){if(typeof e.repeat=="function")return e.repeat(t);for(var r=new Array(t),o=0;o<r.length;o++)r[o]=e;return r.join("")}function t9(e,t,r,o){e.get(t)||e.set(t,Object.create(null));var n=e.get(t);n[r]=o}function uee(e,t,r){for(var o=0,n=Object.keys(r);o<n.length;o++){var i=n[o];t9(e,t,i,r[i])}}function cee(e,t,r){return r9(e,t,r)[r]}function r9(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=e.get(t);if(!n)throw new TypeError("".concat(t," InternalSlot has not been initialized"));return r.reduce(function(i,l){return i[l]=n[l],i},Object.create(null))}function dee(e){return e.type==="literal"}function hee(e,t,r){var o=r.value;Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:o})}var fee=/-u(?:-[0-9a-z]{2,8})+/gi;function Ha(e,t,r){if(r===void 0&&(r=Error),!e)throw new r(t)}var Je;(function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Je||(Je={}));var pt;(function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"})(pt||(pt={}));var Io;(function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"})(Io||(Io={}));function Aa(e){return e.type===pt.literal}function o9(e){return e.type===pt.argument}function Ta(e){return e.type===pt.number}function Oa(e){return e.type===pt.date}function Fa(e){return e.type===pt.time}function ja(e){return e.type===pt.select}function Va(e){return e.type===pt.plural}function n9(e){return e.type===pt.pound}function Za(e){return e.type===pt.tag}function za(e){return!!(e&&typeof e=="object"&&e.type===Io.number)}function hi(e){return!!(e&&typeof e=="object"&&e.type===Io.dateTime)}function pee(e){return{type:pt.literal,value:e}}function gee(e,t){return{type:pt.number,value:e,style:t}}var Na=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,mee=/[\t-\r \x85\u200E\u200F\u2028\u2029]/,i9=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function a9(e){var t={};return e.replace(i9,function(r){var o=r.length;switch(r[0]){case"G":t.era=o===4?"long":o===5?"narrow":"short";break;case"y":t.year=o===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][o-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][o-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=o===4?"short":o===5?"narrow":"short";break;case"e":if(o<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][o-4];break;case"c":if(o<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][o-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][o-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][o-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][o-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][o-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][o-1];break;case"s":t.second=["numeric","2-digit"][o-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=o<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),t}var l9=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function s9(e){if(e.length===0)throw new Error("Number skeleton cannot be empty");for(var t=e.split(l9).filter(function(C){return C.length>0}),r=[],o=0,n=t;o<n.length;o++){var i=n[o],l=i.split("/");if(l.length===0)throw new Error("Invalid number skeleton");for(var u=l[0],s=l.slice(1),c=0,d=s;c<d.length;c++){var h=d[c];if(h.length===0)throw new Error("Invalid number skeleton")}r.push({stem:u,options:s})}return r}function u9(e){return e.replace(/^(.*?)-/,"")}var Wa=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Ua=/^(@+)?(\+|#+)?[rs]?$/g,c9=/(\*)(0+)|(#+)(0+)|(0+)/g,Ka=/^(0+)$/;function Ga(e){var t={};return e[e.length-1]==="r"?t.roundingPriority="morePrecision":e[e.length-1]==="s"&&(t.roundingPriority="lessPrecision"),e.replace(Ua,function(r,o,n){return typeof n!="string"?(t.minimumSignificantDigits=o.length,t.maximumSignificantDigits=o.length):n==="+"?t.minimumSignificantDigits=o.length:o[0]==="#"?t.maximumSignificantDigits=o.length:(t.minimumSignificantDigits=o.length,t.maximumSignificantDigits=o.length+(typeof n=="string"?n.length:0)),""}),t}function Xa(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function d9(e){var t;if(e[0]==="E"&&e[1]==="E"?(t={notation:"engineering"},e=e.slice(2)):e[0]==="E"&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if(r==="+!"?(t.signDisplay="always",e=e.slice(2)):r==="+?"&&(t.signDisplay="exceptZero",e=e.slice(2)),!Ka.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Ya(e){var t={},r=Xa(e);return r||t}function h9(e){for(var t={},r=0,o=e;r<o.length;r++){var n=o[r];switch(n.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=n.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=u9(n.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=(0,fe.pi)((0,fe.pi)((0,fe.pi)({},t),{notation:"scientific"}),n.options.reduce(function(s,c){return(0,fe.pi)((0,fe.pi)({},s),Ya(c))},{}));continue;case"engineering":t=(0,fe.pi)((0,fe.pi)((0,fe.pi)({},t),{notation:"engineering"}),n.options.reduce(function(s,c){return(0,fe.pi)((0,fe.pi)({},s),Ya(c))},{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(n.options[0]);continue;case"integer-width":if(n.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");n.options[0].replace(c9,function(s,c,d,h,C,E){if(c)t.minimumIntegerDigits=d.length;else{if(h&&C)throw new Error("We currently do not support maximum integer digits");if(E)throw new Error("We currently do not support exact integer digits")}return""});continue}if(Ka.test(n.stem)){t.minimumIntegerDigits=n.stem.length;continue}if(Wa.test(n.stem)){if(n.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");n.stem.replace(Wa,function(s,c,d,h,C,E){return d==="*"?t.minimumFractionDigits=c.length:h&&h[0]==="#"?t.maximumFractionDigits=h.length:C&&E?(t.minimumFractionDigits=C.length,t.maximumFractionDigits=C.length+E.length):(t.minimumFractionDigits=c.length,t.maximumFractionDigits=c.length),""});var i=n.options[0];i==="w"?t=(0,fe.pi)((0,fe.pi)({},t),{trailingZeroDisplay:"stripIfInteger"}):i&&(t=(0,fe.pi)((0,fe.pi)({},t),Ga(i)));continue}if(Ua.test(n.stem)){t=(0,fe.pi)((0,fe.pi)({},t),Ga(n.stem));continue}var l=Xa(n.stem);l&&(t=(0,fe.pi)((0,fe.pi)({},t),l));var u=d9(n.stem);u&&(t=(0,fe.pi)((0,fe.pi)({},t),u))}return t}var Xn={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]};function f9(e,t){for(var r="",o=0;o<e.length;o++){var n=e.charAt(o);if(n==="j"){for(var i=0;o+1<e.length&&e.charAt(o+1)===n;)i++,o++;var l=1+(i&1),u=i<2?1:3+(i>>1),s="a",c=p9(t);for((c=="H"||c=="k")&&(u=0);u-- >0;)r+=s;for(;l-- >0;)r=c+r}else n==="J"?r+="H":r+=n}return r}function p9(e){var t=e.hourCycle;if(t===void 0&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var r=e.language,o;r!=="root"&&(o=e.maximize().region);var n=Xn[o||""]||Xn[r||""]||Xn["".concat(r,"-001")]||Xn["001"];return n[0]}var fi,g9=new RegExp("^".concat(Na.source,"*")),m9=new RegExp("".concat(Na.source,"*$"));function rt(e,t){return{start:e,end:t}}var C9=!!String.prototype.startsWith,v9=!!String.fromCodePoint,E9=!!Object.fromEntries,w9=!!String.prototype.codePointAt,b9=!!String.prototype.trimStart,_9=!!String.prototype.trimEnd,y9=!!Number.isSafeInteger,x9=y9?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},pi=!0;try{var L9=el("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");pi=((fi=L9.exec("a"))===null||fi===void 0?void 0:fi[0])==="a"}catch{pi=!1}var qa=C9?function(t,r,o){return t.startsWith(r,o)}:function(t,r,o){return t.slice(o,o+r.length)===r},gi=v9?String.fromCodePoint:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var o="",n=t.length,i=0,l;n>i;){if(l=t[i++],l>1114111)throw RangeError(l+" is not a valid code point");o+=l<65536?String.fromCharCode(l):String.fromCharCode(((l-=65536)>>10)+55296,l%1024+56320)}return o},Ja=E9?Object.fromEntries:function(t){for(var r={},o=0,n=t;o<n.length;o++){var i=n[o],l=i[0],u=i[1];r[l]=u}return r},Qa=w9?function(t,r){return t.codePointAt(r)}:function(t,r){var o=t.length;if(!(r<0||r>=o)){var n=t.charCodeAt(r),i;return n<55296||n>56319||r+1===o||(i=t.charCodeAt(r+1))<56320||i>57343?n:(n-55296<<10)+(i-56320)+65536}},S9=b9?function(t){return t.trimStart()}:function(t){return t.replace(g9,"")},R9=_9?function(t){return t.trimEnd()}:function(t){return t.replace(m9,"")};function el(e,t){return new RegExp(e,t)}var mi;if(pi){var tl=el("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");mi=function(t,r){var o;tl.lastIndex=r;var n=tl.exec(t);return(o=n[1])!==null&&o!==void 0?o:""}}else mi=function(t,r){for(var o=[];;){var n=Qa(t,r);if(n===void 0||rl(n)||k9(n))break;o.push(n),r+=n>=65536?2:1}return gi.apply(void 0,o)};var I9=function(){function e(t,r){r===void 0&&(r={}),this.message=t,this.position={offset:0,line:1,column:1},this.ignoreTag=!!r.ignoreTag,this.locale=r.locale,this.requiresOtherClause=!!r.requiresOtherClause,this.shouldParseSkeletons=!!r.shouldParseSkeletons}return e.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(t,r,o){for(var n=[];!this.isEOF();){var i=this.char();if(i===123){var l=this.parseArgument(t,o);if(l.err)return l;n.push(l.val)}else{if(i===125&&t>0)break;if(i===35&&(r==="plural"||r==="selectordinal")){var u=this.clonePosition();this.bump(),n.push({type:pt.pound,location:rt(u,this.clonePosition())})}else if(i===60&&!this.ignoreTag&&this.peek()===47){if(o)break;return this.error(Je.UNMATCHED_CLOSING_TAG,rt(this.clonePosition(),this.clonePosition()))}else if(i===60&&!this.ignoreTag&&Ci(this.peek()||0)){var l=this.parseTag(t,r);if(l.err)return l;n.push(l.val)}else{var l=this.parseLiteral(t,r);if(l.err)return l;n.push(l.val)}}}return{val:n,err:null}},e.prototype.parseTag=function(t,r){var o=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:pt.literal,value:"<".concat(n,"/>"),location:rt(o,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(t+1,r,!0);if(i.err)return i;var l=i.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Ci(this.char()))return this.error(Je.INVALID_TAG,rt(u,this.clonePosition()));var s=this.clonePosition(),c=this.parseTagName();return n!==c?this.error(Je.UNMATCHED_CLOSING_TAG,rt(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:pt.tag,value:n,children:l,location:rt(o,this.clonePosition())},err:null}:this.error(Je.INVALID_TAG,rt(u,this.clonePosition())))}else return this.error(Je.UNCLOSED_TAG,rt(o,this.clonePosition()))}else return this.error(Je.INVALID_TAG,rt(o,this.clonePosition()))},e.prototype.parseTagName=function(){var t=this.offset();for(this.bump();!this.isEOF()&&D9(this.char());)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(t,r){for(var o=this.clonePosition(),n="";;){var i=this.tryParseQuote(r);if(i){n+=i;continue}var l=this.tryParseUnquoted(t,r);if(l){n+=l;continue}var u=this.tryParseLeftAngleBracket();if(u){n+=u;continue}break}var s=rt(o,this.clonePosition());return{val:{type:pt.literal,value:n,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!M9(this.peek()||0))?(this.bump(),"<"):null},e.prototype.tryParseQuote=function(t){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(t==="plural"||t==="selectordinal")break;return null;default:return null}this.bump();var r=[this.char()];for(this.bump();!this.isEOF();){var o=this.char();if(o===39)if(this.peek()===39)r.push(39),this.bump();else{this.bump();break}else r.push(o);this.bump()}return gi.apply(void 0,r)},e.prototype.tryParseUnquoted=function(t,r){if(this.isEOF())return null;var o=this.char();return o===60||o===123||o===35&&(r==="plural"||r==="selectordinal")||o===125&&t>0?null:(this.bump(),gi(o))},e.prototype.parseArgument=function(t,r){var o=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Je.EXPECT_ARGUMENT_CLOSING_BRACE,rt(o,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Je.EMPTY_ARGUMENT,rt(o,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(Je.MALFORMED_ARGUMENT,rt(o,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Je.EXPECT_ARGUMENT_CLOSING_BRACE,rt(o,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:pt.argument,value:n,location:rt(o,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Je.EXPECT_ARGUMENT_CLOSING_BRACE,rt(o,this.clonePosition())):this.parseArgumentOptions(t,r,n,o);default:return this.error(Je.MALFORMED_ARGUMENT,rt(o,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var t=this.clonePosition(),r=this.offset(),o=mi(this.message,r),n=r+o.length;this.bumpTo(n);var i=this.clonePosition(),l=rt(t,i);return{value:o,location:l}},e.prototype.parseArgumentOptions=function(t,r,o,n){var i,l=this.clonePosition(),u=this.parseIdentifierIfPossible().value,s=this.clonePosition();switch(u){case"":return this.error(Je.EXPECT_ARGUMENT_TYPE,rt(l,s));case"number":case"date":case"time":{this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var d=this.clonePosition(),h=this.parseSimpleArgStyleIfPossible();if(h.err)return h;var C=R9(h.val);if(C.length===0)return this.error(Je.EXPECT_ARGUMENT_STYLE,rt(this.clonePosition(),this.clonePosition()));var E=rt(d,this.clonePosition());c={style:C,styleLocation:E}}var v=this.tryParseArgumentClose(n);if(v.err)return v;var _=rt(n,this.clonePosition());if(c&&qa(c?.style,"::",0)){var y=S9(c.style.slice(2));if(u==="number"){var h=this.parseNumberSkeletonFromString(y,c.styleLocation);return h.err?h:{val:{type:pt.number,value:o,location:_,style:h.val},err:null}}else{if(y.length===0)return this.error(Je.EXPECT_DATE_TIME_SKELETON,_);var x=y;this.locale&&(x=f9(y,this.locale));var C={type:Io.dateTime,pattern:x,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?a9(x):{}},S=u==="date"?pt.date:pt.time;return{val:{type:S,value:o,location:_,style:C},err:null}}}return{val:{type:u==="number"?pt.number:u==="date"?pt.date:pt.time,value:o,location:_,style:(i=c?.style)!==null&&i!==void 0?i:null},err:null}}case"plural":case"selectordinal":case"select":{var D=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Je.EXPECT_SELECT_ARGUMENT_OPTIONS,rt(D,(0,fe.pi)({},D)));this.bumpSpace();var F=this.parseIdentifierIfPossible(),k=0;if(u!=="select"&&F.value==="offset"){if(!this.bumpIf(":"))return this.error(Je.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,rt(this.clonePosition(),this.clonePosition()));this.bumpSpace();var h=this.tryParseDecimalInteger(Je.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Je.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(h.err)return h;this.bumpSpace(),F=this.parseIdentifierIfPossible(),k=h.val}var P=this.tryParsePluralOrSelectOptions(t,u,r,F);if(P.err)return P;var v=this.tryParseArgumentClose(n);if(v.err)return v;var A=rt(n,this.clonePosition());return u==="select"?{val:{type:pt.select,value:o,options:Ja(P.val),location:A},err:null}:{val:{type:pt.plural,value:o,options:Ja(P.val),offset:k,pluralType:u==="plural"?"cardinal":"ordinal",location:A},err:null}}default:return this.error(Je.INVALID_ARGUMENT_TYPE,rt(l,s))}},e.prototype.tryParseArgumentClose=function(t){return this.isEOF()||this.char()!==125?this.error(Je.EXPECT_ARGUMENT_CLOSING_BRACE,rt(t,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var t=0,r=this.clonePosition();!this.isEOF();){var o=this.char();switch(o){case 39:{this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Je.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,rt(n,this.clonePosition()));this.bump();break}case 123:{t+=1,this.bump();break}case 125:{if(t>0)t-=1;else return{val:this.message.slice(r.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(r.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(t,r){var o=[];try{o=s9(t)}catch{return this.error(Je.INVALID_NUMBER_SKELETON,r)}return{val:{type:Io.number,tokens:o,location:r,parsedOptions:this.shouldParseSkeletons?h9(o):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(t,r,o,n){for(var i,l=!1,u=[],s=new Set,c=n.value,d=n.location;;){if(c.length===0){var h=this.clonePosition();if(r!=="select"&&this.bumpIf("=")){var C=this.tryParseDecimalInteger(Je.EXPECT_PLURAL_ARGUMENT_SELECTOR,Je.INVALID_PLURAL_ARGUMENT_SELECTOR);if(C.err)return C;d=rt(h,this.clonePosition()),c=this.message.slice(h.offset,this.offset())}else break}if(s.has(c))return this.error(r==="select"?Je.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Je.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,d);c==="other"&&(l=!0),this.bumpSpace();var E=this.clonePosition();if(!this.bumpIf("{"))return this.error(r==="select"?Je.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Je.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,rt(this.clonePosition(),this.clonePosition()));var v=this.parseMessage(t+1,r,o);if(v.err)return v;var _=this.tryParseArgumentClose(E);if(_.err)return _;u.push([c,{value:v.val,location:rt(E,this.clonePosition())}]),s.add(c),this.bumpSpace(),i=this.parseIdentifierIfPossible(),c=i.value,d=i.location}return u.length===0?this.error(r==="select"?Je.EXPECT_SELECT_ARGUMENT_SELECTOR:Je.EXPECT_PLURAL_ARGUMENT_SELECTOR,rt(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!l?this.error(Je.MISSING_OTHER_CLAUSE,rt(this.clonePosition(),this.clonePosition())):{val:u,err:null}},e.prototype.tryParseDecimalInteger=function(t,r){var o=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(o=-1);for(var i=!1,l=0;!this.isEOF();){var u=this.char();if(u>=48&&u<=57)i=!0,l=l*10+(u-48),this.bump();else break}var s=rt(n,this.clonePosition());return i?(l*=o,x9(l)?{val:l,err:null}:this.error(r,s)):this.error(t,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var t=this.position.offset;if(t>=this.message.length)throw Error("out of bound");var r=Qa(this.message,t);if(r===void 0)throw Error("Offset ".concat(t," is at invalid UTF-16 code unit boundary"));return r},e.prototype.error=function(t,r){return{val:null,err:{kind:t,message:this.message,location:r}}},e.prototype.bump=function(){if(!this.isEOF()){var t=this.char();t===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=t<65536?1:2)}},e.prototype.bumpIf=function(t){if(qa(this.message,t,this.offset())){for(var r=0;r<t.length;r++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(t){var r=this.offset(),o=this.message.indexOf(t,r);return o>=0?(this.bumpTo(o),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(t){if(this.offset()>t)throw Error("targetOffset ".concat(t," must be greater than or equal to the current offset ").concat(this.offset()));for(t=Math.min(t,this.message.length);;){var r=this.offset();if(r===t)break;if(r>t)throw Error("targetOffset ".concat(t," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&rl(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var t=this.char(),r=this.offset(),o=this.message.charCodeAt(r+(t>=65536?2:1));return o??null},e}();function Ci(e){return e>=97&&e<=122||e>=65&&e<=90}function M9(e){return Ci(e)||e===47}function D9(e){return e===45||e===46||e>=48&&e<=57||e===95||e>=97&&e<=122||e>=65&&e<=90||e==183||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function rl(e){return e>=9&&e<=13||e===32||e===133||e>=8206&&e<=8207||e===8232||e===8233}function k9(e){return e>=33&&e<=35||e===36||e>=37&&e<=39||e===40||e===41||e===42||e===43||e===44||e===45||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||e===91||e===92||e===93||e===94||e===96||e===123||e===124||e===125||e===126||e===161||e>=162&&e<=165||e===166||e===167||e===169||e===171||e===172||e===174||e===176||e===177||e===182||e===187||e===191||e===215||e===247||e>=8208&&e<=8213||e>=8214&&e<=8215||e===8216||e===8217||e===8218||e>=8219&&e<=8220||e===8221||e===8222||e===8223||e>=8224&&e<=8231||e>=8240&&e<=8248||e===8249||e===8250||e>=8251&&e<=8254||e>=8257&&e<=8259||e===8260||e===8261||e===8262||e>=8263&&e<=8273||e===8274||e===8275||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||e===8608||e>=8609&&e<=8610||e===8611||e>=8612&&e<=8613||e===8614||e>=8615&&e<=8621||e===8622||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||e===8658||e===8659||e===8660||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||e===8968||e===8969||e===8970||e===8971||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||e===9001||e===9002||e>=9003&&e<=9083||e===9084||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||e===9655||e>=9656&&e<=9664||e===9665||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||e===9839||e>=9840&&e<=10087||e===10088||e===10089||e===10090||e===10091||e===10092||e===10093||e===10094||e===10095||e===10096||e===10097||e===10098||e===10099||e===10100||e===10101||e>=10132&&e<=10175||e>=10176&&e<=10180||e===10181||e===10182||e>=10183&&e<=10213||e===10214||e===10215||e===10216||e===10217||e===10218||e===10219||e===10220||e===10221||e===10222||e===10223||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||e===10627||e===10628||e===10629||e===10630||e===10631||e===10632||e===10633||e===10634||e===10635||e===10636||e===10637||e===10638||e===10639||e===10640||e===10641||e===10642||e===10643||e===10644||e===10645||e===10646||e===10647||e===10648||e>=10649&&e<=10711||e===10712||e===10713||e===10714||e===10715||e>=10716&&e<=10747||e===10748||e===10749||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||e===11158||e>=11159&&e<=11263||e>=11776&&e<=11777||e===11778||e===11779||e===11780||e===11781||e>=11782&&e<=11784||e===11785||e===11786||e===11787||e===11788||e===11789||e>=11790&&e<=11798||e===11799||e>=11800&&e<=11801||e===11802||e===11803||e===11804||e===11805||e>=11806&&e<=11807||e===11808||e===11809||e===11810||e===11811||e===11812||e===11813||e===11814||e===11815||e===11816||e===11817||e>=11818&&e<=11822||e===11823||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||e===11840||e===11841||e===11842||e>=11843&&e<=11855||e>=11856&&e<=11857||e===11858||e>=11859&&e<=11903||e>=12289&&e<=12291||e===12296||e===12297||e===12298||e===12299||e===12300||e===12301||e===12302||e===12303||e===12304||e===12305||e>=12306&&e<=12307||e===12308||e===12309||e===12310||e===12311||e===12312||e===12313||e===12314||e===12315||e===12316||e===12317||e>=12318&&e<=12319||e===12320||e===12336||e===64830||e===64831||e>=65093&&e<=65094}function vi(e){e.forEach(function(t){if(delete t.location,ja(t)||Va(t))for(var r in t.options)delete t.options[r].location,vi(t.options[r].value);else Ta(t)&&za(t.style)||(Oa(t)||Fa(t))&&hi(t.style)?delete t.style.location:Za(t)&&vi(t.children)})}function P9(e,t){t===void 0&&(t={}),t=(0,fe.pi)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new I9(e,t).parse();if(r.err){var o=SyntaxError(Je[r.err.kind]);throw o.location=r.err.location,o.originalMessage=r.err.message,o}return t?.captureLocation||vi(r.val),r.val}var Cee=null;function Q1(e,t){var r=t&&t.cache?t.cache:O9,o=t&&t.serializer?t.serializer:T9,n=t&&t.strategy?t.strategy:B9;return n(e,{cache:r,serializer:o})}function $9(e){return e==null||typeof e=="number"||typeof e=="boolean"}function ol(e,t,r,o){var n=$9(o)?o:r(o),i=t.get(n);return typeof i>"u"&&(i=e.call(this,o),t.set(n,i)),i}function nl(e,t,r){var o=Array.prototype.slice.call(arguments,3),n=r(o),i=t.get(n);return typeof i>"u"&&(i=e.apply(this,o),t.set(n,i)),i}function Ei(e,t,r,o,n){return r.bind(t,e,o,n)}function B9(e,t){var r=e.length===1?ol:nl;return Ei(e,this,r,t.cache.create(),t.serializer)}function H9(e,t){return Ei(e,this,nl,t.cache.create(),t.serializer)}function A9(e,t){return Ei(e,this,ol,t.cache.create(),t.serializer)}var T9=function(){return JSON.stringify(arguments)};function wi(){this.cache=Object.create(null)}wi.prototype.get=function(e){return this.cache[e]},wi.prototype.set=function(e,t){this.cache[e]=t};var O9={create:function(){return new wi}},er={variadic:H9,monadic:A9},tr;(function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"})(tr||(tr={}));var Fr=function(e){(0,fe.ZT)(t,e);function t(r,o,n){var i=e.call(this,r)||this;return i.code=o,i.originalMessage=n,i}return t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),il=function(e){(0,fe.ZT)(t,e);function t(r,o,n,i){return e.call(this,'Invalid values for "'.concat(r,'": "').concat(o,'". Options are "').concat(Object.keys(n).join('", "'),'"'),tr.INVALID_VALUE,i)||this}return t}(Fr),F9=function(e){(0,fe.ZT)(t,e);function t(r,o,n){return e.call(this,'Value for "'.concat(r,'" must be of type ').concat(o),tr.INVALID_VALUE,n)||this}return t}(Fr),j9=function(e){(0,fe.ZT)(t,e);function t(r,o){return e.call(this,'The intl string context variable "'.concat(r,'" was not provided to the string "').concat(o,'"'),tr.MISSING_VALUE,o)||this}return t}(Fr),o1;(function(e){e[e.literal=0]="literal",e[e.object=1]="object"})(o1||(o1={}));function V9(e){return e.length<2?e:e.reduce(function(t,r){var o=t[t.length-1];return!o||o.type!==o1.literal||r.type!==o1.literal?t.push(r):o.value+=r.value,t},[])}function al(e){return typeof e=="function"}function Yn(e,t,r,o,n,i,l){if(e.length===1&&Aa(e[0]))return[{type:o1.literal,value:e[0].value}];for(var u=[],s=0,c=e;s<c.length;s++){var d=c[s];if(Aa(d)){u.push({type:o1.literal,value:d.value});continue}if(n9(d)){typeof i=="number"&&u.push({type:o1.literal,value:r.getNumberFormat(t).format(i)});continue}var h=d.value;if(!(n&&h in n))throw new j9(h,l);var C=n[h];if(o9(d)){(!C||typeof C=="string"||typeof C=="number")&&(C=typeof C=="string"||typeof C=="number"?String(C):""),u.push({type:typeof C=="string"?o1.literal:o1.object,value:C});continue}if(Oa(d)){var E=typeof d.style=="string"?o.date[d.style]:hi(d.style)?d.style.parsedOptions:void 0;u.push({type:o1.literal,value:r.getDateTimeFormat(t,E).format(C)});continue}if(Fa(d)){var E=typeof d.style=="string"?o.time[d.style]:hi(d.style)?d.style.parsedOptions:o.time.medium;u.push({type:o1.literal,value:r.getDateTimeFormat(t,E).format(C)});continue}if(Ta(d)){var E=typeof d.style=="string"?o.number[d.style]:za(d.style)?d.style.parsedOptions:void 0;E&&E.scale&&(C=C*(E.scale||1)),u.push({type:o1.literal,value:r.getNumberFormat(t,E).format(C)});continue}if(Za(d)){var v=d.children,_=d.value,y=n[_];if(!al(y))throw new F9(_,"function",l);var x=Yn(v,t,r,o,n,i),S=y(x.map(function(k){return k.value}));Array.isArray(S)||(S=[S]),u.push.apply(u,S.map(function(k){return{type:typeof k=="string"?o1.literal:o1.object,value:k}}))}if(ja(d)){var D=d.options[C]||d.options.other;if(!D)throw new il(d.value,C,Object.keys(d.options),l);u.push.apply(u,Yn(D.value,t,r,o,n));continue}if(Va(d)){var D=d.options["=".concat(C)];if(!D){if(!Intl.PluralRules)throw new Fr(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,tr.MISSING_INTL_API,l);var F=r.getPluralRules(t,{type:d.pluralType}).select(C-(d.offset||0));D=d.options[F]||d.options.other}if(!D)throw new il(d.value,C,Object.keys(d.options),l);u.push.apply(u,Yn(D.value,t,r,o,n,C-(d.offset||0)));continue}}return V9(u)}function Z9(e,t){return t?(0,fe.pi)((0,fe.pi)((0,fe.pi)({},e||{}),t||{}),Object.keys(e).reduce(function(r,o){return r[o]=(0,fe.pi)((0,fe.pi)({},e[o]),t[o]||{}),r},{})):e}function z9(e,t){return t?Object.keys(e).reduce(function(r,o){return r[o]=Z9(e[o],t[o]),r},(0,fe.pi)({},e)):e}function bi(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function N9(e){return e===void 0&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Q1(function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new((t=Intl.NumberFormat).bind.apply(t,(0,fe.ev)([void 0],r,!1)))},{cache:bi(e.number),strategy:er.variadic}),getDateTimeFormat:Q1(function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new((t=Intl.DateTimeFormat).bind.apply(t,(0,fe.ev)([void 0],r,!1)))},{cache:bi(e.dateTime),strategy:er.variadic}),getPluralRules:Q1(function(){for(var t,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new((t=Intl.PluralRules).bind.apply(t,(0,fe.ev)([void 0],r,!1)))},{cache:bi(e.pluralRules),strategy:er.variadic})}}var ll=function(){function e(t,r,o,n){r===void 0&&(r=e.defaultLocale);var i=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(l){var u=i.formatToParts(l);if(u.length===1)return u[0].value;var s=u.reduce(function(c,d){return!c.length||d.type!==o1.literal||typeof c[c.length-1]!="string"?c.push(d.value):c[c.length-1]+=d.value,c},[]);return s.length<=1?s[0]||"":s},this.formatToParts=function(l){return Yn(i.ast,i.locales,i.formatters,i.formats,l,void 0,i.message)},this.resolvedOptions=function(){var l;return{locale:((l=i.resolvedLocale)===null||l===void 0?void 0:l.toString())||Intl.NumberFormat.supportedLocalesOf(i.locales)[0]}},this.getAst=function(){return i.ast},this.locales=r,this.resolvedLocale=e.resolveLocale(r),typeof t=="string"){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:n?.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=z9(e.formats,o),this.formatters=n&&n.formatters||N9(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(t){if(!(typeof Intl.Locale>"u")){var r=Intl.NumberFormat.supportedLocalesOf(t);return r.length>0?new Intl.Locale(r[0]):new Intl.Locale(typeof t=="string"?t:t[0])}},e.__parse=P9,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),qt;(function(e){e.FORMAT_ERROR="FORMAT_ERROR",e.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",e.INVALID_CONFIG="INVALID_CONFIG",e.MISSING_DATA="MISSING_DATA",e.MISSING_TRANSLATION="MISSING_TRANSLATION"})(qt||(qt={}));var c1=function(e){(0,fe.ZT)(t,e);function t(r,o,n){var i=this,l=n?n instanceof Error?n:new Error(String(n)):void 0;return i=e.call(this,"[@formatjs/intl Error ".concat(r,"] ").concat(o,`
`).concat(l?`
`.concat(l.message,`
`).concat(l.stack):""))||this,i.code=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(i,t),i}return t}(Error),W9=function(e){(0,fe.ZT)(t,e);function t(r,o){return e.call(this,qt.UNSUPPORTED_FORMATTER,r,o)||this}return t}(c1),U9=function(e){(0,fe.ZT)(t,e);function t(r,o){return e.call(this,qt.INVALID_CONFIG,r,o)||this}return t}(c1),sl=function(e){(0,fe.ZT)(t,e);function t(r,o){return e.call(this,qt.MISSING_DATA,r,o)||this}return t}(c1),_i=function(e){(0,fe.ZT)(t,e);function t(r,o,n){return e.call(this,qt.FORMAT_ERROR,"".concat(r,`
Locale: `).concat(o,`
`),n)||this}return t}(c1),yi=function(e){(0,fe.ZT)(t,e);function t(r,o,n,i){var l=e.call(this,"".concat(r,`
MessageID: `).concat(n?.id,`
Default Message: `).concat(n?.defaultMessage,`
Description: `).concat(n?.description,`
`),o,i)||this;return l.descriptor=n,l}return t}(_i),K9=function(e){(0,fe.ZT)(t,e);function t(r,o){var n=e.call(this,qt.MISSING_TRANSLATION,'Missing message: "'.concat(r.id,'" for locale "').concat(o,'", using ').concat(r.defaultMessage?"default message (".concat(typeof r.defaultMessage=="string"?r.defaultMessage:r.defaultMessage.map(function(i){var l;return(l=i.value)!==null&&l!==void 0?l:JSON.stringify(i)}).join(),")"):"id"," as fallback."))||this;return n.descriptor=r,n}return t}(c1);function ro(e,t,r){return r===void 0&&(r={}),t.reduce(function(o,n){return n in e?o[n]=e[n]:n in r&&(o[n]=r[n]),o},{})}var G9=function(e){},X9=function(e){},ul={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:G9,onWarn:X9};function cl(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function oo(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}function Y9(e){e===void 0&&(e=cl());var t=Intl.RelativeTimeFormat,r=Intl.ListFormat,o=Intl.DisplayNames,n=Q1(function(){for(var u,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new((u=Intl.DateTimeFormat).bind.apply(u,(0,fe.ev)([void 0],s,!1)))},{cache:oo(e.dateTime),strategy:er.variadic}),i=Q1(function(){for(var u,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new((u=Intl.NumberFormat).bind.apply(u,(0,fe.ev)([void 0],s,!1)))},{cache:oo(e.number),strategy:er.variadic}),l=Q1(function(){for(var u,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new((u=Intl.PluralRules).bind.apply(u,(0,fe.ev)([void 0],s,!1)))},{cache:oo(e.pluralRules),strategy:er.variadic});return{getDateTimeFormat:n,getNumberFormat:i,getMessageFormat:Q1(function(u,s,c,d){return new ll(u,s,c,(0,fe.pi)({formatters:{getNumberFormat:i,getDateTimeFormat:n,getPluralRules:l}},d||{}))},{cache:oo(e.message),strategy:er.variadic}),getRelativeTimeFormat:Q1(function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return new(t.bind.apply(t,(0,fe.ev)([void 0],u,!1)))},{cache:oo(e.relativeTime),strategy:er.variadic}),getPluralRules:l,getListFormat:Q1(function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return new(r.bind.apply(r,(0,fe.ev)([void 0],u,!1)))},{cache:oo(e.list),strategy:er.variadic}),getDisplayNames:Q1(function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return new(o.bind.apply(o,(0,fe.ev)([void 0],u,!1)))},{cache:oo(e.displayNames),strategy:er.variadic})}}function xi(e,t,r,o){var n=e&&e[t],i;if(n&&(i=n[r]),i)return i;o(new W9("No ".concat(t," format named: ").concat(r)))}function dl(e){Ha(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var hl=(0,fe.pi)((0,fe.pi)({},ul),{textComponent:a.Fragment});function q9(e){return function(t){return e(a.Children.toArray(t))}}function Li(e,t){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),o=Object.keys(t),n=r.length;if(o.length!==n)return!1;for(var i=0;i<n;i++){var l=r[i];if(e[l]!==t[l]||!Object.prototype.hasOwnProperty.call(t,l))return!1}return!0}function qn(e,t){return Object.keys(e).reduce(function(r,o){return r[o]=(0,fe.pi)({timeZone:t},e[o]),r},{})}function fl(e,t){var r=Object.keys((0,fe.pi)((0,fe.pi)({},e),t));return r.reduce(function(o,n){return o[n]=(0,fe.pi)((0,fe.pi)({},e[n]||{}),t[n]||{}),o},{})}function pl(e,t){if(!t)return e;var r=ll.formats;return(0,fe.pi)((0,fe.pi)((0,fe.pi)({},r),e),{date:fl(qn(r.date,t),qn(e.date||{},t)),time:fl(qn(r.time,t),qn(e.time||{},t))})}var Si=function(e,t,r,o,n){var i=e.locale,l=e.formats,u=e.messages,s=e.defaultLocale,c=e.defaultFormats,d=e.fallbackOnEmptyString,h=e.onError,C=e.timeZone,E=e.defaultRichTextElements;r===void 0&&(r={id:""});var v=r.id,_=r.defaultMessage;Ha(!!v,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var y=String(v),x=u&&Object.prototype.hasOwnProperty.call(u,y)&&u[y];if(Array.isArray(x)&&x.length===1&&x[0].type===pt.literal)return x[0].value;if(!o&&x&&typeof x=="string"&&!E)return x.replace(/'\{(.*?)\}'/gi,"{$1}");if(o=(0,fe.pi)((0,fe.pi)({},E),o||{}),l=pl(l,C),c=pl(c,C),!x){if(d===!1&&x==="")return x;if((!_||i&&i.toLowerCase()!==s.toLowerCase())&&h(new K9(r,i)),_)try{var S=t.getMessageFormat(_,s,c,n);return S.format(o)}catch(D){return h(new yi('Error formatting default message for: "'.concat(y,'", rendering default message verbatim'),i,r,D)),typeof _=="string"?_:y}return y}try{var S=t.getMessageFormat(x,i,l,(0,fe.pi)({formatters:t},n||{}));return S.format(o)}catch(D){h(new yi('Error formatting message: "'.concat(y,'", using ').concat(_?"default message":"id"," as fallback."),i,r,D))}if(_)try{var S=t.getMessageFormat(_,s,c,n);return S.format(o)}catch(D){h(new yi('Error formatting the default message for: "'.concat(y,'", rendering message verbatim'),i,r,D))}return typeof x=="string"?x:typeof _=="string"?_:y},J9=["style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function gl(e,t,r){var o=e.locale,n=e.formats,i=e.onError;r===void 0&&(r={});var l=r.format,u=l&&xi(n,"number",l,i)||{},s=ro(r,J9,u);return t(o,s)}function Q9(e,t,r,o){o===void 0&&(o={});try{return gl(e,t,o).format(r)}catch(n){e.onError(new c1(qt.FORMAT_ERROR,"Error formatting number.",n))}return String(r)}function e4(e,t,r,o){o===void 0&&(o={});try{return gl(e,t,o).formatToParts(r)}catch(n){e.onError(new c1(qt.FORMAT_ERROR,"Error formatting number.",n))}return[]}var t4=["numeric","style"];function r4(e,t,r){var o=e.locale,n=e.formats,i=e.onError;r===void 0&&(r={});var l=r.format,u=!!l&&xi(n,"relative",l,i)||{},s=ro(r,t4,u);return t(o,s)}function o4(e,t,r,o,n){n===void 0&&(n={}),o||(o="second");var i=Intl.RelativeTimeFormat;i||e.onError(new Fr(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,tr.MISSING_INTL_API));try{return r4(e,t,n).format(r,o)}catch(l){e.onError(new _i("Error formatting relative time.",e.locale,l))}return String(r)}var ml=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function Jn(e,t,r,o){var n=e.locale,i=e.formats,l=e.onError,u=e.timeZone;o===void 0&&(o={});var s=o.format,c=(0,fe.pi)((0,fe.pi)({},u&&{timeZone:u}),s&&xi(i,t,s,l)),d=ro(o,ml,c);return t==="time"&&!d.hour&&!d.minute&&!d.second&&!d.timeStyle&&!d.dateStyle&&(d=(0,fe.pi)((0,fe.pi)({},d),{hour:"numeric",minute:"numeric"})),r(n,d)}function n4(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=r[0],i=r[1],l=i===void 0?{}:i,u=typeof n=="string"?new Date(n||0):n;try{return Jn(e,"date",t,l).format(u)}catch(s){e.onError(new c1(qt.FORMAT_ERROR,"Error formatting date.",s))}return String(u)}function i4(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=r[0],i=r[1],l=i===void 0?{}:i,u=typeof n=="string"?new Date(n||0):n;try{return Jn(e,"time",t,l).format(u)}catch(s){e.onError(new c1(qt.FORMAT_ERROR,"Error formatting time.",s))}return String(u)}function a4(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=r[0],i=r[1],l=r[2],u=l===void 0?{}:l,s=e.timeZone,c=e.locale,d=e.onError,h=ro(u,ml,s?{timeZone:s}:{});try{return t(c,h).formatRange(n,i)}catch(C){d(new c1(qt.FORMAT_ERROR,"Error formatting date time range.",C))}return String(n)}function l4(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=r[0],i=r[1],l=i===void 0?{}:i,u=typeof n=="string"?new Date(n||0):n;try{return Jn(e,"date",t,l).formatToParts(u)}catch(s){e.onError(new c1(qt.FORMAT_ERROR,"Error formatting date.",s))}return[]}function s4(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=r[0],i=r[1],l=i===void 0?{}:i,u=typeof n=="string"?new Date(n||0):n;try{return Jn(e,"time",t,l).formatToParts(u)}catch(s){e.onError(new c1(qt.FORMAT_ERROR,"Error formatting time.",s))}return[]}var u4=["type"];function c4(e,t,r,o){var n=e.locale,i=e.onError;o===void 0&&(o={}),Intl.PluralRules||i(new Fr(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,tr.MISSING_INTL_API));var l=ro(o,u4);try{return t(n,l).select(r)}catch(u){i(new _i("Error formatting plural.",n,u))}return"other"}var d4=["type","style"],Cl=Date.now();function h4(e){return"".concat(Cl,"_").concat(e,"_").concat(Cl)}function f4(e,t,r,o){o===void 0&&(o={});var n=vl(e,t,r,o).reduce(function(i,l){var u=l.value;return typeof u!="string"?i.push(u):typeof i[i.length-1]=="string"?i[i.length-1]+=u:i.push(u),i},[]);return n.length===1?n[0]:n.length===0?"":n}function vl(e,t,r,o){var n=e.locale,i=e.onError;o===void 0&&(o={});var l=Intl.ListFormat;l||i(new Fr(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,tr.MISSING_INTL_API));var u=ro(o,d4);try{var s={},c=r.map(function(d,h){if(typeof d=="object"){var C=h4(h);return s[C]=d,C}return String(d)});return t(n,u).formatToParts(c).map(function(d){return d.type==="literal"?d:(0,fe.pi)((0,fe.pi)({},d),{value:s[d.value]||d.value})})}catch(d){i(new c1(qt.FORMAT_ERROR,"Error formatting list.",d))}return r}var p4=["style","type","fallback"];function g4(e,t,r,o){var n=e.locale,i=e.onError,l=Intl.DisplayNames;l||i(new Fr(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,tr.MISSING_INTL_API));var u=ro(o,p4);try{return t(n,u).of(r)}catch(s){i(new c1(qt.FORMAT_ERROR,"Error formatting display name.",s))}}function m4(e){var t=e?e[Object.keys(e)[0]]:void 0;return typeof t=="string"}function C4(e){e.onWarn&&e.defaultRichTextElements&&m4(e.messages||{})&&e.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.io/docs/getting-started/message-distribution`)}function v4(e,t){var r=Y9(t),o=(0,fe.pi)((0,fe.pi)({},ul),e),n=o.locale,i=o.defaultLocale,l=o.onError;return n?!Intl.NumberFormat.supportedLocalesOf(n).length&&l?l(new sl('Missing locale data for locale: "'.concat(n,'" in Intl.NumberFormat. Using default locale: "').concat(i,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(n).length&&l&&l(new sl('Missing locale data for locale: "'.concat(n,'" in Intl.DateTimeFormat. Using default locale: "').concat(i,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(l&&l(new U9('"locale" was not configured, using "'.concat(i,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),o.locale=o.defaultLocale||"en"),C4(o),(0,fe.pi)((0,fe.pi)({},o),{formatters:r,formatNumber:Q9.bind(null,o,r.getNumberFormat),formatNumberToParts:e4.bind(null,o,r.getNumberFormat),formatRelativeTime:o4.bind(null,o,r.getRelativeTimeFormat),formatDate:n4.bind(null,o,r.getDateTimeFormat),formatDateToParts:l4.bind(null,o,r.getDateTimeFormat),formatTime:i4.bind(null,o,r.getDateTimeFormat),formatDateTimeRange:a4.bind(null,o,r.getDateTimeFormat),formatTimeToParts:s4.bind(null,o,r.getDateTimeFormat),formatPlural:c4.bind(null,o,r.getPluralRules),formatMessage:Si.bind(null,o,r),$t:Si.bind(null,o,r),formatList:f4.bind(null,o,r.getListFormat),formatListToParts:vl.bind(null,o,r.getListFormat),formatDisplayName:g4.bind(null,o,r.getDisplayNames)})}function Ri(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}function El(e){return e&&Object.keys(e).reduce(function(t,r){var o=e[r];return t[r]=al(o)?q9(o):o,t},{})}var wl=function(e,t,r,o){for(var n=[],i=4;i<arguments.length;i++)n[i-4]=arguments[i];var l=El(o),u=Si.apply(void 0,(0,fe.ev)([e,t,r,l],n,!1));return Array.isArray(u)?a.Children.toArray(u):u},bl=function(e,t){var r=e.defaultRichTextElements,o=(0,fe._T)(e,["defaultRichTextElements"]),n=El(r),i=v4((0,fe.pi)((0,fe.pi)((0,fe.pi)({},hl),o),{defaultRichTextElements:n}),t),l={locale:i.locale,timeZone:i.timeZone,fallbackOnEmptyString:i.fallbackOnEmptyString,formats:i.formats,defaultLocale:i.defaultLocale,defaultFormats:i.defaultFormats,messages:i.messages,onError:i.onError,defaultRichTextElements:n};return(0,fe.pi)((0,fe.pi)({},i),{formatMessage:wl.bind(null,l,i.formatters),$t:wl.bind(null,l,i.formatters)})},E4=function(e){(0,fe.ZT)(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.cache=cl(),r.state={cache:r.cache,intl:bl(Ri(r.props),r.cache),prevConfig:Ri(r.props)},r}return t.getDerivedStateFromProps=function(r,o){var n=o.prevConfig,i=o.cache,l=Ri(r);return Li(n,l)?null:{intl:bl(l,i),prevConfig:l}},t.prototype.render=function(){return dl(this.state.intl),a.createElement(Qu,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=hl,t}(a.PureComponent);const w4=E4;var Ct=B(8886),Mo=B(9600),_l=B(8841),b4=B(3118),zt=B(2486),_4=B(3084),y4=B(440),x4=Object.defineProperty,L4=Object.defineProperties,S4=Object.getOwnPropertyDescriptors,Qn=Object.getOwnPropertySymbols,yl=Object.prototype.hasOwnProperty,xl=Object.prototype.propertyIsEnumerable,Ll=(e,t,r)=>t in e?x4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,e0=(e,t)=>{for(var r in t||(t={}))yl.call(t,r)&&Ll(e,r,t[r]);if(Qn)for(var r of Qn(t))xl.call(t,r)&&Ll(e,r,t[r]);return e},Sl=(e,t)=>L4(e,S4(t)),d1=(e,t)=>{var r={};for(var o in e)yl.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&Qn)for(var o of Qn(e))t.indexOf(o)<0&&xl.call(e,o)&&(r[o]=e[o]);return r};const Ii="ContextMenu",[R4,vee]=(0,_l.b)(Ii,[zt.Wf]),Jt=(0,zt.Wf)(),[I4,Rl]=R4(Ii),Il=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:o,dir:n,modal:i=!0}=e,[l,u]=(0,a.useState)(!1),s=Jt(t),c=(0,_4.W)(o),d=(0,a.useCallback)(h=>{u(h),c(h)},[c]);return(0,a.createElement)(I4,{scope:t,open:l,onOpenChange:d,modal:i},(0,a.createElement)(zt.fC,(0,Ct.Z)({},s,{dir:n,open:l,onOpenChange:d,modal:i}),r))},Ml="ContextMenuTrigger",Dl=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Rl(Ml,o),l=Jt(o),u=(0,a.useRef)({x:0,y:0}),s=(0,a.useRef)({getBoundingClientRect:()=>DOMRect.fromRect(e0({width:0,height:0},u.current))}),c=(0,a.useRef)(0),d=(0,a.useCallback)(()=>window.clearTimeout(c.current),[]),h=C=>{u.current={x:C.clientX,y:C.clientY},i.onOpenChange(!0)};return(0,a.useEffect)(()=>d,[d]),(0,a.createElement)(a.Fragment,null,(0,a.createElement)(zt.ee,(0,Ct.Z)({},l,{virtualRef:s})),(0,a.createElement)(b4.WV.span,(0,Ct.Z)({"data-state":i.open?"open":"closed"},n,{ref:t,style:e0({WebkitTouchCallout:"none"},e.style),onContextMenu:(0,Mo.M)(e.onContextMenu,C=>{d(),h(C),C.preventDefault()}),onPointerDown:(0,Mo.M)(e.onPointerDown,t0(C=>{d(),c.current=window.setTimeout(()=>h(C),700)})),onPointerMove:(0,Mo.M)(e.onPointerMove,t0(d)),onPointerCancel:(0,Mo.M)(e.onPointerCancel,t0(d)),onPointerUp:(0,Mo.M)(e.onPointerUp,t0(d))})))}),M4="ContextMenuPortal",kl=e=>{const t=e,{__scopeContextMenu:r}=t,o=d1(t,["__scopeContextMenu"]),n=Jt(r);return(0,a.createElement)(zt.h_,(0,Ct.Z)({},n,o))},Pl="ContextMenuContent",$l=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Rl(Pl,o),l=Jt(o),u=(0,a.useRef)(!1);return(0,a.createElement)(zt.VY,(0,Ct.Z)({},l,n,{ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:s=>{var c;(c=e.onCloseAutoFocus)===null||c===void 0||c.call(e,s),!s.defaultPrevented&&u.current&&s.preventDefault(),u.current=!1},onInteractOutside:s=>{var c;(c=e.onInteractOutside)===null||c===void 0||c.call(e,s),!s.defaultPrevented&&!i.modal&&(u.current=!0)},style:Sl(e0({},e.style),{["--radix-context-menu-content-transform-origin"]:"var(--radix-popper-transform-origin)"})}))}),D4="ContextMenuGroup",k4=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.ZA,(0,Ct.Z)({},i,n,{ref:t}))}),P4="ContextMenuLabel",$4=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.__,(0,Ct.Z)({},i,n,{ref:t}))}),B4="ContextMenuItem",Mi=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.ck,(0,Ct.Z)({},i,n,{ref:t}))}),H4="ContextMenuCheckboxItem",A4=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.oC,(0,Ct.Z)({},i,n,{ref:t}))}),T4="ContextMenuRadioGroup",O4=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.Ee,(0,Ct.Z)({},i,n,{ref:t}))}),F4="ContextMenuRadioItem",j4=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.Rk,(0,Ct.Z)({},i,n,{ref:t}))}),V4="ContextMenuItemIndicator",Z4=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.wU,(0,Ct.Z)({},i,n,{ref:t}))}),z4="ContextMenuSeparator",N4=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.Z0,(0,Ct.Z)({},i,n,{ref:t}))}),W4="ContextMenuArrow",Bl=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.Eh,(0,Ct.Z)({},i,n,{ref:t}))}),U4="ContextMenuSub",Hl=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:o,open:n,defaultOpen:i}=e,l=Jt(t),[u,s]=(0,y4.T)({prop:n,defaultProp:i,onChange:o});return(0,a.createElement)(zt.Tr,(0,Ct.Z)({},l,{open:u,onOpenChange:s}),r)},K4="ContextMenuSubTrigger",Al=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.fF,(0,Ct.Z)({},i,n,{ref:t}))}),G4="ContextMenuSubContent",Tl=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeContextMenu:o}=r,n=d1(r,["__scopeContextMenu"]),i=Jt(o);return(0,a.createElement)(zt.tu,(0,Ct.Z)({},i,n,{ref:t,style:Sl(e0({},e.style),{["--radix-context-menu-content-transform-origin"]:"var(--radix-popper-transform-origin)"})}))});function t0(e){return t=>t.pointerType!=="mouse"?e(t):void 0}const X4=Il,Y4=Dl,r0=kl,q4=$l,Eee=null,wee=null,bee=null,_ee=null,yee=null,xee=null,Lee=null,See=null,Ree=null,Di=Hl,J4=Al,ki=Tl;function Oe(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,i;for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}var Iee=null,Mee=null,Dee=null,kee=null,Pee=null,$ee=null,Q4=["color"],Ol=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,Q4);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M9 3C9 2.44772 8.55229 2 8 2H7C6.44772 2 6 2.44772 6 3L6 14H1.5C1.22386 14 1 14.2239 1 14.5C1 14.7761 1.22386 15 1.5 15L6 15H9H13.5C13.7761 15 14 14.7761 14 14.5C14 14.2239 13.7761 14 13.5 14H9V3Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),e5=["color"],Fl=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,e5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M1.99988 6C1.44759 6 0.999877 6.44772 0.999877 7L0.999877 8C0.999877 8.55228 1.44759 9 1.99988 9L6.99988 9L6.99988 13.5C6.99988 13.7761 7.22374 14 7.49988 14C7.77602 14 7.99988 13.7761 7.99988 13.5L7.99988 9L12.9999 9C13.5522 9 13.9999 8.55228 13.9999 8L13.9999 7C13.9999 6.44772 13.5522 6 12.9999 6L7.99988 6L7.99988 1.5C7.99988 1.22386 7.77602 1 7.49988 1C7.22373 1 6.99988 1.22386 6.99988 1.5L6.99988 6L1.99988 6Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),t5=["color"],jl=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,t5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M6.99988 1C6.44759 1 5.99988 1.44772 5.99988 2V7H1.49988C1.22374 7 0.999878 7.22386 0.999878 7.5C0.999878 7.77614 1.22374 8 1.49988 8H5.99988V13C5.99988 13.5523 6.44759 14 6.99988 14H7.99988C8.55216 14 8.99988 13.5523 8.99988 13V8H13.4999C13.776 8 13.9999 7.77614 13.9999 7.5C13.9999 7.22386 13.776 7 13.4999 7H8.99988V2C8.99988 1.44772 8.55216 1 7.99988 1L6.99988 1Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),r5=["color"],Vl=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,r5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M0.499995 0.999995C0.223855 0.999995 -5.58458e-07 1.22385 -5.46388e-07 1.49999L-2.18554e-08 13.4999C-9.78492e-09 13.776 0.223855 13.9999 0.499995 13.9999C0.776136 13.9999 0.999991 13.776 0.999991 13.4999L0.999991 8.99993L12 8.99993C12.5523 8.99993 13 8.55222 13 7.99993L13 6.99994C13 6.44766 12.5523 5.99995 12 5.99995L0.999991 5.99995L0.999991 1.49999C0.999991 1.22385 0.776135 0.999995 0.499995 0.999995Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),o5=["color"],Zl=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,o5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M14.4999 1C14.2237 1 13.9999 1.22386 13.9999 1.5L13.9999 6L2.99988 6C2.44759 6 1.99988 6.44772 1.99988 7L1.99988 8C1.99988 8.55228 2.44759 9 2.99988 9L13.9999 9L13.9999 13.5C13.9999 13.7761 14.2237 14 14.4999 14C14.776 14 14.9999 13.7761 14.9999 13.5L14.9999 9L14.9999 6L14.9999 1.5C14.9999 1.22386 14.776 1 14.4999 1Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),n5=["color"],zl=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,n5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M1.5 0C1.22386 0 1 0.223858 1 0.5C1 0.776142 1.22386 1 1.5 1H6V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V1H13.5C13.7761 1 14 0.776142 14 0.5C14 0.223858 13.7761 0 13.5 0H9H6H1.5Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Bee=null,Hee=null,i5=["color"],a5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,i5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M8.8914 2.1937C9.1158 2.35464 9.16725 2.66701 9.00631 2.89141L2.47388 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7762 13.7761 13 13.5 13H1.5C1.31254 13 1.14082 12.8952 1.0552 12.7284C0.969578 12.5616 0.984438 12.361 1.09369 12.2086L8.19369 2.30862C8.35462 2.08422 8.667 2.03277 8.8914 2.1937ZM11.1 6.50001C11.1 6.22387 11.3238 6.00001 11.6 6.00001C11.8761 6.00001 12.1 6.22387 12.1 6.50001C12.1 6.77615 11.8761 7.00001 11.6 7.00001C11.3238 7.00001 11.1 6.77615 11.1 6.50001ZM10.4 4.00001C10.1239 4.00001 9.90003 4.22387 9.90003 4.50001C9.90003 4.77615 10.1239 5.00001 10.4 5.00001C10.6762 5.00001 10.9 4.77615 10.9 4.50001C10.9 4.22387 10.6762 4.00001 10.4 4.00001ZM12.1 8.50001C12.1 8.22387 12.3238 8.00001 12.6 8.00001C12.8761 8.00001 13.1 8.22387 13.1 8.50001C13.1 8.77615 12.8761 9.00001 12.6 9.00001C12.3238 9.00001 12.1 8.77615 12.1 8.50001ZM13.4 10C13.1239 10 12.9 10.2239 12.9 10.5C12.9 10.7761 13.1239 11 13.4 11C13.6762 11 13.9 10.7761 13.9 10.5C13.9 10.2239 13.6762 10 13.4 10Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Aee=null,Tee=null,Oee=null,Fee=null,jee=null,Vee=null,l5=["color"],s5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,l5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M7.5 2C7.77614 2 8 2.22386 8 2.5L8 11.2929L11.1464 8.14645C11.3417 7.95118 11.6583 7.95118 11.8536 8.14645C12.0488 8.34171 12.0488 8.65829 11.8536 8.85355L7.85355 12.8536C7.75979 12.9473 7.63261 13 7.5 13C7.36739 13 7.24021 12.9473 7.14645 12.8536L3.14645 8.85355C2.95118 8.65829 2.95118 8.34171 3.14645 8.14645C3.34171 7.95118 3.65829 7.95118 3.85355 8.14645L7 11.2929L7 2.5C7 2.22386 7.22386 2 7.5 2Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Zee=null,zee=null,Nee=null,Wee=null,Uee=null,Kee=null,u5=["color"],c5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,u5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L10.2929 4L6 4C5.72386 4 5.5 3.77614 5.5 3.5C5.5 3.22386 5.72386 3 6 3L11.5 3C11.6326 3 11.7598 3.05268 11.8536 3.14645C11.9473 3.24022 12 3.36739 12 3.5L12 9.00001C12 9.27615 11.7761 9.50001 11.5 9.50001C11.2239 9.50001 11 9.27615 11 9.00001V4.70711L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),d5=["color"],h5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,d5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M7.14645 2.14645C7.34171 1.95118 7.65829 1.95118 7.85355 2.14645L11.8536 6.14645C12.0488 6.34171 12.0488 6.65829 11.8536 6.85355C11.6583 7.04882 11.3417 7.04882 11.1464 6.85355L8 3.70711L8 12.5C8 12.7761 7.77614 13 7.5 13C7.22386 13 7 12.7761 7 12.5L7 3.70711L3.85355 6.85355C3.65829 7.04882 3.34171 7.04882 3.14645 6.85355C2.95118 6.65829 2.95118 6.34171 3.14645 6.14645L7.14645 2.14645Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),f5=["color"],p5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,f5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M2.5 2H12.5C12.7761 2 13 2.22386 13 2.5V12.5C13 12.7761 12.7761 13 12.5 13H2.5C2.22386 13 2 12.7761 2 12.5V2.5C2 2.22386 2.22386 2 2.5 2ZM1 2.5C1 1.67157 1.67157 1 2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5ZM7.5 4C7.77614 4 8 3.77614 8 3.5C8 3.22386 7.77614 3 7.5 3C7.22386 3 7 3.22386 7 3.5C7 3.77614 7.22386 4 7.5 4ZM8 5.5C8 5.77614 7.77614 6 7.5 6C7.22386 6 7 5.77614 7 5.5C7 5.22386 7.22386 5 7.5 5C7.77614 5 8 5.22386 8 5.5ZM7.5 8C7.77614 8 8 7.77614 8 7.5C8 7.22386 7.77614 7 7.5 7C7.22386 7 7 7.22386 7 7.5C7 7.77614 7.22386 8 7.5 8ZM10 7.5C10 7.77614 9.77614 8 9.5 8C9.22386 8 9 7.77614 9 7.5C9 7.22386 9.22386 7 9.5 7C9.77614 7 10 7.22386 10 7.5ZM11.5 8C11.7761 8 12 7.77614 12 7.5C12 7.22386 11.7761 7 11.5 7C11.2239 7 11 7.22386 11 7.5C11 7.77614 11.2239 8 11.5 8Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Gee=null,Xee=null,Yee=null,qee=null,Jee=null,Qee=null,ete=null,tte=null,rte=null,ote=null,nte=null,ite=null,ate=null,lte=null,ste=null,ute=null,cte=null,dte=null,hte=null,fte=null,pte=null,gte=null,mte=null,Cte=null,vte=null,Ete=null,wte=null,bte=null,_te=null,yte=null,xte=null,Lte=null,Ste=null,Rte=null,Ite=null,Mte=null,Dte=null,kte=null,Pte=null,$te=null,g5=["color"],m5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,g5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M12.5 2H2.5C2.22386 2 2 2.22386 2 2.5V12.5C2 12.7761 2.22386 13 2.5 13H12.5C12.7761 13 13 12.7761 13 12.5V2.5C13 2.22386 12.7761 2 12.5 2ZM2.5 1C1.67157 1 1 1.67157 1 2.5V12.5C1 13.3284 1.67157 14 2.5 14H12.5C13.3284 14 14 13.3284 14 12.5V2.5C14 1.67157 13.3284 1 12.5 1H2.5Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Bte=null,Hte=null,Ate=null,Tte=null,Ote=null,Fte=null,jte=null,Vte=null,Zte=null,zte=null,Nte=null,Wte=null,Ute=null,Kte=null,Gte=null,Xte=null,Yte=null,qte=null,Jte=null,Qte=null,e1e=null,t1e=null,r1e=null,o1e=null,n1e=null,i1e=null,C5=["color"],o0=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,C5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),a1e=null,l1e=null,s1e=null,u1e=null,c1e=null,d1e=null,h1e=null,f1e=null,v5=["color"],E5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,v5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),p1e=null,g1e=null,w5=["color"],b5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,w5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M0.877075 7.49991C0.877075 3.84222 3.84222 0.877075 7.49991 0.877075C11.1576 0.877075 14.1227 3.84222 14.1227 7.49991C14.1227 11.1576 11.1576 14.1227 7.49991 14.1227C3.84222 14.1227 0.877075 11.1576 0.877075 7.49991ZM7.49991 1.82708C4.36689 1.82708 1.82708 4.36689 1.82708 7.49991C1.82708 10.6329 4.36689 13.1727 7.49991 13.1727C10.6329 13.1727 13.1727 10.6329 13.1727 7.49991C13.1727 4.36689 10.6329 1.82708 7.49991 1.82708Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),m1e=null,C1e=null,_5=["color"],Nl=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,_5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),v1e=null,E1e=null,w1e=null,b1e=null,_1e=null,y1e=null,x1e=null,L1e=null,S1e=null,R1e=null,I1e=null,M1e=null,D1e=null,k1e=null,P1e=null,$1e=null,B1e=null,H1e=null,A1e=null,T1e=null,O1e=null,F1e=null,j1e=null,V1e=null,Z1e=null,z1e=null,N1e=null,W1e=null,U1e=null,K1e=null,G1e=null,X1e=null,y5=["color"],x5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,y5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Y1e=null,q1e=null,J1e=null,Q1e=null,ere=null,tre=null,rre=null,ore=null,nre=null,ire=null,are=null,lre=null,sre=null,ure=null,cre=null,dre=null,hre=null,fre=null,L5=["color"],S5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,L5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),pre=null,gre=null,mre=null,Cre=null,vre=null,Ere=null,wre=null,bre=null,_re=null,yre=null,R5=["color"],I5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,R5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M3.29227 0.048984C3.47033 -0.032338 3.67946 -0.00228214 3.8274 0.125891L12.8587 7.95026C13.0134 8.08432 13.0708 8.29916 13.0035 8.49251C12.9362 8.68586 12.7578 8.81866 12.5533 8.82768L9.21887 8.97474L11.1504 13.2187C11.2648 13.47 11.1538 13.7664 10.9026 13.8808L8.75024 14.8613C8.499 14.9758 8.20255 14.8649 8.08802 14.6137L6.15339 10.3703L3.86279 12.7855C3.72196 12.934 3.50487 12.9817 3.31479 12.9059C3.1247 12.8301 3 12.6461 3 12.4414V0.503792C3 0.308048 3.11422 0.130306 3.29227 0.048984ZM4 1.59852V11.1877L5.93799 9.14425C6.05238 9.02363 6.21924 8.96776 6.38319 8.99516C6.54715 9.02256 6.68677 9.12965 6.75573 9.2809L8.79056 13.7441L10.0332 13.178L8.00195 8.71497C7.93313 8.56376 7.94391 8.38824 8.03072 8.24659C8.11753 8.10494 8.26903 8.01566 8.435 8.00834L11.2549 7.88397L4 1.59852Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),xre=null,Lre=null,Sre=null,Rre=null,Ire=null,Mre=null,Dre=null,kre=null,Pre=null,$re=null,Bre=null,Hre=null,Are=null,Tre=null,Ore=null,Fre=null,jre=null,Vre=null,Zre=null,zre=null,M5=["color"],D5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,M5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:o}))}),k5=["color"],P5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,k5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Nre=null,Wre=null,Ure=null,Kre=null,Gre=null,Xre=null,Yre=null,qre=null,Jre=null,Qre=null,eoe=null,toe=null,roe=null,ooe=null,noe=null,ioe=null,aoe=null,loe=null,soe=null,uoe=null,coe=null,doe=null,hoe=null,foe=null,poe=null,goe=null,moe=null,Coe=null,voe=null,Eoe=null,woe=null,boe=null,_oe=null,yoe=null,xoe=null,Loe=null,Soe=null,Roe=null,Ioe=null,Moe=null,Doe=null,koe=null,$5=["color"],B5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,$5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M3 2C2.44772 2 2 2.44772 2 3V12C2 12.5523 2.44772 13 3 13H12C12.5523 13 13 12.5523 13 12V8.5C13 8.22386 12.7761 8 12.5 8C12.2239 8 12 8.22386 12 8.5V12H3V3L6.5 3C6.77614 3 7 2.77614 7 2.5C7 2.22386 6.77614 2 6.5 2H3ZM12.8536 2.14645C12.9015 2.19439 12.9377 2.24964 12.9621 2.30861C12.9861 2.36669 12.9996 2.4303 13 2.497L13 2.5V2.50049V5.5C13 5.77614 12.7761 6 12.5 6C12.2239 6 12 5.77614 12 5.5V3.70711L6.85355 8.85355C6.65829 9.04882 6.34171 9.04882 6.14645 8.85355C5.95118 8.65829 5.95118 8.34171 6.14645 8.14645L11.2929 3H9.5C9.22386 3 9 2.77614 9 2.5C9 2.22386 9.22386 2 9.5 2H12.4999H12.5C12.5678 2 12.6324 2.01349 12.6914 2.03794C12.7504 2.06234 12.8056 2.09851 12.8536 2.14645Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Poe=null,$oe=null,Boe=null,Hoe=null,Aoe=null,Toe=null,Ooe=null,Foe=null,joe=null,Voe=null,Zoe=null,zoe=null,Noe=null,Woe=null,Uoe=null,Koe=null,Goe=null,Xoe=null,Yoe=null,qoe=null,Joe=null,Qoe=null,ene=null,tne=null,rne=null,one=null,nne=null,ine=null,ane=null,lne=null,sne=null,une=null,cne=null,dne=null,hne=null,fne=null,H5=["color"],A5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,H5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M7.49933 0.25C3.49635 0.25 0.25 3.49593 0.25 7.50024C0.25 10.703 2.32715 13.4206 5.2081 14.3797C5.57084 14.446 5.70302 14.2222 5.70302 14.0299C5.70302 13.8576 5.69679 13.4019 5.69323 12.797C3.67661 13.235 3.25112 11.825 3.25112 11.825C2.92132 10.9874 2.44599 10.7644 2.44599 10.7644C1.78773 10.3149 2.49584 10.3238 2.49584 10.3238C3.22353 10.375 3.60629 11.0711 3.60629 11.0711C4.25298 12.1788 5.30335 11.8588 5.71638 11.6732C5.78225 11.205 5.96962 10.8854 6.17658 10.7043C4.56675 10.5209 2.87415 9.89918 2.87415 7.12104C2.87415 6.32925 3.15677 5.68257 3.62053 5.17563C3.54576 4.99226 3.29697 4.25521 3.69174 3.25691C3.69174 3.25691 4.30015 3.06196 5.68522 3.99973C6.26337 3.83906 6.8838 3.75895 7.50022 3.75583C8.1162 3.75895 8.73619 3.83906 9.31523 3.99973C10.6994 3.06196 11.3069 3.25691 11.3069 3.25691C11.7026 4.25521 11.4538 4.99226 11.3795 5.17563C11.8441 5.68257 12.1245 6.32925 12.1245 7.12104C12.1245 9.9063 10.4292 10.5192 8.81452 10.6985C9.07444 10.9224 9.30633 11.3648 9.30633 12.0413C9.30633 13.0102 9.29742 13.7922 9.29742 14.0299C9.29742 14.2239 9.42828 14.4496 9.79591 14.3788C12.6746 13.4179 14.75 10.7025 14.75 7.50024C14.75 3.49593 11.5036 0.25 7.49933 0.25Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),pne=null,gne=null,mne=null,Cne=null,T5=["color"],O5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,T5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M1.44995 0.949951C1.31734 0.949951 1.19016 1.00263 1.0964 1.0964C1.00263 1.19017 0.949951 1.31735 0.949951 1.44995L0.949966 3.44995C0.949969 3.7261 1.17383 3.94995 1.44997 3.94995C1.72611 3.94995 1.94997 3.72609 1.94997 3.44995L1.94995 1.94995H3.44997C3.72611 1.94995 3.94997 1.72609 3.94997 1.44995C3.94997 1.17381 3.72611 0.949951 3.44997 0.949951H1.44995ZM5.94995 0.949951C5.67381 0.949951 5.44995 1.17381 5.44995 1.44995C5.44995 1.72609 5.67381 1.94995 5.94995 1.94995H8.94995C9.22609 1.94995 9.44995 1.72609 9.44995 1.44995C9.44995 1.17381 9.22609 0.949951 8.94995 0.949951H5.94995ZM5.44995 13.45C5.44995 13.1738 5.67381 12.95 5.94995 12.95H8.94995C9.22609 12.95 9.44995 13.1738 9.44995 13.45C9.44995 13.7261 9.22609 13.95 8.94995 13.95H5.94995C5.67381 13.95 5.44995 13.7261 5.44995 13.45ZM1.94995 5.94995C1.94995 5.67381 1.72609 5.44995 1.44995 5.44995C1.17381 5.44995 0.949951 5.67381 0.949951 5.94995V8.94995C0.949951 9.22609 1.17381 9.44995 1.44995 9.44995C1.72609 9.44995 1.94995 9.22609 1.94995 8.94995V5.94995ZM13.45 5.44995C13.7261 5.44995 13.95 5.67381 13.95 5.94995V8.94995C13.95 9.22609 13.7261 9.44995 13.45 9.44995C13.1738 9.44995 12.95 9.22609 12.95 8.94995V5.94995C12.95 5.67381 13.1738 5.44995 13.45 5.44995ZM11.45 0.949951C11.1738 0.949951 10.95 1.17381 10.95 1.44995C10.95 1.72609 11.1738 1.94995 11.45 1.94995H12.9499V3.44995C12.9499 3.72609 13.1738 3.94995 13.4499 3.94995C13.7261 3.94995 13.9499 3.72609 13.9499 3.44995V1.44995C13.9499 1.17381 13.7252 0.949951 13.449 0.949951H11.45ZM1.44995 10.95C1.72609 10.95 1.94995 11.1738 1.94995 11.45V12.95H3.44997C3.72611 12.95 3.94997 13.1738 3.94997 13.45C3.94997 13.7261 3.72611 13.95 3.44997 13.95H1.44995C1.17381 13.95 0.949951 13.7261 0.949951 13.45V11.45C0.949951 11.1738 1.17381 10.95 1.44995 10.95ZM13.95 11.45C13.95 11.1738 13.7261 10.95 13.45 10.95C13.1738 10.9499 12.95 11.1738 12.95 11.4499L12.9491 12.95H11.45C11.1738 12.95 10.95 13.1738 10.95 13.45C10.95 13.7261 11.1738 13.95 11.45 13.95H13.4499C13.7261 13.95 13.9499 13.7261 13.9499 13.45L13.95 11.45Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),vne=null,Ene=null,wne=null,bne=null,F5=["color"],j5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,F5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),_ne=null,yne=null,xne=null,Lne=null,Sne=null,Rne=null,V5=["color"],Z5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,V5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M1.35248 4.90532C1.35248 2.94498 2.936 1.35248 4.89346 1.35248C6.25769 1.35248 6.86058 1.92336 7.50002 2.93545C8.13946 1.92336 8.74235 1.35248 10.1066 1.35248C12.064 1.35248 13.6476 2.94498 13.6476 4.90532C13.6476 6.74041 12.6013 8.50508 11.4008 9.96927C10.2636 11.3562 8.92194 12.5508 8.00601 13.3664C7.94645 13.4194 7.88869 13.4709 7.83291 13.5206C7.64324 13.6899 7.3568 13.6899 7.16713 13.5206C7.11135 13.4709 7.05359 13.4194 6.99403 13.3664C6.0781 12.5508 4.73641 11.3562 3.59926 9.96927C2.39872 8.50508 1.35248 6.74041 1.35248 4.90532Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Ine=null,Mne=null,Dne=null,kne=null,Pne=null,$ne=null,Bne=null,Hne=null,Ane=null,Tne=null,z5=["color"],N5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,z5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),One=null,Fne=null,jne=null,Vne=null,Zne=null,zne=null,Nne=null,Wne=null,Une=null,Kne=null,Gne=null,Xne=null,Yne=null,qne=null,Jne=null,Qne=null,e0e=null,t0e=null,r0e=null,o0e=null,n0e=null,i0e=null,a0e=null,l0e=null,s0e=null,u0e=null,c0e=null,d0e=null,h0e=null,f0e=null,p0e=null,g0e=null,m0e=null,C0e=null,v0e=null,E0e=null,w0e=null,b0e=null,_0e=null,y0e=null,x0e=null,L0e=null,S0e=null,R0e=null,I0e=null,M0e=null,W5=["color"],U5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,W5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),K5=["color"],G5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,K5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M7.4986 0C6.3257 0 5.36107 0.38943 4.73753 1.19361C4.23745 1.83856 4 2.68242 4 3.63325H5C5 2.84313 5.19691 2.23312 5.5278 1.80636C5.91615 1.30552 6.55152 1 7.4986 1C8.35683 1 8.96336 1.26502 9.35846 1.68623C9.75793 2.11211 10 2.76044 10 3.63601V6H3C2.44772 6 2 6.44772 2 7V13C2 13.5523 2.44772 14 3 14H12C12.5523 14 13 13.5523 13 13V7C13 6.44771 12.5523 6 12 6H11V3.63601C11 2.58135 10.7065 1.66167 10.0878 1.0021C9.46477 0.337871 8.57061 0 7.4986 0ZM3 7H12V13H3V7Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),D0e=null,k0e=null,P0e=null,$0e=null,B0e=null,H0e=null,A0e=null,T0e=null,O0e=null,F0e=null,j0e=null,V0e=null,Z0e=null,z0e=null,N0e=null,W0e=null,U0e=null,K0e=null,G0e=null,X0e=null,Y0e=null,q0e=null,X5=["color"],Y5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,X5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M5 1.5C5 1.22386 4.77614 1 4.5 1C4.22386 1 4 1.22386 4 1.5L4 7C4 7.01671 4.00082 7.03323 4.00242 7.04952C2.86009 7.28022 2 8.28967 2 9.5C2 10.7103 2.86009 11.7198 4.00242 11.9505C4.00082 11.9668 4 11.9833 4 12V13.5C4 13.7761 4.22386 14 4.5 14C4.77614 14 5 13.7761 5 13.5V12C5 11.9833 4.99918 11.9668 4.99758 11.9505C6.1399 11.7198 7 10.7103 7 9.5C7 8.28967 6.1399 7.28022 4.99758 7.04952C4.99918 7.03323 5 7.01671 5 7L5 1.5ZM11 1.5C11 1.22386 10.7761 1 10.5 1C10.2239 1 10 1.22386 10 1.5V3C10 3.01671 10.0008 3.03323 10.0024 3.04952C8.8601 3.28022 8 4.28967 8 5.5C8 6.71033 8.8601 7.71978 10.0024 7.95048C10.0008 7.96677 10 7.98329 10 8V13.5C10 13.7761 10.2239 14 10.5 14C10.7761 14 11 13.7761 11 13.5V8C11 7.98329 10.9992 7.96677 10.9976 7.95048C12.1399 7.71978 13 6.71033 13 5.5C13 4.28967 12.1399 3.28022 10.9976 3.04952C10.9992 3.03323 11 3.01671 11 3V1.5ZM4.5 8C3.67157 8 3 8.67157 3 9.5C3 10.3284 3.67157 11 4.5 11C5.32843 11 6 10.3284 6 9.5C6 8.67157 5.32843 8 4.5 8ZM9 5.5C9 4.67157 9.67157 4 10.5 4C11.3284 4 12 4.67157 12 5.5C12 6.32843 11.3284 7 10.5 7C9.67157 7 9 6.32843 9 5.5Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),J0e=null,Q0e=null,eie=null,tie=null,rie=null,oie=null,nie=null,iie=null,aie=null,lie=null,sie=null,uie=null,cie=null,die=null,hie=null,fie=null,pie=null,gie=null,mie=null,Cie=null,vie=null,Eie=null,q5=["color"],Pi=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,q5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),J5=["color"],Q5=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,J5);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M12.1464 1.14645C12.3417 0.951184 12.6583 0.951184 12.8535 1.14645L14.8535 3.14645C15.0488 3.34171 15.0488 3.65829 14.8535 3.85355L10.9109 7.79618C10.8349 7.87218 10.7471 7.93543 10.651 7.9835L6.72359 9.94721C6.53109 10.0435 6.29861 10.0057 6.14643 9.85355C5.99425 9.70137 5.95652 9.46889 6.05277 9.27639L8.01648 5.34897C8.06455 5.25283 8.1278 5.16507 8.2038 5.08907L12.1464 1.14645ZM12.5 2.20711L8.91091 5.79618L7.87266 7.87267L8.12731 8.12732L10.2038 7.08907L13.7929 3.5L12.5 2.20711ZM9.99998 2L8.99998 3H4.9C4.47171 3 4.18056 3.00039 3.95552 3.01877C3.73631 3.03668 3.62421 3.06915 3.54601 3.10899C3.35785 3.20487 3.20487 3.35785 3.10899 3.54601C3.06915 3.62421 3.03669 3.73631 3.01878 3.95552C3.00039 4.18056 3 4.47171 3 4.9V11.1C3 11.5283 3.00039 11.8194 3.01878 12.0445C3.03669 12.2637 3.06915 12.3758 3.10899 12.454C3.20487 12.6422 3.35785 12.7951 3.54601 12.891C3.62421 12.9309 3.73631 12.9633 3.95552 12.9812C4.18056 12.9996 4.47171 13 4.9 13H11.1C11.5283 13 11.8194 12.9996 12.0445 12.9812C12.2637 12.9633 12.3758 12.9309 12.454 12.891C12.6422 12.7951 12.7951 12.6422 12.891 12.454C12.9309 12.3758 12.9633 12.2637 12.9812 12.0445C12.9996 11.8194 13 11.5283 13 11.1V6.99998L14 5.99998V11.1V11.1207C14 11.5231 14 11.8553 13.9779 12.1259C13.9549 12.407 13.9057 12.6653 13.782 12.908C13.5903 13.2843 13.2843 13.5903 12.908 13.782C12.6653 13.9057 12.407 13.9549 12.1259 13.9779C11.8553 14 11.5231 14 11.1207 14H11.1H4.9H4.87934C4.47686 14 4.14468 14 3.87409 13.9779C3.59304 13.9549 3.33469 13.9057 3.09202 13.782C2.7157 13.5903 2.40973 13.2843 2.21799 12.908C2.09434 12.6653 2.04506 12.407 2.0221 12.1259C1.99999 11.8553 1.99999 11.5231 2 11.1207V11.1206V11.1V4.9V4.87935V4.87932V4.87931C1.99999 4.47685 1.99999 4.14468 2.0221 3.87409C2.04506 3.59304 2.09434 3.33469 2.21799 3.09202C2.40973 2.71569 2.7157 2.40973 3.09202 2.21799C3.33469 2.09434 3.59304 2.04506 3.87409 2.0221C4.14468 1.99999 4.47685 1.99999 4.87932 2H4.87935H4.9H9.99998Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),wie=null,bie=null,_ie=null,yie=null,xie=null,Lie=null,e3=["color"],t3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,e3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M13.5 13.95C13.7485 13.95 13.95 13.7485 13.95 13.5C13.95 13.2514 13.7485 13.05 13.5 13.05L1.49995 13.05C1.25142 13.05 1.04995 13.2514 1.04995 13.5C1.04995 13.7485 1.25142 13.95 1.49995 13.95L13.5 13.95ZM11.0681 7.5683C11.2439 7.39257 11.2439 7.10764 11.0681 6.93191C10.8924 6.75617 10.6075 6.75617 10.4317 6.93191L7.94993 9.41371L7.94993 1.49998C7.94993 1.25146 7.74846 1.04998 7.49993 1.04998C7.2514 1.04998 7.04993 1.25146 7.04993 1.49998L7.04993 9.41371L4.56813 6.93191C4.39239 6.75617 4.10746 6.75617 3.93173 6.93191C3.75599 7.10764 3.75599 7.39257 3.93173 7.5683L7.18173 10.8183C7.35746 10.994 7.64239 10.994 7.81812 10.8183L11.0681 7.5683Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Sie=null,Rie=null,Iie=null,Mie=null,r3=["color"],o3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,r3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M1.50005 1.05005C1.25152 1.05005 1.05005 1.25152 1.05005 1.50005C1.05005 1.74858 1.25152 1.95005 1.50005 1.95005L13.5 1.95005C13.7486 1.95005 13.95 1.74858 13.95 1.50005C13.95 1.25152 13.7486 1.05005 13.5 1.05005H1.50005ZM3.93188 7.43169C3.75614 7.60743 3.75614 7.89236 3.93188 8.06809C4.10761 8.24383 4.39254 8.24383 4.56827 8.06809L7.05007 5.58629V13.5C7.05007 13.7485 7.25155 13.95 7.50007 13.95C7.7486 13.95 7.95007 13.7485 7.95007 13.5L7.95007 5.58629L10.4319 8.06809C10.6076 8.24383 10.8925 8.24383 11.0683 8.06809C11.244 7.89235 11.244 7.60743 11.0683 7.43169L7.81827 4.18169C7.64254 4.00596 7.35761 4.00596 7.18188 4.18169L3.93188 7.43169Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Die=null,kie=null,n3=["color"],i3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,n3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Pie=null,$ie=null,a3=["color"],l3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,a3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M5.07505 4.10001C5.07505 2.91103 6.25727 1.92502 7.50005 1.92502C8.74283 1.92502 9.92505 2.91103 9.92505 4.10001C9.92505 5.19861 9.36782 5.71436 8.61854 6.37884L8.58757 6.4063C7.84481 7.06467 6.92505 7.87995 6.92505 9.5C6.92505 9.81757 7.18248 10.075 7.50005 10.075C7.81761 10.075 8.07505 9.81757 8.07505 9.5C8.07505 8.41517 8.62945 7.90623 9.38156 7.23925L9.40238 7.22079C10.1496 6.55829 11.075 5.73775 11.075 4.10001C11.075 2.12757 9.21869 0.775024 7.50005 0.775024C5.7814 0.775024 3.92505 2.12757 3.92505 4.10001C3.92505 4.41758 4.18249 4.67501 4.50005 4.67501C4.81761 4.67501 5.07505 4.41758 5.07505 4.10001ZM7.50005 13.3575C7.9833 13.3575 8.37505 12.9657 8.37505 12.4825C8.37505 11.9992 7.9833 11.6075 7.50005 11.6075C7.0168 11.6075 6.62505 11.9992 6.62505 12.4825C6.62505 12.9657 7.0168 13.3575 7.50005 13.3575Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Bie=null,Hie=null,Aie=null,Tie=null,Oie=null,Fie=null,jie=null,Vie=null,Zie=null,zie=null,Nie=null,Wie=null,Uie=null,Kie=null,Gie=null,Xie=null,s3=["color"],u3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,s3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M7.59664 2.93628C7.76085 3.06401 8.00012 2.94698 8.00012 2.73895V1.99998C9.98143 2 11.1848 2.3637 11.9105 3.08945C12.6363 3.81522 13 5.0186 13 6.99998C13 7.27613 13.2239 7.49998 13.5 7.49998C13.7761 7.49998 14 7.27613 14 6.99998C14 4.9438 13.6325 3.39719 12.6176 2.38234C11.6028 1.36752 10.0562 0.999999 8.00012 0.999984V0.261266C8.00012 0.0532293 7.76085 -0.0637944 7.59664 0.063928L6.00384 1.30277C5.87516 1.40286 5.87516 1.59735 6.00384 1.69744L7.59664 2.93628ZM9.5 5H2.5C2.22386 5 2 5.22386 2 5.5V12.5C2 12.7761 2.22386 13 2.5 13H9.5C9.77614 13 10 12.7761 10 12.5V5.5C10 5.22386 9.77614 5 9.5 5ZM2.5 4C1.67157 4 1 4.67157 1 5.5V12.5C1 13.3284 1.67157 14 2.5 14H9.5C10.3284 14 11 13.3284 11 12.5V5.5C11 4.67157 10.3284 4 9.5 4H2.5Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Yie=null,qie=null,Jie=null,Qie=null,eae=null,tae=null,rae=null,oae=null,nae=null,iae=null,aae=null,lae=null,sae=null,uae=null,cae=null,dae=null,hae=null,fae=null,pae=null,gae=null,mae=null,Cae=null,vae=null,Eae=null,wae=null,bae=null,_ae=null,yae=null,xae=null,Lae=null,Sae=null,Rae=null,Iae=null,Mae=null,Dae=null,kae=null,Pae=null,$ae=null,Bae=null,Hae=null,Aae=null,Tae=null,c3=["color"],Wl=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,c3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992ZM0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992ZM1.99998 6.99994C1.99998 6.44766 2.44769 5.99995 2.99998 5.99995L5.99995 5.99995C6.55223 5.99995 6.99994 6.44766 6.99994 6.99994L6.99994 7.99993C6.99994 8.55221 6.55223 8.99992 5.99995 8.99992L2.99998 8.99992C2.4477 8.99992 1.99998 8.55221 1.99998 7.99993L1.99998 6.99994ZM8.99993 5.99995C8.44765 5.99995 7.99993 6.44766 7.99993 6.99994L7.99993 7.99993C7.99993 8.55221 8.44765 8.99992 8.99993 8.99992L11.9999 8.99992C12.5522 8.99992 12.9999 8.55221 12.9999 7.99993L12.9999 6.99994C12.9999 6.44766 12.5522 5.99995 11.9999 5.99995L8.99993 5.99995Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),d3=["color"],Ul=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,d3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM7 2C6.44772 2 6 2.44772 6 3V6C6 6.55228 6.44772 7 7 7H8C8.55228 7 9 6.55228 9 6V3C9 2.44772 8.55228 2 8 2H7ZM7 8C6.44772 8 6 8.44771 6 9V12C6 12.5523 6.44772 13 7 13H8C8.55228 13 9 12.5523 9 12V9C9 8.44772 8.55228 8 8 8H7ZM1.49988 14C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H1.49988Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Oae=null,Fae=null,jae=null,Vae=null,Zae=null,zae=null,Nae=null,Wae=null,h3=["color"],f3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,h3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M1 1H1.5H13.5H14V1.5V13.5V14H13.5H1.5H1V13.5V1.5V1ZM2 2V13H13V2H2Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),Uae=null,Kae=null,Gae=null,Xae=null,Yae=null,qae=null,Jae=null,Qae=null,ele=null,tle=null,rle=null,ole=null,p3=["color"],Kl=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,p3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M14.4999 0.999992C14.2237 0.999992 13.9999 1.22385 13.9999 1.49999L13.9999 5.99995L0.999992 5.99995L0.999992 1.49999C0.999992 1.22385 0.776136 0.999992 0.499996 0.999992C0.223856 0.999992 -9.78509e-09 1.22385 -2.18556e-08 1.49999L4.07279e-07 13.4999C3.95208e-07 13.776 0.223855 13.9999 0.499996 13.9999C0.776136 13.9999 0.999992 13.776 0.999992 13.4999L0.999992 8.99992L13.9999 8.99992L13.9999 13.4999C13.9999 13.776 14.2237 13.9999 14.4999 13.9999C14.776 13.9999 14.9999 13.776 14.9999 13.4999L14.9999 1.49999C14.9999 1.22385 14.776 0.999992 14.4999 0.999992Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),g3=["color"],Gl=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,g3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M0.999878 0.5C0.999878 0.223858 1.22374 0 1.49988 0H13.4999C13.776 0 13.9999 0.223858 13.9999 0.5C13.9999 0.776142 13.776 1 13.4999 1H6H1.49988C1.22374 1 0.999878 0.776142 0.999878 0.5ZM9 14V1L6 1V14H1.49988C1.22374 14 0.999878 14.2239 0.999878 14.5C0.999878 14.7761 1.22374 15 1.49988 15H13.4999C13.776 15 13.9999 14.7761 13.9999 14.5C13.9999 14.2239 13.776 14 13.4999 14H9Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),nle=null,ile=null,ale=null,lle=null,sle=null,ule=null,cle=null,dle=null,hle=null,fle=null,ple=null,gle=null,m3=["color"],C3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,m3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M3.94993 2.95002L3.94993 4.49998C3.94993 4.74851 3.74845 4.94998 3.49993 4.94998C3.2514 4.94998 3.04993 4.74851 3.04993 4.49998V2.50004C3.04993 2.45246 3.05731 2.40661 3.07099 2.36357C3.12878 2.18175 3.29897 2.05002 3.49993 2.05002H11.4999C11.6553 2.05002 11.7922 2.12872 11.8731 2.24842C11.9216 2.32024 11.9499 2.40682 11.9499 2.50002L11.9499 2.50004V4.49998C11.9499 4.74851 11.7485 4.94998 11.4999 4.94998C11.2514 4.94998 11.0499 4.74851 11.0499 4.49998V2.95002H8.04993V12.05H9.25428C9.50281 12.05 9.70428 12.2515 9.70428 12.5C9.70428 12.7486 9.50281 12.95 9.25428 12.95H5.75428C5.50575 12.95 5.30428 12.7486 5.30428 12.5C5.30428 12.2515 5.50575 12.05 5.75428 12.05H6.94993V2.95002H3.94993Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),mle=null,Cle=null,v3=["color"],E3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,v3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM3 10.5C3 10.2239 3.22386 10 3.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),w3=["color"],b3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,w3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),_3=["color"],y3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,_3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),vle=null,Ele=null,x3=["color"],L3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,x3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),wle=null,ble=null,_le=null,yle=null,xle=null,Lle=null,Sle=null,Rle=null,Ile=null,Mle=null,Dle=null,kle=null,Ple=null,$le=null,Ble=null,Hle=null,Ale=null,Tle=null,Ole=null,Fle=null,jle=null,Vle=null,Zle=null,zle=null,Nle=null,Wle=null,Ule=null,Kle=null,Gle=null,Xle=null,Yle=null,qle=null,Jle=null,Qle=null,S3=["color"],R3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,S3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M7.23336 4.69629C7.23336 2.96884 8.63335 1.56857 10.36 1.56857C11.3736 1.56857 12.183 2.04804 12.7254 2.74385C13.3079 2.62467 13.8557 2.40913 14.3513 2.11508C14.1559 2.72598 13.7424 3.2396 13.2033 3.56463C13.2038 3.56568 13.2042 3.56674 13.2047 3.56779C13.7334 3.50361 14.2364 3.36302 14.7048 3.15546L14.7037 3.15715C14.3667 3.66183 13.9431 4.10736 13.4561 4.47034C13.4823 4.64672 13.4956 4.82427 13.4956 5.00079C13.4956 8.6871 10.6873 12.9746 5.52122 12.9746C3.93906 12.9746 2.46544 12.511 1.22505 11.7152C0.992632 11.5661 0.925108 11.2568 1.07423 11.0244C1.0874 11.0038 1.10183 10.9846 1.11734 10.9666C1.20582 10.8202 1.37438 10.7309 1.5554 10.7522C2.47066 10.8601 3.38568 10.7485 4.19219 10.3962C3.39226 10.0434 2.77129 9.35975 2.50204 8.51974C2.45359 8.3686 2.48835 8.20311 2.59351 8.08422C2.59716 8.0801 2.60087 8.07606 2.60464 8.0721C1.96391 7.50819 1.55973 6.68208 1.55973 5.76143V5.72759C1.55973 5.56814 1.64411 5.42059 1.78155 5.33974C1.82671 5.31317 1.87537 5.29511 1.92532 5.28558C1.70549 4.86154 1.58116 4.37984 1.58116 3.86958C1.58116 3.40165 1.58384 2.81192 1.91332 2.28081C1.98718 2.16175 2.10758 2.08915 2.2364 2.07195C2.42588 2.01237 2.64087 2.06969 2.77406 2.23302C3.86536 3.57126 5.44066 4.49583 7.23366 4.73961L7.23336 4.69629ZM5.52122 11.9746C4.73387 11.9746 3.97781 11.8435 3.27248 11.6023C4.13012 11.4538 4.95307 11.1159 5.66218 10.5602C5.81211 10.4427 5.87182 10.2435 5.81126 10.0629C5.7507 9.88234 5.583 9.75943 5.39255 9.75607C4.68968 9.74366 4.06712 9.39716 3.67793 8.86845C3.86828 8.85306 4.05428 8.82039 4.23445 8.77167C4.43603 8.71716 4.57363 8.53114 4.56674 8.32243C4.55985 8.11372 4.41029 7.93718 4.20555 7.89607C3.42694 7.73977 2.79883 7.16764 2.56169 6.42174C2.76255 6.47025 2.97102 6.4991 3.18482 6.5061C3.38563 6.51267 3.56646 6.38533 3.62795 6.19405C3.68943 6.00277 3.61666 5.79391 3.44963 5.68224C2.86523 5.29155 2.48116 4.62464 2.48116 3.86958C2.48116 3.70213 2.48352 3.55268 2.49355 3.41719C3.85115 4.79913 5.70873 5.68931 7.77588 5.79338C7.93225 5.80126 8.08328 5.73543 8.18395 5.61553C8.28463 5.49562 8.32332 5.33548 8.28851 5.18284C8.25255 5.02517 8.23336 4.86284 8.23336 4.69629C8.23336 3.52085 9.18591 2.56857 10.36 2.56857C11.5943 2.56857 12.4956 3.71208 12.4956 5.00079C12.4956 8.25709 10.0202 11.9746 5.52122 11.9746Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),ese=null,tse=null,rse=null,ose=null,nse=null,ise=null,ase=null,lse=null,sse=null,use=null,I3=["color"],M3=(0,a.forwardRef)(function(e,t){var r=e.color,o=r===void 0?"currentColor":r,n=Oe(e,I3);return(0,a.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n,{ref:t}),(0,a.createElement)("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:o,fillRule:"evenodd",clipRule:"evenodd"}))}),cse=null,dse=null,hse=null,fse=null,pse=null,gse=null,mse=null,Cse=null,vse=null,Ese=null,wse=null,bse=null,_se=null,yse=null,xse=null,Lse=null;function h1(){var e=a.useContext(e9);return dl(e),e}function D3(e,t){var r=e.values,o=(0,fe._T)(e,["values"]),n=t.values,i=(0,fe._T)(t,["values"]);return Li(n,r)&&Li(o,i)}function Xl(e){var t=h1(),r=t.formatMessage,o=t.textComponent,n=o===void 0?a.Fragment:o,i=e.id,l=e.description,u=e.defaultMessage,s=e.values,c=e.children,d=e.tagName,h=d===void 0?n:d,C=e.ignoreTag,E={id:i,description:l,defaultMessage:u},v=r(E,s,{ignoreTag:C});return typeof c=="function"?c(Array.isArray(v)?v:[v]):h?a.createElement(h,null,a.Children.toArray(v)):a.createElement(a.Fragment,null,v)}Xl.displayName="FormattedMessage";var Yl=a.memo(Xl,D3);Yl.displayName="MemoizedFormattedMessage";const ge=Yl;var Do=B(7807),ot=B(863),mn=B(4867),$i=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Bi(e,t,r,o){e.addEventListener?e.addEventListener(t,r,o):e.attachEvent&&e.attachEvent("on".concat(t),function(){r(window.event)})}function ql(e,t){for(var r=t.slice(0,t.length-1),o=0;o<r.length;o++)r[o]=e[r[o].toLowerCase()];return r}function Jl(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),r=t.lastIndexOf("");r>=0;)t[r-1]+=",",t.splice(r,1),r=t.lastIndexOf("");return t}function k3(e,t){for(var r=e.length>=t.length?e:t,o=e.length>=t.length?t:e,n=!0,i=0;i<r.length;i++)o.indexOf(r[i])===-1&&(n=!1);return n}for(var Hi={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":$i?173:189,"=":$i?61:187,";":$i?59:186,"'":222,"[":219,"]":221,"\\":220},jr={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Ai={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},Xt={16:!1,18:!1,17:!1,91:!1},Tt={},n0=1;n0<20;n0++)Hi["f".concat(n0)]=111+n0;var _t=[],Ql=!1,es="all",ts=[],i0=function(t){return Hi[t.toLowerCase()]||jr[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function rs(e){es=e||"all"}function Cn(){return es||"all"}function P3(){return _t.slice(0)}function $3(e){var t=e.target||e.srcElement,r=t.tagName,o=!0;return(t.isContentEditable||(r==="INPUT"||r==="TEXTAREA"||r==="SELECT")&&!t.readOnly)&&(o=!1),o}function B3(e){return typeof e=="string"&&(e=i0(e)),_t.indexOf(e)!==-1}function H3(e,t){var r,o;e||(e=Cn());for(var n in Tt)if(Object.prototype.hasOwnProperty.call(Tt,n))for(r=Tt[n],o=0;o<r.length;)r[o].scope===e?r.splice(o,1):o++;Cn()===e&&rs(t||"all")}function A3(e){var t=e.keyCode||e.which||e.charCode,r=_t.indexOf(t);if(r>=0&&_t.splice(r,1),e.key&&e.key.toLowerCase()==="meta"&&_t.splice(0,_t.length),(t===93||t===224)&&(t=91),t in Xt){Xt[t]=!1;for(var o in jr)jr[o]===t&&(w1[o]=!1)}}function T3(e){if(typeof e>"u")Object.keys(Tt).forEach(function(l){return delete Tt[l]});else if(Array.isArray(e))e.forEach(function(l){l.key&&Ti(l)});else if(typeof e=="object")e.key&&Ti(e);else if(typeof e=="string"){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var n=r[0],i=r[1];typeof n=="function"&&(i=n,n=""),Ti({key:e,scope:n,method:i,splitKey:"+"})}}var Ti=function(t){var r=t.key,o=t.scope,n=t.method,i=t.splitKey,l=i===void 0?"+":i,u=Jl(r);u.forEach(function(s){var c=s.split(l),d=c.length,h=c[d-1],C=h==="*"?"*":i0(h);if(!!Tt[C]){o||(o=Cn());var E=d>1?ql(jr,c):[];Tt[C]=Tt[C].filter(function(v){var _=n?v.method===n:!0;return!(_&&v.scope===o&&k3(v.mods,E))})}})};function os(e,t,r,o){if(t.element===o){var n;if(t.scope===r||t.scope==="all"){n=t.mods.length>0;for(var i in Xt)Object.prototype.hasOwnProperty.call(Xt,i)&&(!Xt[i]&&t.mods.indexOf(+i)>-1||Xt[i]&&t.mods.indexOf(+i)===-1)&&(n=!1);(t.mods.length===0&&!Xt[16]&&!Xt[18]&&!Xt[17]&&!Xt[91]||n||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function ns(e,t){var r=Tt["*"],o=e.keyCode||e.which||e.charCode;if(!!w1.filter.call(this,e)){if((o===93||o===224)&&(o=91),_t.indexOf(o)===-1&&o!==229&&_t.push(o),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(v){var _=Ai[v];e[v]&&_t.indexOf(_)===-1?_t.push(_):!e[v]&&_t.indexOf(_)>-1?_t.splice(_t.indexOf(_),1):v==="metaKey"&&e[v]&&_t.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(_t=_t.slice(_t.indexOf(_))))}),o in Xt){Xt[o]=!0;for(var n in jr)jr[n]===o&&(w1[n]=!0);if(!r)return}for(var i in Xt)Object.prototype.hasOwnProperty.call(Xt,i)&&(Xt[i]=e[Ai[i]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(_t.indexOf(17)===-1&&_t.push(17),_t.indexOf(18)===-1&&_t.push(18),Xt[17]=!0,Xt[18]=!0);var l=Cn();if(r)for(var u=0;u<r.length;u++)r[u].scope===l&&(e.type==="keydown"&&r[u].keydown||e.type==="keyup"&&r[u].keyup)&&os(e,r[u],l,t);if(o in Tt){for(var s=0;s<Tt[o].length;s++)if((e.type==="keydown"&&Tt[o][s].keydown||e.type==="keyup"&&Tt[o][s].keyup)&&Tt[o][s].key){for(var c=Tt[o][s],d=c.splitKey,h=c.key.split(d),C=[],E=0;E<h.length;E++)C.push(i0(h[E]));C.sort().join("")===_t.sort().join("")&&os(e,c,l,t)}}}}function O3(e){return ts.indexOf(e)>-1}function w1(e,t,r){_t=[];var o=Jl(e),n=[],i="all",l=document,u=0,s=!1,c=!0,d="+",h=!1;for(r===void 0&&typeof t=="function"&&(r=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(i=t.scope),t.element&&(l=t.element),t.keyup&&(s=t.keyup),t.keydown!==void 0&&(c=t.keydown),t.capture!==void 0&&(h=t.capture),typeof t.splitKey=="string"&&(d=t.splitKey)),typeof t=="string"&&(i=t);u<o.length;u++)e=o[u].split(d),n=[],e.length>1&&(n=ql(jr,e)),e=e[e.length-1],e=e==="*"?"*":i0(e),e in Tt||(Tt[e]=[]),Tt[e].push({keyup:s,keydown:c,scope:i,mods:n,shortcut:o[u],method:r,key:o[u],splitKey:d,element:l});typeof l<"u"&&!O3(l)&&window&&(ts.push(l),Bi(l,"keydown",function(C){ns(C,l)},h),Ql||(Ql=!0,Bi(window,"focus",function(){_t=[]},h)),Bi(l,"keyup",function(C){ns(C,l),A3(C)},h))}function F3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(Tt).forEach(function(r){var o=Tt[r].find(function(n){return n.scope===t&&n.shortcut===e});o&&o.method&&o.method()})}var Oi={setScope:rs,getScope:Cn,deleteScope:H3,getPressedKeyCodes:P3,isPressed:B3,filter:$3,trigger:F3,unbind:T3,keyMap:Hi,modifier:jr,modifierMap:Ai};for(var Fi in Oi)Object.prototype.hasOwnProperty.call(Oi,Fi)&&(w1[Fi]=Oi[Fi]);if(typeof window<"u"){var j3=window.hotkeys;w1.noConflict=function(e){return e&&window.hotkeys===w1&&(window.hotkeys=j3),w1},window.hotkeys=w1}function Sse(){return hotkeys.isPressed}w1.filter=function(){return!0};var is=function(t,r){var o=t.target,n=o&&o.tagName;return Boolean(n&&r&&r.includes(n))},V3=function(t){return is(t,["INPUT","TEXTAREA","SELECT"])};function Be(e,t,r,o){r instanceof Array&&(o=r,r=void 0);var n=r||{},i=n.enableOnTags,l=n.filter,u=n.keyup,s=n.keydown,c=n.filterPreventDefault,d=c===void 0?!0:c,h=n.enabled,C=h===void 0?!0:h,E=n.enableOnContentEditable,v=E===void 0?!1:E,_=(0,a.useRef)(null),y=(0,a.useCallback)(function(x,S){var D,F;return l&&!l(x)?!d:V3(x)&&!is(x,i)||(D=x.target)!=null&&D.isContentEditable&&!v?!0:_.current===null||document.activeElement===_.current||(F=_.current)!=null&&F.contains(document.activeElement)?(t(x,S),!0):!1},o?[_,i,l].concat(o):[_,i,l]);return(0,a.useEffect)(function(){if(!C){w1.unbind(e,y);return}return u&&s!==!0&&(r.keydown=!1),w1(e,r||{},y),function(){return w1.unbind(e,y)}},[y,e,C]),_}var Rse=w1.isPressed,as=B(4135),Ot=B(3688),Z3=B(8210),ls=Object.getOwnPropertySymbols,z3=Object.prototype.hasOwnProperty,N3=Object.prototype.propertyIsEnumerable,vr=(e,t)=>{var r={};for(var o in e)z3.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&ls)for(var o of ls(e))t.indexOf(o)<0&&N3.call(e,o)&&(r[o]=e[o]);return r};const ss="AlertDialog",[W3,Ise]=(0,_l.b)(ss,[Ot.p8]),Er=(0,Ot.p8)(),us=e=>{const t=e,{__scopeAlertDialog:r}=t,o=vr(t,["__scopeAlertDialog"]),n=Er(r);return(0,a.createElement)(Ot.fC,(0,Ct.Z)({},n,o,{modal:!0}))},U3="AlertDialogTrigger",cs=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeAlertDialog:o}=r,n=vr(r,["__scopeAlertDialog"]),i=Er(o);return(0,a.createElement)(Ot.xz,(0,Ct.Z)({},i,n,{ref:t}))}),K3="AlertDialogPortal",ds=e=>{const t=e,{__scopeAlertDialog:r}=t,o=vr(t,["__scopeAlertDialog"]),n=Er(r);return(0,a.createElement)(Ot.h_,(0,Ct.Z)({},n,o))},G3="AlertDialogOverlay",hs=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeAlertDialog:o}=r,n=vr(r,["__scopeAlertDialog"]),i=Er(o);return(0,a.createElement)(Ot.aV,(0,Ct.Z)({},i,n,{ref:t}))}),ko="AlertDialogContent",[X3,Y3]=W3(ko),fs=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeAlertDialog:o,children:n}=r,i=vr(r,["__scopeAlertDialog","children"]),l=Er(o),u=(0,a.useRef)(null),s=(0,as.e)(t,u),c=(0,a.useRef)(null);return(0,a.createElement)(Ot.jm,{contentName:ko,titleName:ps,docsSlug:"alert-dialog"},(0,a.createElement)(X3,{scope:o,cancelRef:c},(0,a.createElement)(Ot.VY,(0,Ct.Z)({role:"alertdialog"},l,i,{ref:s,onOpenAutoFocus:(0,Mo.M)(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=c.current)===null||h===void 0||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault()}),(0,a.createElement)(Z3.A4,null,n),!1)))}),ps="AlertDialogTitle",q3=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeAlertDialog:o}=r,n=vr(r,["__scopeAlertDialog"]),i=Er(o);return(0,a.createElement)(Ot.Dx,(0,Ct.Z)({},i,n,{ref:t}))}),gs="AlertDialogDescription",ms=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeAlertDialog:o}=r,n=vr(r,["__scopeAlertDialog"]),i=Er(o);return(0,a.createElement)(Ot.dk,(0,Ct.Z)({},i,n,{ref:t}))}),J3="AlertDialogAction",Cs=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeAlertDialog:o}=r,n=vr(r,["__scopeAlertDialog"]),i=Er(o);return(0,a.createElement)(Ot.x8,(0,Ct.Z)({},i,n,{ref:t}))}),vs="AlertDialogCancel",Es=(0,a.forwardRef)((e,t)=>{const r=e,{__scopeAlertDialog:o}=r,n=vr(r,["__scopeAlertDialog"]),{cancelRef:i}=Y3(vs,o),l=Er(o),u=(0,as.e)(t,i);return(0,a.createElement)(Ot.x8,(0,Ct.Z)({},l,n,{ref:u}))}),Mse=({contentRef:e})=>{const t=`\`${ko}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ko}\` by passing a \`${gs}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ko}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return $4k4D0$useEffect(()=>{var r;document.getElementById((r=e.current)===null||r===void 0?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ji=us,Q3=cs,Vi=ds,a0=hs,Zi=fs,l0=Cs,ws=Es,Dse=null,ec=ms;var s0=B(6811),b1=(e,t,r)=>new Promise((o,n)=>{var i=s=>{try{u(r.next(s))}catch(c){n(c)}},l=s=>{try{u(r.throw(s))}catch(c){n(c)}},u=s=>s.done?o(s.value):Promise.resolve(s.value).then(i,l);u((r=r.apply(e,t)).next())});const Po=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),tc=Po?Promise.resolve().then(function(){return ac}):Promise.resolve().then(function(){return uc});function zi(...e){return b1(this,null,function*(){return(yield tc).default(...e)})}const rc=Po?Promise.resolve().then(function(){return lc}):Promise.resolve().then(function(){return cc});function oc(...e){return b1(this,null,function*(){return(yield rc).default(...e)})}const nc=Po?Promise.resolve().then(function(){return sc}):Promise.resolve().then(function(){return dc});function bs(...e){return b1(this,null,function*(){return(yield nc).default(...e)})}const ic=e=>b1(void 0,null,function*(){const t=yield e.getFile();return t.handle=e,t});var _s=(...e)=>b1(void 0,[...e],function*(t=[{}]){Array.isArray(t)||(t=[t]);const r=[];t.forEach((i,l)=>{r[l]={description:i.description||"Files",accept:{}},i.mimeTypes?i.mimeTypes.map(u=>{r[l].accept[u]=i.extensions||[]}):r[l].accept["*/*"]=i.extensions||[]});const o=yield window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:r,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),n=yield Promise.all(o.map(ic));return t[0].multiple?n:n[0]}),ac={__proto__:null,default:_s};function u0(e){function t(r){if(Object(r)!==r)return Promise.reject(new TypeError(r+" is not an object."));var o=r.done;return Promise.resolve(r.value).then(function(n){return{value:n,done:o}})}return u0=function(r){this.s=r,this.n=r.next},u0.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(r){var o=this.s.return;return o===void 0?Promise.resolve({value:r,done:!0}):t(o.apply(this.s,arguments))},throw:function(r){var o=this.s.return;return o===void 0?Promise.reject(r):t(o.apply(this.s,arguments))}},new u0(e)}const ys=(e,t,...r)=>b1(void 0,[e,t,...r],function*(o,n,i=o.name,l){const u=[],s=[];var c,d=!1,h=!1;try{for(var C,E=function(v){var _,y,x,S=2;for(typeof Symbol<"u"&&(y=Symbol.asyncIterator,x=Symbol.iterator);S--;){if(y&&(_=v[y])!=null)return _.call(v);if(x&&(_=v[x])!=null)return new u0(_.call(v));y="@@asyncIterator",x="@@iterator"}throw new TypeError("Object is not async iterable")}(o.values());d=!(C=yield E.next()).done;d=!1){const v=C.value,_=`${i}/${v.name}`;v.kind==="file"?s.push(v.getFile().then(y=>(y.directoryHandle=o,y.handle=v,Object.defineProperty(y,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>_})))):v.kind!=="directory"||!n||l&&l(v)||u.push(ys(v,n,_,l))}}catch(v){h=!0,c=v}finally{try{d&&E.return!=null&&(yield E.return())}finally{if(h)throw c}}return[...(yield Promise.all(u)).flat(),...yield Promise.all(s)]});var xs=(...e)=>b1(void 0,[...e],function*(t={}){t.recursive=t.recursive||!1,t.mode=t.mode||"read";const r=yield window.showDirectoryPicker({id:t.id,startIn:t.startIn,mode:t.mode});return ys(r,t.recursive,void 0,t.skipDirectory)}),lc={__proto__:null,default:xs},Ls=(e,...t)=>b1(void 0,[e,...t],function*(r,o=[{}],n=null,i=!1,l=null){Array.isArray(o)||(o=[o]),o[0].fileName=o[0].fileName||"Untitled";const u=[];let s=null;if(r instanceof Blob&&r.type?s=r.type:r.headers&&r.headers.get("content-type")&&(s=r.headers.get("content-type")),o.forEach((h,C)=>{u[C]={description:h.description||"Files",accept:{}},h.mimeTypes?(C===0&&s&&h.mimeTypes.push(s),h.mimeTypes.map(E=>{u[C].accept[E]=h.extensions||[]})):s?u[C].accept[s]=h.extensions||[]:u[C].accept["*/*"]=h.extensions||[]}),n)try{yield n.getFile()}catch(h){if(n=null,i)throw h}const c=n||(yield window.showSaveFilePicker({suggestedName:o[0].fileName,id:o[0].id,startIn:o[0].startIn,types:u,excludeAcceptAllOption:o[0].excludeAcceptAllOption||!1}));!n&&l&&l(c);const d=yield c.createWritable();return"stream"in r?(yield r.stream().pipeTo(d),c):"body"in r?(yield r.body.pipeTo(d),c):(yield d.write(yield r),yield d.close(),c)}),sc={__proto__:null,default:Ls},Ss=(...e)=>b1(void 0,[...e],function*(t=[{}]){return Array.isArray(t)||(t=[t]),new Promise((r,o)=>{const n=document.createElement("input");n.type="file";const i=[...t.map(c=>c.mimeTypes||[]),...t.map(c=>c.extensions||[])].join();n.multiple=t[0].multiple||!1,n.accept=i||"",n.style.display="none",document.body.append(n);const l=c=>{typeof u=="function"&&u(),r(c)},u=t[0].legacySetup&&t[0].legacySetup(l,()=>u(o),n),s=()=>{window.removeEventListener("focus",s),n.remove()};n.addEventListener("click",()=>{window.addEventListener("focus",s)}),n.addEventListener("change",()=>{window.removeEventListener("focus",s),n.remove(),l(n.multiple?Array.from(n.files):n.files[0])}),n.click()})}),uc={__proto__:null,default:Ss},Rs=(...e)=>b1(void 0,[...e],function*(t=[{}]){return Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((r,o)=>{const n=document.createElement("input");n.type="file",n.webkitdirectory=!0;const i=u=>{typeof l=="function"&&l(),r(u)},l=t[0].legacySetup&&t[0].legacySetup(i,()=>l(o),n);n.addEventListener("change",()=>{let u=Array.from(n.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(u=u.filter(s=>s.webkitRelativePath.split("/").every(c=>!t[0].skipDirectory({name:c,kind:"directory"})))):u=u.filter(s=>s.webkitRelativePath.split("/").length===2),i(u)}),n.click()})}),cc={__proto__:null,default:Rs},Is=(e,...t)=>b1(void 0,[e,...t],function*(r,o={}){Array.isArray(o)&&(o=o[0]);const n=document.createElement("a");let i=r;"body"in r&&(i=yield function(s,c){return b1(this,null,function*(){const d=s.getReader(),h=new ReadableStream({start:v=>function _(){return b1(this,null,function*(){return d.read().then(({done:y,value:x})=>{if(!y)return v.enqueue(x),_();v.close()})})}()}),C=new Response(h),E=yield C.blob();return d.releaseLock(),new Blob([E],{type:c})})}(r.body,r.headers.get("content-type"))),n.download=o.fileName||"Untitled",n.href=URL.createObjectURL(yield i);const l=()=>{typeof u=="function"&&u()},u=o.legacySetup&&o.legacySetup(l,()=>u(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),l()}),n.click(),null}),dc={__proto__:null,default:Is};function f1(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function hc(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const o=f1(r);return(n,i)=>o.then(l=>i(l.transaction(t,n).objectStore(t)))}let Ni;function Z1(){return Ni||(Ni=hc("keyval-store","keyval")),Ni}function c0(e,t=Z1()){return t("readonly",r=>f1(r.get(e)))}function vn(e,t,r=Z1()){return r("readwrite",o=>(o.put(t,e),f1(o.transaction)))}function kse(e,t=Z1()){return t("readwrite",r=>(e.forEach(o=>r.put(o[1],o[0])),f1(r.transaction)))}function Pse(e,t=Z1()){return t("readonly",r=>Promise.all(e.map(o=>f1(r.get(o)))))}function $se(e,t,r=Z1()){return r("readwrite",o=>new Promise((n,i)=>{o.get(e).onsuccess=function(){try{o.put(t(this.result),e),n(f1(o.transaction))}catch(l){i(l)}}}))}function Bse(e,t=Z1()){return t("readwrite",r=>(r.delete(e),f1(r.transaction)))}function Hse(e,t=Z1()){return t("readwrite",r=>(e.forEach(o=>r.delete(o)),f1(r.transaction)))}function Ase(e=Z1()){return e("readwrite",t=>(t.clear(),f1(t.transaction)))}function Wi(e,t){return e.openCursor().onsuccess=function(){!this.result||(t(this.result),this.result.continue())},f1(e.transaction)}function Tse(e=Z1()){return e("readonly",t=>{if(t.getAllKeys)return f1(t.getAllKeys());const r=[];return Wi(t,o=>r.push(o.key)).then(()=>r)})}function Ose(e=Z1()){return e("readonly",t=>{if(t.getAll)return f1(t.getAll());const r=[];return Wi(t,o=>r.push(o.value)).then(()=>r)})}function Fse(e=Z1()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([f1(t.getAllKeys()),f1(t.getAll())]).then(([o,n])=>o.map((i,l)=>[i,n[l]]));const r=[];return e("readonly",o=>Wi(o,n=>r.push([n.key,n.value])).then(()=>r))})}const Ms=e=>{let t;const r=new Set,o=(s,c)=>{const d=typeof s=="function"?s(t):s;if(d!==t){const h=t;t=c??typeof d!="object"?d:Object.assign({},t,d),r.forEach(C=>C(t,h))}},n=()=>t,u={setState:o,getState:n,subscribe:s=>(r.add(s),()=>r.delete(s)),destroy:()=>r.clear()};return t=e(o,n,u),u},Ds=e=>e?Ms(e):Ms;var fc=B(1942);const{useSyncExternalStoreWithSelector:pc}=fc;function gc(e,t=e.getState,r){const o=pc(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return(0,a.useDebugValue)(o),o}const ks=e=>{const t=typeof e=="function"?Ds(e):e,r=(o,n)=>gc(t,o,n);return Object.assign(r,t),r};var mc=e=>e?ks(e):ks,Ui=Object.defineProperty,Cc=Object.defineProperties,vc=Object.getOwnPropertyDescriptor,Ec=Object.getOwnPropertyDescriptors,wc=Object.getOwnPropertyNames,d0=Object.getOwnPropertySymbols,Ki=Object.prototype.hasOwnProperty,Ps=Object.prototype.propertyIsEnumerable,Gi=(e,t,r)=>t in e?Ui(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t)=>{for(var r in t||(t={}))Ki.call(t,r)&&Gi(e,r,t[r]);if(d0)for(var r of d0(t))Ps.call(t,r)&&Gi(e,r,t[r]);return e},z=(e,t)=>Cc(e,Ec(t)),$1=(e,t)=>{var r={};for(var o in e)Ki.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&d0)for(var o of d0(e))t.indexOf(o)<0&&Ps.call(e,o)&&(r[o]=e[o]);return r},bc=(e,t)=>{for(var r in t)Ui(e,r,{get:t[r],enumerable:!0})},_c=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of wc(t))!Ki.call(e,n)&&(r||n!=="default")&&Ui(e,n,{get:()=>t[n],enumerable:!(o=vc(t,n))||o.enumerable});return e},g=(e,t,r)=>(Gi(e,typeof t!="symbol"?t+"":t,r),r),Te=(e,t,r)=>new Promise((o,n)=>{var i=s=>{try{u(r.next(s))}catch(c){n(c)}},l=s=>{try{u(r.throw(s))}catch(c){n(c)}},u=s=>s.done?o(s.value):Promise.resolve(s.value).then(i,l);u((r=r.apply(e,t)).next())}),{styled:de,createTheme:yc}=(0,Do.Th)({themeMap:I({},Do.E6),theme:{colors:{bounds:"rgba(65, 132, 244, 1.000)",boundsBg:"rgba(65, 132, 244, 0.05)",hover:"#ececec",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#fefefe",panelContrast:"#ffffff",selected:"rgba(66, 133, 244, 1.000)",selectedContrast:"#fefefe",text:"#333333",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",warn:"rgba(255, 100, 100, 1)",canvas:"rgb(248, 249, 250)"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.14)",3:"0px 2px 3px rgba(0, 0, 0, 0.14)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.14)",8:"0px 12px 17px rgba(0, 0, 0, 0.14)",12:"0px 12px 17px rgba(0, 0, 0, 0.14)",24:"0px 24px 38px rgba(0, 0, 0, 0.14)",key:"1px 1px rgba(0,0,0,1)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -8px rgba(0, 0, 0, 0.05), 
        0px 0px 16px -12px rgba(0, 0, 0, 0.12),
        0px 0px 2px 0px rgba(0, 0, 0, 0.08)`},space:{0:"2px",1:"3px",2:"4px",3:"8px",4:"12px",5:"16px",6:"32px",7:"48px"},fontSizes:{0:"10px",1:"12px",2:"13px",3:"16px",4:"18px"},fonts:{ui:'"Recursive", system-ui, sans-serif',body:'"Recursive", system-ui, sans-serif',mono:'"Recursive Mono", monospace'},fontWeights:{},lineHeights:{},letterSpacings:{},sizes:{},borderWidths:{0:"$1"},borderStyles:{},radii:{0:"2px",1:"4px",2:"8px",3:"12px",4:"16px"},zIndices:{},transitions:{}},media:{micro:"(max-width: 370px)",sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)"},utils:{zStrokeWidth:()=>e=>Array.isArray(e)?{strokeWidth:`calc(${e[0]}px / var(--camera-zoom))`}:{strokeWidth:`calc(${e}px / var(--camera-zoom))`}}}),$s=yc({colors:{bounds:"rgba(38, 150, 255, 1.000)",boundsBg:"rgba(38, 150, 255, 0.05)",hover:"#444A50",overlay:"rgba(0, 0, 0, 0.15)",overlayContrast:"rgba(255, 255, 255, 0.15)",panel:"#363D44",panelContrast:"#49555f",selected:"rgba(38, 150, 255, 1.000)",selectedContrast:"#fefefe",text:"#f8f9fa",tooltip:"#1d1d1d",tooltipContrast:"#ffffff",canvas:"#212529"},shadows:{2:"0px 1px 1px rgba(0, 0, 0, 0.24)",3:"0px 2px 3px rgba(0, 0, 0, 0.24)",4:"0px 4px 5px -1px rgba(0, 0, 0, 0.24)",8:"0px 12px 17px rgba(0, 0, 0, 0.24)",12:"0px 12px 17px rgba(0, 0, 0, 0.24)",24:"0px 24px 38px rgba(0, 0, 0, 0.24)",panel:`0px 0px 16px -1px rgba(0, 0, 0, 0.05), 
      0px 0px 16px -8px rgba(0, 0, 0, 0.09), 
      0px 0px 16px -12px rgba(0, 0, 0, 0.2)`}}),Pt=de("hr",{height:0,paddingTop:1,width:"calc(100%+8px)",backgroundColor:"$hover",border:"none",margin:"$2 -4px"}),Vr=de("div",{position:"relative",overflow:"hidden",userSelect:"none",display:"flex",flexDirection:"column",zIndex:99997,minWidth:180,pointerEvents:"all",backgroundColor:"$panel",border:"1px solid $panelContrast",boxShadow:"$panel",padding:"$2 $2",borderRadius:"$3",font:"$ui",maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{size:{small:{minWidth:72}},overflow:{true:{maxHeight:"60vh"}}}}),xc=()=>M.isDarwin()?"\u2318":"Ctrl";function Xi({variant:e,children:t}){return a.createElement(Lc,{variant:e},t.split("").map((r,o)=>a.createElement("span",{key:o},r.replace("#",xc()))))}var Lc=de("kbd",{marginLeft:"$3",textShadow:"$2",textAlign:"center",fontSize:"$0",fontFamily:"$ui",color:"$text",background:"none",fontWeight:400,gap:"$1",display:"flex",alignItems:"center","& > span":{padding:"$0",borderRadius:"$0",display:"flex",alignItems:"center",justifyContent:"center"},variants:{variant:{tooltip:{"& > span":{color:"$tooltipContrast",background:"$overlayContrast",boxShadow:"$key",width:"20px",height:"20px"}},menu:{}}}}),z1=de("div",{height:"100%",borderRadius:"4px",marginRight:"1px",width:"fit-content",display:"grid",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",color:"currentColor","& svg":{height:16,width:16,strokeWidth:1},"& > *":{gridRow:1,gridColumn:1}}),B1={"@initial":"mobile","@micro":"micro","@sm":"small","@md":"medium","@lg":"large"},n1=a.forwardRef((e,t)=>{var r=e,{onClick:o,isActive:n=!1,isWarning:i=!1,hasIndicator:l=!1,hasArrow:u=!1,disabled:s=!1,variant:c,kbd:d,children:h}=r,C=$1(r,["onClick","isActive","isWarning","hasIndicator","hasArrow","disabled","variant","kbd","children"]);return a.createElement(Sc,I({ref:t,bp:B1,isWarning:i,isActive:n,disabled:s,onClick:o,variant:c},C),a.createElement(Bs,null,h,d?a.createElement(Xi,{variant:"menu"},d):void 0,l&&a.createElement(ot.wU,{dir:"ltr"},a.createElement(z1,null,a.createElement(o0,null))),u&&a.createElement(z1,null,a.createElement(E5,null))))}),Bs=de("div",{height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",display:"flex",gap:"$1",flexDirection:"row",alignItems:"center",padding:"0 $3",justifyContent:"space-between",border:"1px solid transparent","& svg":{position:"relative",stroke:"$overlay",strokeWidth:1,zIndex:1},[`& > ${z1}`]:{paddingLeft:"$3"}}),Sc=de("button",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",height:32,minHeight:32,outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0","&[data-disabled]":{opacity:.3},"&:disabled":{opacity:.3},[`&:focus:not(:disabled) ${Bs}`]:{backgroundColor:"$hover"},"& a":{textDecoration:"none",color:"$text"},variants:{bp:{mobile:{},small:{}},variant:{styleMenu:{margin:"$1 0 $1 0"},wide:{gridColumn:"1 / span 4"}},size:{icon:{padding:"4px ",width:"auto"}},isWarning:{true:{color:"$warn"}},isActive:{true:{backgroundColor:"$hover"},false:{}}}});function St({children:e,label:t,kbd:r,id:o,side:n="top"}){return a.createElement("span",{id:o},a.createElement(mn.zt,null,a.createElement(mn.fC,null,a.createElement(mn.xz,{dir:"ltr",asChild:!0},a.createElement("span",null,e)),a.createElement(Rc,{dir:"ltr",side:n,sideOffset:8},t,r?a.createElement(Xi,{variant:"tooltip"},r):null,a.createElement(Ic,null)))))}var Rc=de(mn.VY,{borderRadius:3,padding:"$3 $3 $3 $3",fontSize:"$1",backgroundColor:"$tooltip",color:"$tooltipContrast",boxShadow:"$3",display:"flex",alignItems:"center",fontFamily:"$ui",userSelect:"none"}),Ic=de(mn.Eh,{fill:"$tooltip",margin:"0 8px"});function Vse(){let e=io.useCallback((i,l)=>Te(this,null,function*(){l(i.fileSystemHandle?"saveFirstTime":"saveAgain",()=>Te(this,null,function*(){try{yield i.saveProject(),i.newProject()}catch{}}),()=>Te(this,null,function*(){i.newProject()}),()=>Te(this,null,function*(){}))}),[]),t=io.useCallback((i,l)=>Te(this,null,function*(){l(i.fileSystemHandle?"saveFirstTime":"saveAgain",()=>Te(this,null,function*(){try{yield i.saveProject(),yield i.openProject()}catch{}}),()=>Te(this,null,function*(){i.openProject()}),()=>Te(this,null,function*(){}))}),[]),r=io.useCallback(i=>{i.saveProject()},[]),o=io.useCallback(i=>{i.saveProjectAs()},[]),n=io.useCallback(i=>Te(this,null,function*(){var l;(l=i.openAsset)==null||l.call(i)}),[]);return{onNewProject:e,onSaveProject:r,onSaveProjectAs:o,onOpenProject:t,onOpenMedia:n}}function Hs(){let e=dt(),{openDialog:t}=Ns(),r=a.useCallback(u=>Te(this,null,function*(){var s,c;u&&e.callbacks.onOpenProject&&u.preventDefault(),(c=(s=e.callbacks).onNewProject)==null||c.call(s,e,t)}),[e,t]),o=a.useCallback(u=>{var s,c;u&&e.callbacks.onOpenProject&&u.preventDefault(),(c=(s=e.callbacks).onSaveProject)==null||c.call(s,e)},[e]),n=a.useCallback(u=>{var s,c;u&&e.callbacks.onOpenProject&&u.preventDefault(),(c=(s=e.callbacks).onSaveProjectAs)==null||c.call(s,e)},[e]),i=a.useCallback(u=>Te(this,null,function*(){var s,c;u&&e.callbacks.onOpenProject&&u.preventDefault(),(c=(s=e.callbacks).onOpenProject)==null||c.call(s,e,t)}),[e,t]),l=a.useCallback(u=>Te(this,null,function*(){var s,c;u&&e.callbacks.onOpenMedia&&u.preventDefault(),(c=(s=e.callbacks).onOpenMedia)==null||c.call(s,e)}),[e]);return{onNewProject:r,onSaveProject:o,onSaveProjectAs:n,onOpenProject:i,onOpenMedia:l}}var Mc=class{constructor(){g(this,"onPinchStart"),g(this,"onPinchEnd"),g(this,"onPinch"),g(this,"onKeyDown"),g(this,"onKeyUp"),g(this,"onPointerMove"),g(this,"onPointerUp"),g(this,"onPan"),g(this,"onZoom"),g(this,"onPointerDown"),g(this,"onPointCanvas"),g(this,"onDoubleClickCanvas"),g(this,"onRightPointCanvas"),g(this,"onDragCanvas"),g(this,"onReleaseCanvas"),g(this,"onPointShape"),g(this,"onDoubleClickShape"),g(this,"onRightPointShape"),g(this,"onDragShape"),g(this,"onHoverShape"),g(this,"onUnhoverShape"),g(this,"onReleaseShape"),g(this,"onPointBounds"),g(this,"onDoubleClickBounds"),g(this,"onRightPointBounds"),g(this,"onDragBounds"),g(this,"onHoverBounds"),g(this,"onUnhoverBounds"),g(this,"onReleaseBounds"),g(this,"onPointBoundsHandle"),g(this,"onDoubleClickBoundsHandle"),g(this,"onRightPointBoundsHandle"),g(this,"onDragBoundsHandle"),g(this,"onHoverBoundsHandle"),g(this,"onUnhoverBoundsHandle"),g(this,"onReleaseBoundsHandle"),g(this,"onPointHandle"),g(this,"onDoubleClickHandle"),g(this,"onRightPointHandle"),g(this,"onDragHandle"),g(this,"onHoverHandle"),g(this,"onUnhoverHandle"),g(this,"onReleaseHandle"),g(this,"onShapeBlur"),g(this,"onShapeClone")}},Dc=(e=>(e.Idle="idle",e.Connecting="connecting",e.Connected="connected",e.Disconnected="disconnected",e))(Dc||{}),kc=(e=>(e.Transform="transform",e.Translate="translate",e.TransformSingle="transformSingle",e.Brush="brush",e.Arrow="arrow",e.Draw="draw",e.Erase="erase",e.Rotate="rotate",e.Handle="handle",e.Grid="grid",e.Edit="edit",e))(kc||{}),Pc=(e=>(e.Idle="idle",e.PointingHandle="pointingHandle",e.PointingBounds="pointingBounds",e.PointingBoundsHandle="pointingBoundsHandle",e.TranslatingLabel="translatingLabel",e.TranslatingHandle="translatingHandle",e.Translating="translating",e.Transforming="transforming",e.Rotating="rotating",e.Pinching="pinching",e.Brushing="brushing",e.Creating="creating",e.EditingText="editing-text",e))(Pc||{}),$c=(e=>(e.Backward="backward",e.Forward="forward",e.ToFront="toFront",e.ToBack="toBack",e))($c||{}),Bc=(e=>(e.Top="top",e.CenterVertical="centerVertical",e.Bottom="bottom",e.Left="left",e.CenterHorizontal="centerHorizontal",e.Right="right",e))(Bc||{}),Hc=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))(Hc||{}),Ac=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))(Ac||{}),Tc=(e=>(e.Horizontal="horizontal",e.Vertical="vertical",e))(Tc||{}),Oc=(e=>(e.Sticky="sticky",e.Ellipse="ellipse",e.Rectangle="rectangle",e.Triangle="triangle",e.Draw="draw",e.Arrow="arrow",e.Line="line",e.Text="text",e.Group="group",e.Image="image",e.Video="video",e))(Oc||{}),Fc=(e=>(e.Arrow="arrow",e))(Fc||{}),jc=(e=>(e.White="white",e.LightGray="lightGray",e.Gray="gray",e.Black="black",e.Green="green",e.Cyan="cyan",e.Blue="blue",e.Indigo="indigo",e.Violet="violet",e.Red="red",e.Orange="orange",e.Yellow="yellow",e))(jc||{}),As=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e))(As||{}),Ts=(e=>(e.Draw="draw",e.Solid="solid",e.Dashed="dashed",e.Dotted="dotted",e))(Ts||{}),Vc=(e=>(e.Small="small",e.Medium="medium",e.Large="large",e.ExtraLarge="extraLarge",e))(Vc||{}),Os=(e=>(e.Start="start",e.Middle="middle",e.End="end",e.Justify="justify",e))(Os||{}),Fs=(e=>(e.Script="script",e.Sans="sans",e.Serif="serif",e.Mono="mono",e))(Fs||{}),Zc=(e=>(e.Image="image",e.Video="video",e))(Zc||{}),zc=(e=>(e.PNG="png",e.JPG="jpeg",e.WEBP="webp",e.SVG="svg",e.JSON="json",e))(zc||{}),js=(e=>(e.Transparent="transparent",e.Auto="auto",e.Light="light",e.Dark="dark",e))(js||{});function Nc(e){let t=dt(),r=a.useCallback((s=!1)=>{let c=e.current;return s&&(t.isMenuOpen||t.settings.keepStyleMenuOpen)?!0:(c?.focus(),c&&(document.activeElement===c||c.contains(document.activeElement)))},[e]);a.useEffect(()=>{if(!t)return;let s=h=>{if(r(!0)){if(t.readOnly){t.copy(void 0,h);return}t.cut(void 0,h)}},c=h=>{!r(!0)||t.copy(void 0,h)},d=h=>{!r(!0)||t.readOnly||t.paste(void 0,h)};return document.addEventListener("cut",s),document.addEventListener("copy",c),document.addEventListener("paste",d),()=>{document.removeEventListener("cut",s),document.removeEventListener("copy",c),document.removeEventListener("paste",d)}},[t]),Be("v,1",()=>{!r(!0)||t.selectTool("select")},[t,e.current]),Be("d,p,2",()=>{!r(!0)||t.selectTool("draw")},void 0,[t]),Be("e,3",()=>{!r(!0)||t.selectTool("erase")},void 0,[t]),Be("r,4",()=>{!r(!0)||t.selectTool("rectangle")},void 0,[t]),Be("o,5",()=>{!r(!0)||t.selectTool("ellipse")},void 0,[t]),Be("g,6",()=>{!r()||t.selectTool("triangle")},void 0,[t]),Be("l,7",()=>{!r(!0)||t.selectTool("line")},void 0,[t]),Be("a,8",()=>{!r(!0)||t.selectTool("arrow")},void 0,[t]),Be("t,9",()=>{!r(!0)||t.selectTool("text")},void 0,[t]),Be("s,0",()=>{!r(!0)||t.selectTool("sticky")},void 0,[t]),Be("ctrl+shift+d,\u2318+shift+d",s=>{!r(!0)||(t.toggleDarkMode(),s.preventDefault())},void 0,[t]),Be("ctrl+.,\u2318+.",()=>{!r(!0)||t.toggleFocusMode()},void 0,[t]),Be("ctrl+shift+g,\u2318+shift+g",()=>{!r(!0)||t.toggleGrid()},void 0,[t]);let{onNewProject:o,onOpenProject:n,onSaveProject:i,onSaveProjectAs:l,onOpenMedia:u}=Hs();Be("ctrl+n,\u2318+n",s=>{s.preventDefault(),r()&&o(s)},void 0,[t]),Be("ctrl+s,\u2318+s",s=>{!r()||i(s)},void 0,[t]),Be("ctrl+shift+s,\u2318+shift+s",s=>{!r()||l(s)},void 0,[t]),Be("ctrl+o,\u2318+o",s=>{!r()||n(s)},void 0,[t]),Be("ctrl+u,\u2318+u",s=>{!r()||u(s)},void 0,[t]),Be("\u2318+z,ctrl+z",s=>{s.preventDefault(),r(!0)&&(t.session?t.cancelSession():t.undo())},void 0,[t]),Be("ctrl+shift+z,\u2318+shift+z",()=>{!r(!0)||(t.session?t.cancelSession():t.redo())},void 0,[t]),Be("\u2318+u,ctrl+u",()=>{!r()||t.undoSelect()},void 0,[t]),Be("ctrl+shift-u,\u2318+shift+u",()=>{!r()||t.redoSelect()},void 0,[t]),Be("ctrl+=,\u2318+=,ctrl+num_add,\u2318+num_add",s=>{!r(!0)||(t.zoomIn(),s.preventDefault())},void 0,[t]),Be("ctrl+-,\u2318+-,ctrl+num_subtract,\u2318+num_subtract",s=>{!r(!0)||(t.zoomOut(),s.preventDefault())},void 0,[t]),Be("shift+0,ctrl+numpad_0,\u2318+numpad_0",()=>{!r(!0)||t.resetZoom()},void 0,[t]),Be("shift+1",()=>{!r(!0)||t.zoomToFit()},void 0,[t]),Be("shift+2",()=>{!r(!0)||t.zoomToSelection()},void 0,[t]),Be("ctrl+d,\u2318+d",s=>{!r()||(t.duplicate(),s.preventDefault())},void 0,[t]),Be("shift+h",()=>{!r(!0)||t.flipHorizontal()},void 0,[t]),Be("shift+v",()=>{!r(!0)||t.flipVertical()},void 0,[t]),Be("escape",()=>{!r(!0)||t.cancel()},void 0,[t]),Be("backspace,del",()=>{!r()||t.delete()},void 0,[t]),Be("\u2318+a,ctrl+a",()=>{!r(!0)||t.selectAll()},void 0,[t]),Be("up",()=>{!r()||t.nudge([0,-1],!1)},void 0,[t]),Be("right",()=>{!r()||t.nudge([1,0],!1)},void 0,[t]),Be("down",()=>{!r()||t.nudge([0,1],!1)},void 0,[t]),Be("left",()=>{!r()||t.nudge([-1,0],!1)},void 0,[t]),Be("shift+up",()=>{!r()||t.nudge([0,-1],!0)},void 0,[t]),Be("shift+right",()=>{!r()||t.nudge([1,0],!0)},void 0,[t]),Be("shift+down",()=>{!r()||t.nudge([0,1],!0)},void 0,[t]),Be("shift+left",()=>{!r()||t.nudge([-1,0],!0)},void 0,[t]),Be("\u2318+shift+l,ctrl+shift+l",()=>{!r()||t.toggleLocked()},void 0,[t]),Be("\u2318+shift+c,ctrl+shift+c",s=>{!r()||(t.copySvg(),s.preventDefault())},void 0,[t]),Be("\u2318+g,ctrl+g",s=>{!r()||(t.group(),s.preventDefault())},void 0,[t]),Be("\u2318+shift+g,ctrl+shift+g",s=>{!r()||(t.ungroup(),s.preventDefault())},void 0,[t]),Be("[",()=>{!r(!0)||t.moveBackward()},void 0,[t]),Be("]",()=>{!r(!0)||t.moveForward()},void 0,[t]),Be("shift+[",()=>{!r(!0)||t.moveToBack()},void 0,[t]),Be("shift+]",()=>{!r(!0)||t.moveToFront()},void 0,[t]),Be("ctrl+shift+backspace,\u2318+shift+backspace",s=>{!r()||(t.settings.isDebugMode&&t.resetDocument(),s.preventDefault())},void 0,[t]),Be("alt+command+l,alt+ctrl+l",s=>{!r(!0)||(t.style({textAlign:"start"}),s.preventDefault())},void 0,[t]),Be("alt+command+t,alt+ctrl+t",s=>{!r(!0)||(t.style({textAlign:"middle"}),s.preventDefault())},void 0,[t]),Be("alt+command+r,alt+ctrl+r",s=>{!r(!0)||(t.style({textAlign:"end"}),s.preventDefault())},void 0,[t])}var Yi=new Map,h0="tldraw-fonts",Wc=`
@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');

@font-face {
  font-family: 'Recursive';
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
    format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Recursive';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImKsvxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
    format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Recursive Mono';
  font-style: normal;
  font-weight: 420;
  font-display: swap;
  src: url(https://fonts.gstatic.com/s/recursive/v23/8vI-7wMr0mhh-RQChyHEH06TlXhq_gukbYrFMk1QuAIcyEwG_X-dpEfaE5YaERmK-CImqvTxvU-MXGX2fSqasNfUlTGZnI14ZeY.woff2)
    format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC,
    U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
`;function Uc(){a.useLayoutEffect(()=>{if(Yi.get(h0))return;let e=document.createElement("style");return e.innerHTML=Wc,e.setAttribute("id",h0),document.head.appendChild(e),Yi.set(h0,e),()=>{e&&document.head.contains(e)&&(document.head.removeChild(e),Yi.delete(h0))}},[])}var Vs=a.createContext({}),Kc=()=>{let[e,t]=a.useState(0);a.useEffect(()=>t(1))};function dt(){return a.useContext(Vs)}var Zs=a.createContext({});function Zr(){let e=a.useContext(Zs);return Kc(),e}var Gc="\u0627\u0644\u0644\u0648\u0646",Xc="\u064A\u0645\u0644\u0623",Yc="\u0645\u062A\u0642\u0637\u0639",qc="\u062D\u062C\u0645",Jc="\u062A\u0628\u0642\u0649 \u0645\u0641\u062A\u0648\u062D\u0629",Qc="\u0627\u0644\u062E\u0637",e7="\u0645\u062D\u0627\u0630\u0627\u0629",t7="\u0627\u0644\u0623\u0646\u0645\u0627\u0637",r7="\u062A\u0643\u0628\u064A\u0631",o7="\u062A\u0635\u063A\u064A\u0631",n7="\u0625\u0644\u0649",i7="\u0623\u062F\u0648\u0627\u062A",a7="\u0627\u0644\u062A\u062D\u0648\u064A\u0644\u0627\u062A",l7="\u0645\u0644\u0641",s7="\u062A\u062D\u0631\u064A\u0631",u7="\u0645\u0639\u0627\u064A\u0646\u0629",c7="\u0627\u0644\u062A\u0641\u0636\u064A\u0644\u0627\u062A",d7="\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",h7="\u062E\u0631\u0648\u062C",f7="\u0643\u0646 \u0631\u0627\u0639\u064A\u0627\u064B",p7="\u0627\u0644\u0639\u0648\u062F\u0629 \u0625\u0644\u0649 \u0627\u0644\u0645\u062D\u062A\u0648\u0649",g7="\u062A\u0643\u0628\u064A\u0631 \u0644\u0644\u062A\u062D\u062F\u064A\u062F",m7="\u062A\u0643\u0628\u064A\u0631 \u0644\u062A\u0646\u0627\u0633\u0628",C7="\u062A\u0643\u0628\u064A\u0631 \u0625\u0644\u0649",v7="\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u062F\u0627\u0643\u0646",E7="\u0648\u0636\u0639 \u0627\u0644\u062A\u0631\u0643\u064A\u0632",w7="\u0648\u0636\u0639 \u0627\u0644\u062A\u0635\u062D\u064A\u062D",b7="\u0627\u0638\u0647\u0631 \u0627\u0644\u0634\u0628\u0643\u0629",_7="\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062A\u062D\u062F\u064A\u062F CAD",y7="\u0627\u0644\u0627\u062D\u062A\u0641\u0627\u0638 \u0628\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0646\u0645\u0637 \u0645\u0641\u062A\u0648\u062D\u0629",x7="\u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0644\u0642\u0637\u0627\u062A \u062F\u0627\u0626\u0645\u064B\u0627",L7="\u062A\u062F\u0648\u064A\u0631 \u0627\u0644\u0645\u0642\u0627\u0628\u0636",S7="\u0645\u0642\u0627\u0628\u0636 \u0645\u0644\u0632\u0645\u0629",R7="\u0645\u0642\u0627\u0628\u0636 \u0627\u0633\u062A\u0646\u0633\u0627\u062E",I7="\u0627\u0644\u063A\u0627\u0621",M7="\u0625\u0639\u0627\u062F\u0629",D7="\u0642\u0637\u0639",k7="\u0646\u0633\u062D",P7="\u0644\u0635\u0642",$7="\u0646\u0633\u062E \u0627\u0644\u0649",B7="\u0635\u062F\u0631 \u0627\u0644\u0649",H7="\u0627\u062E\u062A\u0631 \u0627\u0644\u0643\u0644",A7="\u0644\u0627 \u062A\u062E\u062A\u0631 \u0634\u064A\u0621",T7="\u062D\u0630\u0641",O7="\u0645\u0634\u0631\u0648\u0639 \u062C\u062F\u064A\u062F",F7="\u0641\u062A\u062D",j7="\u062D\u0641\u0638",V7="\u062D\u0641\u0638 \u0628\u0627\u0633\u0645",Z7="\u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0648\u0633\u0627\u0626\u0637",z7="\u0625\u0646\u0634\u0627\u0621 \u0635\u0641\u062D\u0629",N7="\u0635\u0641\u062D\u0629 \u062C\u062F\u064A\u062F\u0629",W7="\u0627\u0633\u0645 \u0627\u0644\u0635\u0641\u062D\u0629",U7="\u0646\u0633\u062E",K7="\u0627\u0644\u063A\u0627\u0621",G7="\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u0627\u0644\u062F\u0639\u0648\u0629",X7="\u0646\u0633\u062E \u0631\u0627\u0628\u0637 \u062F\u0639\u0648\u0629 \u0627\u0644\u0642\u0631\u0627\u0621\u0629 \u0641\u0642\u0637",Y7="\u0642\u0645 \u0628\u0625\u0646\u0634\u0627\u0621 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646",q7="\u0646\u0633\u062E \u0625\u0644\u0649 \u0645\u0634\u0631\u0648\u0639 \u0645\u062A\u0639\u062F\u062F \u0627\u0644\u0644\u0627\u0639\u0628\u064A\u0646",J7="\u0627\u062E\u062A\u0631",Q7="\u0645\u0645\u062D\u0627\u0629",ed="\u0631\u0633\u0645",td="\u0633\u0647\u0645",rd="\u0646\u0635",od="\u0644\u0627\u0635\u0642",nd="\u0645\u0631\u0628\u0639",id="\u0628\u064A\u0636\u0627\u0648\u064A",ad="\u0645\u062B\u0644\u062B",ld="\u062E\u0637",sd="\u062F\u0648\u0651\u0631",ud="\u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F",cd="\u0641\u062A\u062D \u0642\u0641\u0644 \u0646\u0633\u0628\u0629 \u0627\u0644\u0627\u0628\u0639\u0627\u062F",dd="\u062C\u0645\u0651\u0639",hd="\u0641\u0643 \u0627\u0644\u062A\u062C\u0645\u0639",fd="\u0627\u0646\u062A\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u062E\u0644\u0641",pd="\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u062E\u0644\u0641",gd="\u062A\u062D\u0631\u064A\u0643 \u0644\u0644\u0623\u0645\u0627\u0645",md="\u062A\u062D\u0631\u0643 \u0644\u0644\u0623\u0645\u0627\u0645",Cd="\u0625\u0639\u0627\u062F\u0629 \u0636\u0628\u0637 \u0627\u0644\u0632\u0627\u0648\u064A\u0629",vd="\u0642\u0641\u0644",Ed="\u0627\u0644\u063A\u0627\u0621 \u0627\u0644\u0642\u0641\u0644",wd="\u0627\u0646\u0642\u0644 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062D\u0629",bd="\u0627\u0646\u0639\u0643\u0627\u0633 \u0623\u0641\u0642\u064A",_d="\u0627\u0646\u0639\u0643\u0627\u0633 \u0639\u0645\u0648\u062F\u064A",yd="\u062D\u0631\u0651\u0643",xd="\u0644\u0644\u0627\u0645\u0627\u0645",Ld="\u0644\u0644\u062E\u0644\u0641",Sd="\u0644\u0644\u0648\u0631\u0627\u0621",Rd="\u062E\u0644\u0641",Id="\u0644\u063A\u0629",Md="\u0644\u0644\u0645\u0632\u064A\u062F",Dd="\u0645\u0648\u0642\u0639 \u0627\u0644\u0627\u062F\u0648\u0627\u062A",kd="\u0627\u0633\u0641\u0644",Pd="\u064A\u0633\u0627\u0631",$d="\u064A\u0645\u064A\u0646",Bd="\u0623\u0639\u0644\u0649",Hd="\u0635\u0641\u062D\u0629",Ad="\u0627\u062E\u062A\u0635\u0627\u0631\u0627\u062A \u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0641\u0627\u062A\u064A\u062D",Td="\u0628\u062D\u062B",Od="{dots}\u062A\u062D\u0645\u064A\u0644 ",Fd="\u062A\u0635\u062F\u064A\u0631 \u0627\u0644\u062E\u0644\u0641\u064A\u0629",jd="\u0634\u0640\u0641\u0627\u0641",Vd="\u0630\u0627\u062A\u064A",Zd="\u062E\u0641\u064A\u0641",zd="\u063A\u0627\u0645\u0642",Nd={"style.menu.color":Gc,"style.menu.fill":Xc,"style.menu.dash":Yc,"style.menu.size":qc,"style.menu.keep.open":Jc,"style.menu.font":Qc,"style.menu.align":e7,styles:t7,"zoom.in":r7,"zoom.out":o7,to:n7,"menu.tools":i7,"menu.transform":a7,"menu.file":l7,"menu.edit":s7,"menu.view":u7,"menu.preferences":c7,"menu.sign.in":d7,"menu.sign.out":h7,"become.a.sponsor":f7,"zoom.to.content":p7,"zoom.to.selection":g7,"zoom.to.fit":m7,"zoom.to":C7,"preferences.dark.mode":v7,"preferences.focus.mode":E7,"preferences.debug.mode":w7,"preferences.show.grid":b7,"preferences.use.cad.selection":_7,"preferences.keep.stylemenu.open":y7,"preferences.always.show.snaps":x7,"preferences.rotate.handles":L7,"preferences.binding.handles":S7,"preferences.clone.handles":R7,undo:I7,redo:M7,cut:D7,copy:k7,paste:P7,"copy.as":$7,"export.as":B7,"select.all":H7,"select.none":A7,delete:T7,"new.project":O7,open:F7,save:j7,"save.as":V7,"upload.media":Z7,"create.page":z7,"new.page":N7,"page.name":W7,duplicate:U7,cancel:K7,"copy.invite.link":G7,"copy.readonly.link":X7,"create.multiplayer.project":Y7,"copy.multiplayer.project":q7,select:J7,eraser:Q7,draw:ed,arrow:td,text:rd,sticky:od,rectangle:nd,ellipse:id,triangle:ad,line:ld,rotate:sd,"lock.aspect.ratio":ud,"unlock.aspect.ratio":cd,group:dd,ungroup:hd,"move.to.back":fd,"move.backward":pd,"move.forward":gd,"move.to.front":md,"reset.angle":Cd,lock:vd,unlock:Ed,"move.to.page":wd,"flip.horizontal":bd,"flip.vertical":_d,move:yd,"to.front":xd,forward:Ld,backward:Sd,back:Rd,language:Id,"translation.link":Md,"dock.position":Dd,bottom:kd,left:Pd,right:$d,top:Bd,page:Hd,"keyboard.shortcuts":Ad,search:Td,loading:Od,"export.background":Fd,transparent:jd,auto:Vd,light:Zd,dark:zd},Wd="Farve",Ud="Fyld",Kd="Streg",Gd="St\xF8rrelse",Xd="Hold \xE5ben",Yd="Skrifttype",qd="Juster",Jd="Format",Qd="Zoom ind",e8="Zoom ud",t8="til",r8="Fil",o8="Rediger",n8="Vis",i8="Indstillinger",a8="Log ind",l8="Log ud",s8="Bliv sponsor",u8="Zoom til valgte",c8="Zoom til l\xE6rred",d8="Zoom til",h8="M\xF8rkt udseende",f8="Fokus tilstand",p8="Debug tilstand",g8="Vis net",m8="Brug CAD udv\xE6lgelse",C8="Hold formatmenuen \xE5ben",v8="Vis altid snaps",E8="Roteringsh\xE5ndtag",w8="Bindingsh\xE5ndtag",b8="Kloningsh\xE5ndtag",_8="Fortryd",y8="Gentag",x8="Klip",L8="Kopier",S8="Inds\xE6t",R8="Kopier som",I8="Eksporter som",M8="V\xE6lg alt",D8="Frav\xE6lg alt",k8="Slet",P8="Nyt projekt",$8="\xC5ben",B8="Gem",H8="Gem som",A8="Upload medie",T8="Opret side",O8="Ny side",F8="Sidenavn",j8="Dupliker",V8="Fortryd",Z8="Kopier invitationslink",z8="Opret multiplayer projekt",N8="Kopier til multiplayer projekt",W8="V\xE6lg",U8="Viskel\xE6der",K8="Tegn",G8="Pil",X8="Tekst",Y8="Note",q8="Rektangel",J8="Ellipse",Q8="Trekant",e6="Linje",t6="Roter",r6="L\xE5s billedformat",o6="Frig\xF8r billedformat",n6="Grupper",i6="Opdel gruppe",a6="Placer bagerst",l6="Flyt tilbage",s6="Flyt frem",u6="L\xE6g forrest",c6="Nulstil vinkel",d6="L\xE5s",h6="L\xE5s op",f6="Flyt til side",p6="Vend vandret",g6="Vend lodret",m6="Flyt",C6="Forrest",v6="Frem",E6="Tilbage",w6="Bagerst",b6="Sprog",_6={"style.menu.color":Wd,"style.menu.fill":Ud,"style.menu.dash":Kd,"style.menu.size":Gd,"style.menu.keep.open":Xd,"style.menu.font":Yd,"style.menu.align":qd,styles:Jd,"zoom.in":Qd,"zoom.out":e8,to:t8,"menu.file":r8,"menu.edit":o8,"menu.view":n8,"menu.preferences":i8,"menu.sign.in":a8,"menu.sign.out":l8,"become.a.sponsor":s8,"zoom.to.selection":u8,"zoom.to.fit":c8,"zoom.to":d8,"preferences.dark.mode":h8,"preferences.focus.mode":f8,"preferences.debug.mode":p8,"preferences.show.grid":g8,"preferences.use.cad.selection":m8,"preferences.keep.stylemenu.open":C8,"preferences.always.show.snaps":v8,"preferences.rotate.handles":E8,"preferences.binding.handles":w8,"preferences.clone.handles":b8,undo:_8,redo:y8,cut:x8,copy:L8,paste:S8,"copy.as":R8,"export.as":I8,"select.all":M8,"select.none":D8,delete:k8,"new.project":P8,open:$8,save:B8,"save.as":H8,"upload.media":A8,"create.page":T8,"new.page":O8,"page.name":F8,duplicate:j8,cancel:V8,"copy.invite.link":Z8,"create.multiplayer.project":z8,"copy.multiplayer.project":N8,select:W8,eraser:U8,draw:K8,arrow:G8,text:X8,sticky:Y8,rectangle:q8,ellipse:J8,triangle:Q8,line:e6,rotate:t6,"lock.aspect.ratio":r6,"unlock.aspect.ratio":o6,group:n6,ungroup:i6,"move.to.back":a6,"move.backward":l6,"move.forward":s6,"move.to.front":u6,"reset.angle":c6,lock:d6,unlock:h6,"move.to.page":f6,"flip.horizontal":p6,"flip.vertical":g6,move:m6,"to.front":C6,forward:v6,backward:E6,back:w6,language:b6},y6="Farbe",x6="F\xFCllen",L6="Strich",S6="Gr\xF6\xDFe",R6="Offen halten",I6="Schriftart",M6="Ausrichten",D6="Stile",k6="Heranzoomen",P6="Herauszoomen",$6="zu",B6="Datei",H6="Bearbeiten",A6="Ansicht",T6="Pr\xE4ferenzen",O6="Einloggen",F6="Ausloggen",j6="Sponsor werden",V6="Zur Auswahl zoomen",Z6="Zoom anpassen",z6="Zoomen nach",N6="Dunkler Modus",W6="Fokus Modus",U6="Debug Modus",K6="Gitter anzeigen",G6="CAD Auswahl verwenden",X6="Stilmen\xFC offen halten",Y6="Hilfslinien immer anzeigen",q6="Rotiergriffe",J6="Bindegriffe",Q6="Klongriffe",eh="R\xFCckg\xE4ngig machen",th="Wiederherstellen",rh="Ausschneiden",oh="Kopieren",nh="Einf\xFCgen",ih="Kopieren als",ah="Exportieren als",lh="Alles ausw\xE4hlen",sh="Nichts ausw\xE4hlen",uh="L\xF6schen",ch="Neues Projekt",dh="\xD6ffnen",hh="Speichern",fh="Speichern als",ph="Medien hochladen",gh="Seite erstellen",mh="Neue Seite",Ch="Seitenname",vh="Duplizieren",Eh="Abbrechen",wh="Einladungslink kopieren",bh="Mehrspielerprojekt kreieren",_h="In Mehrspielerprojekt kopieren",yh="Ausw\xE4hlen",xh="Radierer",Lh="Malen",Sh="Pfeil",Rh="Text",Ih="Notiz",Mh="Rechteck",Dh="Ellipse",kh="Dreieck",Ph="Linie",$h="Drehen",Bh="Seitenverh\xE4ltnis sperren",Hh="Seitenverh\xE4ltnis entsperren",Ah="Gruppieren",Th="Gruppierung aufheben",Oh="Nach Hinten verschieben",Fh="R\xFCckw\xE4rts schieben",jh="Vorw\xE4rts schieben",Vh="Nach Vorne verschieben",Zh="Winkel zur\xFCcksetzen",zh="Sperren",Nh="Entsperren",Wh="Zu Seite verschieben",Uh="Horizontal spiegeln",Kh="Vertikal spiegeln",Gh="Verschieben",Xh="Nach Vorne",Yh="Vorw\xE4rts",qh="R\xFCckw\xE4rts",Jh="Hinten",Qh="Sprache",ef={"style.menu.color":y6,"style.menu.fill":x6,"style.menu.dash":L6,"style.menu.size":S6,"style.menu.keep.open":R6,"style.menu.font":I6,"style.menu.align":M6,styles:D6,"zoom.in":k6,"zoom.out":P6,to:$6,"menu.file":B6,"menu.edit":H6,"menu.view":A6,"menu.preferences":T6,"menu.sign.in":O6,"menu.sign.out":F6,"become.a.sponsor":j6,"zoom.to.selection":V6,"zoom.to.fit":Z6,"zoom.to":z6,"preferences.dark.mode":N6,"preferences.focus.mode":W6,"preferences.debug.mode":U6,"preferences.show.grid":K6,"preferences.use.cad.selection":G6,"preferences.keep.stylemenu.open":X6,"preferences.always.show.snaps":Y6,"preferences.rotate.handles":q6,"preferences.binding.handles":J6,"preferences.clone.handles":Q6,undo:eh,redo:th,cut:rh,copy:oh,paste:nh,"copy.as":ih,"export.as":ah,"select.all":lh,"select.none":sh,delete:uh,"new.project":ch,open:dh,save:hh,"save.as":fh,"upload.media":ph,"create.page":gh,"new.page":mh,"page.name":Ch,duplicate:vh,cancel:Eh,"copy.invite.link":wh,"create.multiplayer.project":bh,"copy.multiplayer.project":_h,select:yh,eraser:xh,draw:Lh,arrow:Sh,text:Rh,sticky:Ih,rectangle:Mh,ellipse:Dh,triangle:kh,line:Ph,rotate:$h,"lock.aspect.ratio":Bh,"unlock.aspect.ratio":Hh,group:Ah,ungroup:Th,"move.to.back":Oh,"move.backward":Fh,"move.forward":jh,"move.to.front":Vh,"reset.angle":Zh,lock:zh,unlock:Nh,"move.to.page":Wh,"flip.horizontal":Uh,"flip.vertical":Kh,move:Gh,"to.front":Xh,forward:Yh,backward:qh,back:Jh,language:Qh},tf={},rf="Color",of="Relleno",nf="L\xEDnea",af="Tama\xF1o",lf="Mantener abierto",sf="Fuente",uf="Alineaci\xF3n",cf="Estilos",df="Acercar",hf="Alejar",ff="A",pf="Archivo",gf="Editar",mf="Ver",Cf="Preferencias",vf="Iniciar sesi\xF3n",Ef="Cerrar sesi\xF3n",wf="Convi\xE9rtete en patrocinador",bf="Acercar al contenido",_f="Acercar a la selecci\xF3n",yf="Ajustar a la ventana",xf="Acercar a",Lf="Modo oscuro",Sf="Modo concentraci\xF3n",Rf="Modo depuraci\xF3n",If="Mostrar cuadr\xEDcula",Mf="Usar selecci\xF3n CAD",Df="Mantener men\xFA de estilos abierto",kf="Mostrar puntos de ajuste",Pf="Control de rotaci\xF3n",$f="Control de vinculaci\xF3n",Bf="Control de clonaci\xF3n",Hf="Deshacer",Af="Rehacer",Tf="Cortar",Of="Copiar",Ff="Pegar",jf="Copiar como",Vf="Exportar como",Zf="Selecionar todo",zf="Selecionar nada",Nf="Borrar",Wf="Nuevo Proyecto",Uf="Abrir",Kf="Guardar",Gf="Guardar como",Xf="Subir medios",Yf="Crear p\xE1gina",qf="Nueva p\xE1gina",Jf="Nombre de p\xE1gina",Qf="Duplicar",ep="Cancelar",tp="Copiar invitaci\xF3n",rp="Copiar invitaci\xF3n (solo lectura)",op="Crear proyecto multijugador",np="Copiar proyecto multijugador",ip="Seleccionar",ap="Borrador",lp="Dibujar",sp="Flecha",up="Texto",cp="Pegatina",dp="Rect\xE1ngulo",hp="Elipse",fp="Tri\xE1ngulo",pp="L\xEDnea",gp="Rotar",mp="Bloquear relaci\xF3n de aspecto",Cp="Desbloquear relaci\xF3n de aspecto",vp="Agrupar",Ep="Desagrupar",wp="Mover al fondo",bp="Mover atr\xE1s",_p="Mover adelante",yp="Mover al frente",xp="Restablecer \xE1ngulo",Lp="Bloquear",Sp="Desbloquear",Rp="Mover a p\xE1gina",Ip="Voltear horizontalmente",Mp="Voltear verticalmente",Dp="Mover",kp="Al frente",Pp="Adelante",$p="Atr\xE1s",Bp="Fondo",Hp="Idioma",Ap="Saber m\xE1s",Tp="Posici\xF3n del dock",Op="Abajo",Fp="Atajos de teclado",jp="Cargando{dots}",Vp="Izquierda",Zp="Derecha",zp="Arriba",Np="Buscar",Wp="P\xE1gina",Up="Imagen",Kp={"style.menu.color":rf,"style.menu.fill":of,"style.menu.dash":nf,"style.menu.size":af,"style.menu.keep.open":lf,"style.menu.font":sf,"style.menu.align":uf,styles:cf,"zoom.in":df,"zoom.out":hf,to:ff,"menu.file":pf,"menu.edit":gf,"menu.view":mf,"menu.preferences":Cf,"menu.sign.in":vf,"menu.sign.out":Ef,"become.a.sponsor":wf,"zoom.to.content":bf,"zoom.to.selection":_f,"zoom.to.fit":yf,"zoom.to":xf,"preferences.dark.mode":Lf,"preferences.focus.mode":Sf,"preferences.debug.mode":Rf,"preferences.show.grid":If,"preferences.use.cad.selection":Mf,"preferences.keep.stylemenu.open":Df,"preferences.always.show.snaps":kf,"preferences.rotate.handles":Pf,"preferences.binding.handles":$f,"preferences.clone.handles":Bf,undo:Hf,redo:Af,cut:Tf,copy:Of,paste:Ff,"copy.as":jf,"export.as":Vf,"select.all":Zf,"select.none":zf,delete:Nf,"new.project":Wf,open:Uf,save:Kf,"save.as":Gf,"upload.media":Xf,"create.page":Yf,"new.page":qf,"page.name":Jf,duplicate:Qf,cancel:ep,"copy.invite.link":tp,"copy.readonly.link":rp,"create.multiplayer.project":op,"copy.multiplayer.project":np,select:ip,eraser:ap,draw:lp,arrow:sp,text:up,sticky:cp,rectangle:dp,ellipse:hp,triangle:fp,line:pp,rotate:gp,"lock.aspect.ratio":mp,"unlock.aspect.ratio":Cp,group:vp,ungroup:Ep,"move.to.back":wp,"move.backward":bp,"move.forward":_p,"move.to.front":yp,"reset.angle":xp,lock:Lp,unlock:Sp,"move.to.page":Rp,"flip.horizontal":Ip,"flip.vertical":Mp,move:Dp,"to.front":kp,forward:Pp,backward:$p,back:Bp,language:Hp,"translation.link":Ap,"dock.position":Tp,bottom:Op,"keyboard.shortcuts":Fp,loading:jp,left:Vp,right:Zp,top:zp,search:Np,page:Wp,image:Up},Gp="\u0631\u0646\u06AF",Xp="\u062A\u0648\u067E\u064F\u0631",Yp="\u062E\u0637\u200C \u0686\u06CC\u0646",qp="\u0627\u0646\u062F\u0627\u0632\u0647",Jp="\u0628\u0627\u0632 \u0628\u0627\u0634",Qp="\u0641\u0648\u0646\u062A",eg="\u062A\u0631\u0627\u0632",tg="\u0627\u0633\u062A\u0627\u06CC\u0644\u200C\u0647\u0627",rg="\u0632\u0648\u0645 \u062C\u0644\u0648",og="\u0632\u0648\u0645 \u0639\u0642\u0628",ng="\u0628\u0647",ig="\u0641\u0627\u06CC\u0644",ag="\u0648\u06CC\u0631\u0627\u06CC\u0634",lg="\u0646\u0645\u0627\u06CC\u0634",sg="\u062A\u0646\u0638\u06CC\u0645\u200C\u0647\u0627",ug="\u0648\u0631\u0648\u062F",cg="\u062E\u0631\u0648\u062C",dg=" \u062D\u0627\u0645\u06CC \u0634\u0648",hg="\u0646\u0645\u0627\u06CC\u0634 \u0627\u0646\u062A\u062E\u0627\u0628\u200C\u0634\u062F\u0647\u200C\u0647\u0627",fg="\u0646\u0645\u0627\u06CC\u0634 \u06A9\u0644 \u0635\u0641\u062D\u0647",pg="\u0632\u0648\u0645 \u0628\u0647 ",gg="\u062D\u0627\u0644\u062A \u0634\u0628",mg="\u062D\u0627\u0644\u062A \u062A\u0645\u0631\u06A9\u0632",Cg="\u062D\u0627\u0644\u062A \u0639\u06CC\u0628\u200C\u06CC\u0627\u06CC\u06CC",vg="\u0646\u0645\u0627\u06CC\u0634 \u062E\u0637\u0648\u0637 \u0631\u0627\u0647\u0646\u0645\u0627",Eg="\u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 \u062D\u0627\u0644\u062A \u0627\u0646\u062A\u062E\u0627\u0628\u06CC CAD",wg="\u0645\u0646\u0648\u06CC \u0627\u0633\u062A\u0627\u06CC\u0644 \u0628\u0627\u0632 \u0628\u0627\u0634\u0647",bg="\u0631\u0627\u0647\u0646\u0645\u0627\u06CC \u0644\u0628\u0647\u200C\u0647\u0627 \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",_g="\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u0686\u0631\u062E\u0634 \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",yg="\u062F\u0633\u062A\u0647\u0654 \u0644\u0628\u0647\u200C\u0647\u0627 \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",xg="\u062F\u0633\u062A\u06AF\u06CC\u0631\u0647\u200C\u0647\u0627\u06CC \u06A9\u067E\u06CC \u0631\u0648 \u0646\u0634\u0648\u0646 \u0628\u062F\u0647",Lg="\u06CC\u0647 \u0642\u062F\u0645 \u0639\u0642\u0628",Sg="\u06CC\u0647 \u0642\u062F\u0645 \u062C\u0644\u0648",Rg="\u0628\u0631\u06CC\u062F\u0646",Ig="\u06A9\u067E\u06CC",Mg="\u062C\u0627\u06CC\u200C\u06AF\u0630\u0627\u0631\u06CC",Dg="\u06A9\u067E\u06CC \u0628\u0647\u200C\u200C\u0639\u0646\u0648\u0627\u0646",kg="\u062E\u0631\u0648\u062C\u06CC \u0628\u0627 \u0641\u0631\u0645\u062A",Pg="\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0645\u0647",$g="\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u06CC\u0686",Bg=" \u067E\u0627\u06A9\u200C\u06A9\u0631\u062F\u0646",Hg="\u067E\u0631\u0648\u0698\u0647\u0654 \u062A\u0627\u0632\u0647",Ag="\u0628\u0627\u0632 \u06A9\u0646",Tg="\u0630\u062E\u06CC\u0631\u0647",Og="\u0630\u062E\u06CC\u0631\u0647 \u0628\u0627 \u0627\u0633\u0645",Fg="\u0622\u067E\u0644\u0648\u062F \u0639\u06A9\u0633",jg="\u0633\u0627\u062E\u062A \u0635\u0641\u062D\u0647",Vg="\u0635\u0641\u062D\u0647\u0654 \u062A\u0627\u0632\u0647",Zg="\u0627\u0633\u0645 \u0635\u0641\u062D\u0647",zg="\u06A9\u067E\u06CC \u062F\u0631\u062C\u0627",Ng="\u0628\u06CC\u200C\u062E\u06CC\u0627\u0644",Wg="\u06A9\u067E\u06CC \u0644\u06CC\u0646\u06A9 \u062F\u0639\u0648\u062A",Ug="\u0633\u0627\u062E\u062A \u067E\u0631\u0648\u0698\u0647\u0654 \u0686\u0646\u062F\u0646\u0641\u0631\u0647",Kg="\u06A9\u067E\u06CC \u062F\u0631 \u067E\u0631\u0648\u0698\u0647\u0654 \u0686\u0646\u062F\u0646\u0641\u0631\u0647",Gg="\u0627\u0646\u062A\u062E\u0627\u0628",Xg="\u067E\u0627\u06A9\u200C\u06A9\u0646",Yg="\u0631\u0633\u0645",qg="\u0641\u0644\u0650\u0634",Jg="\u0645\u062A\u0646",Qg="\u06CC\u0627\u062F\u062F\u0627\u0634\u062A",em="\u0686\u0627\u0631\u06AF\u0648\u0634",tm="\u06AF\u0631\u062F\u06CC",rm="\u0633\u0647\u200C\u06AF\u0648\u0634",om="\u062E\u0637",nm="\u0686\u0631\u062E\u0634",im="\u062A\u062B\u0628\u06CC\u062A \u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F",am="\u0646\u0633\u0628\u062A \u0627\u0628\u0639\u0627\u062F \u0645\u062A\u063A\u06CC\u0631",lm="\u062C\u0645\u0639 \u06A9\u0646",sm="\u062C\u062F\u0627 \u06A9\u0646",um="\u0628\u0628\u0631 \u0622\u062E\u0631",cm="\u0628\u0628\u0631 \u0639\u0642\u0628",dm="\u0628\u0628\u0631 \u0627\u0648\u0644",hm="\u0628\u0628\u0631 \u062C\u0644\u0648",fm="\u062D\u0630\u0641 \u0686\u0631\u062E\u0634",pm="\u0642\u0641\u0644\u200C \u06A9\u0646",gm="\u0628\u0627\u0632 \u06A9\u0646",mm="\u0628\u0628\u0631 \u0628\u0647 \u0635\u0641\u062D\u0647",Cm="\u0628\u0631\u06AF\u0631\u062F\u0648\u0646 \u0627\u0641\u0642\u06CC",vm="\u0628\u0631\u06AF\u0631\u062F\u0648\u0646 \u0639\u0645\u0648\u062F\u06CC",Em="\u062C\u0627\u0628\u0647\u200C\u062C\u0627\u0634 \u06A9\u0646",wm="\u0628\u0647 \u0627\u0648\u0644",bm="\u0628\u0647 \u062C\u0644\u0648",_m="\u0628\u0647 \u0639\u0642\u0628",ym="\u0628\u0647 \u0622\u062E\u0631",xm="\u0632\u0628\u0627\u0646",Lm={"style.menu.color":Gp,"style.menu.fill":Xp,"style.menu.dash":Yp,"style.menu.size":qp,"style.menu.keep.open":Jp,"style.menu.font":Qp,"style.menu.align":eg,styles:tg,"zoom.in":rg,"zoom.out":og,to:ng,"menu.file":ig,"menu.edit":ag,"menu.view":lg,"menu.preferences":sg,"menu.sign.in":ug,"menu.sign.out":cg,"become.a.sponsor":dg,"zoom.to.selection":hg,"zoom.to.fit":fg,"zoom.to":pg,"preferences.dark.mode":gg,"preferences.focus.mode":mg,"preferences.debug.mode":Cg,"preferences.show.grid":vg,"preferences.use.cad.selection":Eg,"preferences.keep.stylemenu.open":wg,"preferences.always.show.snaps":bg,"preferences.rotate.handles":_g,"preferences.binding.handles":yg,"preferences.clone.handles":xg,undo:Lg,redo:Sg,cut:Rg,copy:Ig,paste:Mg,"copy.as":Dg,"export.as":kg,"select.all":Pg,"select.none":$g,delete:Bg,"new.project":Hg,open:Ag,save:Tg,"save.as":Og,"upload.media":Fg,"create.page":jg,"new.page":Vg,"page.name":Zg,duplicate:zg,cancel:Ng,"copy.invite.link":Wg,"create.multiplayer.project":Ug,"copy.multiplayer.project":Kg,select:Gg,eraser:Xg,draw:Yg,arrow:qg,text:Jg,sticky:Qg,rectangle:em,ellipse:tm,triangle:rm,line:om,rotate:nm,"lock.aspect.ratio":im,"unlock.aspect.ratio":am,group:lm,ungroup:sm,"move.to.back":um,"move.backward":cm,"move.forward":dm,"move.to.front":hm,"reset.angle":fm,lock:pm,unlock:gm,"move.to.page":mm,"flip.horizontal":Cm,"flip.vertical":vm,move:Em,"to.front":wm,forward:bm,backward:_m,back:ym,language:xm},Sm="Couleur",Rm="Remplir",Im="Bordure",Mm="Taille",Dm="Toujours afficher le menu",km="Police",Pm="Alignement",$m="Styles",Bm="Zoom avant",Hm="Zoom arri\xE8re",Am="\xC0",Tm="Outils",Om="Transformation",Fm="Fichier",jm="\xC9dition",Vm="Afficher",Zm="Pr\xE9f\xE9rences",zm="S'authentifier",Nm="Se d\xE9connecter",Wm="Devenir un sponsor",Um="Retour au contenu",Km="Ajuster le zoom \xE0 la s\xE9lection",Gm="Adapter le zoom au contenu",Xm="R\xE9tablir le zoom \xE0",Ym="Mode sombre",qm="Mode focus",Jm="Afficher la barre d\xE9veloppeur",Qm="Afficher la grille",eC="Utiliser la s\xE9lection CAD",tC="Toujours afficher le menu styles",rC="Afficher les rep\xE8res dynamiques",oC="Manier la rotation",nC="Manier les liaisons",iC="Manier le clonage",aC="Annuler",lC="R\xE9tablir",sC="Couper",uC="Copier",cC="Coller",dC="Copier au format",hC="Exporter au format",fC="Tout s\xE9lectionner",pC="Tout d\xE9s\xE9lectionner",gC="Supprimer",mC="Nouveau project",CC="Ouvrir",vC="Enregistrer",EC="Enregistrer sous",wC="Importer un m\xE9dia",bC="Cr\xE9er une page",_C="Nouvelle Page",yC="Nom de la page",xC="Dupliquer",LC="Annuler",SC="Copier le lien d'invitation",RC="Copier le lien en lecture seule d'invitation",IC="Cr\xE9er un project multi-joueurs",MC="Copier dans un projet multi-joueurs",DC="S\xE9lection",kC="Gomme",PC="Crayon",$C="Fl\xE8che",BC="Texte",HC="Note",AC="Rectangle",TC="Cercle",OC="Triangle",FC="Ligne",jC="Rotation",VC="Verrouiller les proportions",ZC="D\xE9verrouiller les proportions",zC="Grouper",NC="D\xE9grouper",WC="D\xE9placer \xE0 l'arri\xE8re-plan",UC="Reculer d'un plan",KC="Avancer d'un plan",GC="Placer au premier plan",XC="R\xE9initialiser la rotation",YC="Verrouiller",qC="D\xE9verrouiller",JC="Alignement / R\xE9partion",QC="D\xE9placer vers la page",ev="Retourner horizontalement",tv="Retourner verticalement",rv="Disposition",ov="Placer au premier plan",nv="Avancer d'un plan",iv="Reculer d'un plan",av="D\xE9placer \xE0 l'arri\xE8re-plan",lv="Langage",sv="En savoir plus",uv="Position du dock",cv="En bas",dv="\xC0 gauche",hv="\xC0 droite",fv="En haut",pv="Page",gv="Raccourcis clavier",mv="Rechercher",Cv="Chargement{dots}",vv="Couleur d'arri\xE8re-plan de l'export",Ev="Transparent",wv="Automatique",bv="Clair",_v="Sombre",yv={"style.menu.color":Sm,"style.menu.fill":Rm,"style.menu.dash":Im,"style.menu.size":Mm,"style.menu.keep.open":Dm,"style.menu.font":km,"style.menu.align":Pm,styles:$m,"zoom.in":Bm,"zoom.out":Hm,to:Am,"menu.tools":Tm,"menu.transform":Om,"menu.file":Fm,"menu.edit":jm,"menu.view":Vm,"menu.preferences":Zm,"menu.sign.in":zm,"menu.sign.out":Nm,"become.a.sponsor":Wm,"zoom.to.content":Um,"zoom.to.selection":Km,"zoom.to.fit":Gm,"zoom.to":Xm,"preferences.dark.mode":Ym,"preferences.focus.mode":qm,"preferences.debug.mode":Jm,"preferences.show.grid":Qm,"preferences.use.cad.selection":eC,"preferences.keep.stylemenu.open":tC,"preferences.always.show.snaps":rC,"preferences.rotate.handles":oC,"preferences.binding.handles":nC,"preferences.clone.handles":iC,undo:aC,redo:lC,cut:sC,copy:uC,paste:cC,"copy.as":dC,"export.as":hC,"select.all":fC,"select.none":pC,delete:gC,"new.project":mC,open:CC,save:vC,"save.as":EC,"upload.media":wC,"create.page":bC,"new.page":_C,"page.name":yC,duplicate:xC,cancel:LC,"copy.invite.link":SC,"copy.readonly.link":RC,"create.multiplayer.project":IC,"copy.multiplayer.project":MC,select:DC,eraser:kC,draw:PC,arrow:$C,text:BC,sticky:HC,rectangle:AC,ellipse:TC,triangle:OC,line:FC,rotate:jC,"lock.aspect.ratio":VC,"unlock.aspect.ratio":ZC,group:zC,ungroup:NC,"move.to.back":WC,"move.backward":UC,"move.forward":KC,"move.to.front":GC,"reset.angle":XC,lock:YC,unlock:qC,"align.distribute":JC,"move.to.page":QC,"flip.horizontal":ev,"flip.vertical":tv,move:rv,"to.front":ov,forward:nv,backward:iv,back:av,language:lv,"translation.link":sv,"dock.position":uv,bottom:cv,left:dv,right:hv,top:fv,page:pv,"keyboard.shortcuts":gv,search:mv,loading:Cv,"export.background":vv,transparent:Ev,auto:wv,light:bv,dark:_v},xv="\u05E6\u05D1\u05E2",Lv="\u05DE\u05DC\u05D0",Sv="\u05D2\u05D1\u05D5\u05DC",Rv="\u05D2\u05D5\u05D3\u05DC",Iv="\u05D4\u05E9\u05D0\u05E8 \u05E4\u05EA\u05D5\u05D7",Mv="\u05D2\u05D5\u05E4\u05DF",Dv="\u05D9\u05D9\u05E9\u05D5\u05E8",kv="\u05E2\u05D9\u05E6\u05D5\u05D1",Pv="\u05D4\u05D2\u05D3\u05DC \u05EA\u05E6\u05D5\u05D2\u05D4",$v="\u05D4\u05E7\u05D8\u05DF \u05EA\u05E6\u05D5\u05D2\u05D4",Bv="\u05DC",Hv="\u05E7\u05D5\u05D1\u05E5",Av="\u05E2\u05E8\u05D9\u05DB\u05D4",Tv="\u05EA\u05E6\u05D5\u05D2\u05D4",Ov="\u05DE\u05D0\u05E4\u05D9\u05D9\u05E0\u05D9\u05DD",Fv="\u05D4\u05D9\u05E8\u05E9\u05DD",jv="\u05D4\u05EA\u05E0\u05EA\u05E7",Vv="\u05DE\u05EA\u05DF \u05D7\u05E1\u05D5\u05EA",Zv="\u05D6\u05D5\u05DD \u05DC\u05D1\u05D7\u05D9\u05E8\u05D4",zv="\u05D6\u05D5\u05DD \u05DC\u05D4\u05EA\u05D0\u05DE\u05D4",Nv="\u05D6\u05D5\u05DD \u05DC",Wv="\u05DE\u05E6\u05D1 \u05D7\u05E9\u05D5\u05DA",Uv="\u05DE\u05E6\u05D1 \u05E4\u05D5\u05E7\u05D5\u05E1",Kv="\u05DE\u05E6\u05D1 \u05D3\u05D9\u05D1\u05D0\u05D2",Gv="(\u05D2\u05E8\u05D9\u05D3)\u05D4\u05E8\u05D0\u05D4 \u05E8\u05E9\u05EA \u05E2\u05D9\u05DE\u05D5\u05D3",Xv="\u05E1\u05D9\u05DE\u05D5\u05DF CAD",Yv="\u05D4\u05E9\u05D0\u05E8 \u05EA\u05E4\u05E8\u05D9\u05D8 \u05E2\u05D9\u05E6\u05D5\u05D1 \u05E4\u05EA\u05D5\u05D7",qv="\u05D4\u05E8\u05D0\u05D4 \u05E7\u05D5\u05D5\u05D9 \u05DE\u05EA\u05D0\u05E8",Jv="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E1\u05D9\u05D1\u05D5\u05D1",Qv="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E7\u05E9\u05D9\u05E8\u05D4",eE="\u05D4\u05E8\u05D0\u05D4 \u05D9\u05D3\u05D9\u05D5\u05EA \u05E9\u05D9\u05DB\u05E4\u05D5\u05DC",tE="\u05D1\u05D8\u05DC",rE="\u05E2\u05E9\u05D4 \u05DE\u05D7\u05D3\u05E9",oE="\u05D2\u05D6\u05D5\u05E8",nE="\u05D4\u05E2\u05EA\u05E7",iE="\u05D4\u05D3\u05D1\u05E7",aE="\u05D4\u05E2\u05EA\u05E7 \u05DB",lE="\u05D9\u05D9\u05E6\u05D0 \u05DB",sE="\u05D1\u05D7\u05E8 \u05D4\u05DB\u05DC",uE="\u05D1\u05D8\u05DC \u05D1\u05D7\u05D9\u05E8\u05D4",cE="\u05DE\u05D7\u05E7",dE="\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05D7\u05D3\u05E9",hE="\u05E4\u05EA\u05D7",fE="\u05E9\u05DE\u05D5\u05E8",pE="\u05E9\u05DE\u05D5\u05E8 \u05DB",gE="\u05D4\u05E2\u05DC\u05D0\u05EA \u05DE\u05D3\u05D9\u05D4",mE="\u05E6\u05D5\u05E8 \u05D3\u05E3",CE="\u05D3\u05E3 \u05D7\u05D3\u05E9",vE="\u05E9\u05DD \u05D4\u05D3\u05E3",EE="\u05E9\u05DB\u05E4\u05DC",wE="\u05D1\u05D8\u05DC",bE="\u05D4\u05E2\u05EA\u05E7 \u05E7\u05D9\u05E9\u05D5\u05E8 \u05D4\u05D6\u05DE\u05E0\u05D4",_E="\u05E6\u05D5\u05E8 \u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD",yE="\u05D4\u05E2\u05EA\u05E7 \u05DC\u05E4\u05E8\u05D5\u05D9\u05E7\u05D8 \u05E8\u05D1 \u05DE\u05E9\u05EA\u05EA\u05E4\u05D9\u05DD",xE="\u05E1\u05DE\u05DF",LE="\u05DE\u05D7\u05E7",SE="\u05E6\u05D9\u05D9\u05E8",RE="\u05D7\u05E5",IE="\u05D8\u05E7\u05E1\u05D8",ME="\u05D3\u05D1\u05D9\u05E7\u05D9",DE="\u05DE\u05E8\u05D5\u05D1\u05E2",kE="\u05D0\u05DC\u05D9\u05E4\u05E1\u05D4",PE="\u05DE\u05E9\u05D5\u05DC\u05E9",$E="\u05E7\u05D5",BE="\u05E1\u05D5\u05D1\u05D1",HE="\u05E0\u05E2\u05DC \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4",AE="\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05EA \u05D9\u05D7\u05E1 \u05E8\u05D5\u05D7\u05D1-\u05D2\u05D5\u05D1\u05D4",TE="\u05E7\u05D1\u05E5",OE="\u05D1\u05D8\u05DC \u05E7\u05D9\u05D1\u05D5\u05E5",FE="\u05D4\u05D1\u05D0 \u05DC\u05EA\u05D7\u05EA\u05D9\u05EA",jE="\u05D4\u05D6\u05D6 \u05D0\u05D7\u05D5\u05E8\u05D4",VE="\u05D4\u05D6\u05D6 \u05E7\u05D3\u05D9\u05DE\u05D4",ZE="\u05D4\u05D1\u05D0 \u05DC\u05D7\u05D6\u05D9\u05EA",zE="\u05D0\u05E4\u05E1 \u05D6\u05D5\u05D5\u05D9\u05EA",NE="\u05E0\u05E2\u05DC",WE="\u05E9\u05D7\u05E8\u05E8 \u05E0\u05E2\u05D9\u05DC\u05D4",UE="\u05D4\u05D6\u05D6 \u05DC\u05D3\u05E3",KE="\u05D4\u05E4\u05D5\u05DA \u05D0\u05D5\u05E4\u05E7\u05D9\u05EA",GE="\u05D4\u05E4\u05D5\u05DA \u05D0\u05E0\u05DB\u05D9\u05EA",XE="\u05D4\u05D6\u05D6",YE="\u05D4\u05D1\u05D0 \u05DC\u05E7\u05D3\u05D9\u05DE\u05D4",qE="\u05E7\u05D3\u05D9\u05DE\u05D4",JE="\u05D0\u05D7\u05D5\u05E8\u05D4",QE="\u05D1\u05D7\u05D6\u05E8\u05D4",ew="\u05E9\u05E4\u05D4",tw={"style.menu.color":xv,"style.menu.fill":Lv,"style.menu.dash":Sv,"style.menu.size":Rv,"style.menu.keep.open":Iv,"style.menu.font":Mv,"style.menu.align":Dv,styles:kv,"zoom.in":Pv,"zoom.out":$v,to:Bv,"menu.file":Hv,"menu.edit":Av,"menu.view":Tv,"menu.preferences":Ov,"menu.sign.in":Fv,"menu.sign.out":jv,"become.a.sponsor":Vv,"zoom.to.selection":Zv,"zoom.to.fit":zv,"zoom.to":Nv,"preferences.dark.mode":Wv,"preferences.focus.mode":Uv,"preferences.debug.mode":Kv,"preferences.show.grid":Gv,"preferences.use.cad.selection":Xv,"preferences.keep.stylemenu.open":Yv,"preferences.always.show.snaps":qv,"preferences.rotate.handles":Jv,"preferences.binding.handles":Qv,"preferences.clone.handles":eE,undo:tE,redo:rE,cut:oE,copy:nE,paste:iE,"copy.as":aE,"export.as":lE,"select.all":sE,"select.none":uE,delete:cE,"new.project":dE,open:hE,save:fE,"save.as":pE,"upload.media":gE,"create.page":mE,"new.page":CE,"page.name":vE,duplicate:EE,cancel:wE,"copy.invite.link":bE,"create.multiplayer.project":_E,"copy.multiplayer.project":yE,select:xE,eraser:LE,draw:SE,arrow:RE,text:IE,sticky:ME,rectangle:DE,ellipse:kE,triangle:PE,line:$E,rotate:BE,"lock.aspect.ratio":HE,"unlock.aspect.ratio":AE,group:TE,ungroup:OE,"move.to.back":FE,"move.backward":jE,"move.forward":VE,"move.to.front":ZE,"reset.angle":zE,lock:NE,unlock:WE,"move.to.page":UE,"flip.horizontal":KE,"flip.vertical":GE,move:XE,"to.front":YE,forward:qE,backward:JE,back:QE,language:ew},rw="Colore",ow="Riempi",nw="Tratteggo",iw="Dimensione",aw="Mantieni aperto",lw="Font",sw="Allineamento",uw="Stile",cw="Ingrandisci",dw="Rimpicciolisci",hw="Imposta",fw="File",pw="Modifica",gw="Visualizzazione",mw="Preferenze",Cw="Accedi",vw="Esci",Ew="Sponsorizza",ww="Adatta alla selezione",bw="Adatta",_w="Ingrandisci",yw="Modalit\xE0 scura",xw="Modalit\xE0 zen",Lw="Modalit\xE0 sviluppatore",Sw="Mostra griglia",Rw="Selezione CAD",Iw="Mantieni menu stile aperto",Mw="Mostra sempre le guide",Dw="Controlli d'inclinazione",kw="Controlli d'associazione",Pw="Controlli di clonazione",$w="Annulla",Bw="Ripristina",Hw="Taglia",Aw="Copia",Tw="Incolla",Ow="Copia come",Fw="Esporta come",jw="Seleziona tutto",Vw="Deseleziona tutto",Zw="Elimina",zw="Nuovo progetto",Nw="Apri",Ww="Salva",Uw="Salva come",Kw="Carica contenuti multimediali",Gw="Crea nuova pagina",Xw="Nuova pagina",Yw="Nome pagina",qw="Pagina",Jw="Duplica",Qw="Chiudi",eb="Copia link invito",tb="Crea progetto multiplayer",rb="Trasforma in progetto multiplayer",ob="Seleziona",nb="Gomma",ib="Matita",ab="Freccia",lb="Casella di testo",sb="Post-it",ub="Rettangolo",cb="Ellisse",db="Triangolo",hb="Linea",fb="Ruota",pb="Blocca rapporto lati",gb="Sblocca rapporto lati",mb="Raggruppa",Cb="Separa",vb="Muovi in fondo",Eb="Sposta indietro",wb="Sposta avanti",bb="Muovi in fronte",_b="Reimposta angolo",yb="Blocca",xb="Sblocca",Lb="Trasferisci a pagina",Sb="Ribalta orizzontalmente",Rb="Ribalta verticalmente",Ib="Sposta",Mb="In primo piano",Db="Sposta avanti",kb="Sposta indietro",Pb="In fondo",$b="Lingua",Bb="Posizione dock",Hb="In basso",Ab="Sinistra",Tb="Destra",Ob="In Alto",Fb={"style.menu.color":rw,"style.menu.fill":ow,"style.menu.dash":nw,"style.menu.size":iw,"style.menu.keep.open":aw,"style.menu.font":lw,"style.menu.align":sw,styles:uw,"zoom.in":cw,"zoom.out":dw,to:hw,"menu.file":fw,"menu.edit":pw,"menu.view":gw,"menu.preferences":mw,"menu.sign.in":Cw,"menu.sign.out":vw,"become.a.sponsor":Ew,"zoom.to.selection":ww,"zoom.to.fit":bw,"zoom.to":_w,"preferences.dark.mode":yw,"preferences.focus.mode":xw,"preferences.debug.mode":Lw,"preferences.show.grid":Sw,"preferences.use.cad.selection":Rw,"preferences.keep.stylemenu.open":Iw,"preferences.always.show.snaps":Mw,"preferences.rotate.handles":Dw,"preferences.binding.handles":kw,"preferences.clone.handles":Pw,undo:$w,redo:Bw,cut:Hw,copy:Aw,paste:Tw,"copy.as":Ow,"export.as":Fw,"select.all":jw,"select.none":Vw,delete:Zw,"new.project":zw,open:Nw,save:Ww,"save.as":Uw,"upload.media":Kw,"create.page":Gw,"new.page":Xw,"page.name":Yw,page:qw,duplicate:Jw,cancel:Qw,"copy.invite.link":eb,"create.multiplayer.project":tb,"copy.multiplayer.project":rb,select:ob,eraser:nb,draw:ib,arrow:ab,text:lb,sticky:sb,rectangle:ub,ellipse:cb,triangle:db,line:hb,rotate:fb,"lock.aspect.ratio":pb,"unlock.aspect.ratio":gb,group:mb,ungroup:Cb,"move.to.back":vb,"move.backward":Eb,"move.forward":wb,"move.to.front":bb,"reset.angle":_b,lock:yb,unlock:xb,"move.to.page":Lb,"flip.horizontal":Sb,"flip.vertical":Rb,move:Ib,"to.front":Mb,forward:Db,backward:kb,back:Pb,language:$b,"dock.position":Bb,bottom:Hb,left:Ab,right:Tb,top:Ob},jb="\u8272",Vb="\u5857\u308A\u3064\u3076\u3057",Zb="\u7DDA",zb="\u5927\u304D\u3055",Nb="\u5E38\u306B\u8868\u793A",Wb="\u30D5\u30A9\u30F3\u30C8",Ub="\u914D\u7F6E",Kb="\u30B9\u30BF\u30A4\u30EB",Gb="\u62E1\u5927",Xb="\u7E2E\u5C0F",Yb=" ",qb="\u30D5\u30A1\u30A4\u30EB",Jb="\u7DE8\u96C6",Qb="\u8868\u793A",e_="\u8A2D\u5B9A",t_="\u30B5\u30A4\u30F3\u30A4\u30F3",r_="\u30B5\u30A4\u30F3\u30A2\u30A6\u30C8",o_="\u652F\u63F4\u3059\u308B",n_="\u9078\u629E\u3057\u305F\u30A2\u30A4\u30C6\u30E0\u306B\u5408\u308F\u305B\u3066\u62E1\u5927",i_="\u62E1\u5927\u3057\u3066\u3059\u3079\u3066\u3092\u8868\u793A",a_=" ",l_="\u30C0\u30FC\u30AF\u30E2\u30FC\u30C9",s_="\u30D5\u30A9\u30FC\u30AB\u30B9\u30E2\u30FC\u30C9",u_="\u30C7\u30D0\u30C3\u30B0\u30E2\u30FC\u30C9",c_="\u30B0\u30EA\u30C3\u30C9\u3092\u8868\u793A",d_="CAD\u306E\u9078\u629E\u6CD5\u3092\u4F7F\u7528",h_="\u30B9\u30BF\u30A4\u30EB\u30E1\u30CB\u30E5\u30FC\u3092\u5E38\u306B\u8868\u793A",f_="\u30B9\u30CA\u30C3\u30D7\u3092\u5E38\u306B\u8868\u793A",p_="\u56DE\u8EE2\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",g_="\u7D50\u5408\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",m_="\u30AF\u30ED\u30FC\u30F3\u30CF\u30F3\u30C9\u30EB\u3092\u8868\u793A",C_="\u5143\u306B\u623B\u3059",v_="\u3084\u308A\u76F4\u3057",E_="\u5207\u308A\u53D6\u308A",w_="\u30B3\u30D4\u30FC",b_="\u8CBC\u308A\u4ED8\u3051",__="\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30B3\u30D4\u30FC",y_="\u5F62\u5F0F\u3092\u9078\u629E\u3057\u3066\u30A8\u30AF\u30B9\u30DD\u30FC\u30C8",x_="\u3059\u3079\u3066\u9078\u629E",L_="\u9078\u629E\u3092\u89E3\u9664",S_="\u524A\u9664",R_="\u65B0\u3057\u3044\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8",I_="\u958B\u304F",M_="\u4FDD\u5B58",D_="\u540D\u524D\u3092\u3064\u3051\u3066\u4FDD\u5B58",k_="\u30E1\u30C7\u30A3\u30A2\u3092\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9",P_="\u30DA\u30FC\u30B8\u3092\u4F5C\u6210",$_="\u65B0\u898F\u30DA\u30FC\u30B8",B_="\u30DA\u30FC\u30B8\u540D",H_="\u8907\u88FD",A_="\u30AD\u30E3\u30F3\u30BB\u30EB",T_="\u5171\u6709\u30EA\u30F3\u30AF\u3092\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC",O_="\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u3092\u4F5C\u6210",F_="\u30DE\u30EB\u30C1\u30D7\u30EC\u30A4\u30E4\u30FC\u30D7\u30ED\u30B8\u30A7\u30AF\u30C8\u306B\u30B3\u30D4\u30FC",j_="\u9078\u629E",V_="\u6D88\u3057\u30B4\u30E0",Z_="\u63CF\u753B",z_="\u77E2\u5370",N_="\u30C6\u30AD\u30B9\u30C8",W_="\u3075\u305B\u3093",U_="\u9577\u65B9\u5F62",K_="\u6955\u5186\u5F62",G_="\u4E09\u89D2\u5F62",X_="\u7DDA",Y_="\u56DE\u8EE2",q_="\u7E26\u6A2A\u6BD4\u3092\u56FA\u5B9A",J_="\u7E26\u6A2A\u6BD4\u306E\u56FA\u5B9A\u3092\u89E3\u9664",Q_="\u30B0\u30EB\u30FC\u30D4\u30F3\u30B0",ey="\u30B0\u30EB\u30FC\u30D7\u89E3\u9664",ty="\u6700\u5F8C\u9762\u306B\u79FB\u52D5",ry="\u3072\u3068\u3064\u5F8C\u308D\u306B\u79FB\u52D5",oy="\u3072\u3068\u3064\u524D\u306B\u79FB\u52D5",ny="\u6700\u80CC\u9762\u306B\u79FB\u52D5",iy="\u89D2\u5EA6\u3092\u521D\u671F\u5316",ay="\u30ED\u30C3\u30AF",ly="\u30A2\u30F3\u30ED\u30C3\u30AF",sy="\u30DA\u30FC\u30B8\u3078\u79FB\u52D5",uy="\u6C34\u5E73\u65B9\u5411\u306B\u53CD\u8EE2",cy="\u5782\u76F4\u65B9\u5411\u306B\u53CD\u8EE2",dy="\u79FB\u52D5",hy="\u6700\u524D\u9762\u3078",fy="\u3072\u3068\u3064\u524D\u3078",py="\u3072\u3068\u3064\u5F8C\u308D\u3078",gy="\u6700\u80CC\u9762\u3078",my="\u8A00\u8A9E",Cy={"style.menu.color":jb,"style.menu.fill":Vb,"style.menu.dash":Zb,"style.menu.size":zb,"style.menu.keep.open":Nb,"style.menu.font":Wb,"style.menu.align":Ub,styles:Kb,"zoom.in":Gb,"zoom.out":Xb,to:Yb,"menu.file":qb,"menu.edit":Jb,"menu.view":Qb,"menu.preferences":e_,"menu.sign.in":t_,"menu.sign.out":r_,"become.a.sponsor":o_,"zoom.to.selection":n_,"zoom.to.fit":i_,"zoom.to":a_,"preferences.dark.mode":l_,"preferences.focus.mode":s_,"preferences.debug.mode":u_,"preferences.show.grid":c_,"preferences.use.cad.selection":d_,"preferences.keep.stylemenu.open":h_,"preferences.always.show.snaps":f_,"preferences.rotate.handles":p_,"preferences.binding.handles":g_,"preferences.clone.handles":m_,undo:C_,redo:v_,cut:E_,copy:w_,paste:b_,"copy.as":__,"export.as":y_,"select.all":x_,"select.none":L_,delete:S_,"new.project":R_,open:I_,save:M_,"save.as":D_,"upload.media":k_,"create.page":P_,"new.page":$_,"page.name":B_,duplicate:H_,cancel:A_,"copy.invite.link":T_,"create.multiplayer.project":O_,"copy.multiplayer.project":F_,select:j_,eraser:V_,draw:Z_,arrow:z_,text:N_,sticky:W_,rectangle:U_,ellipse:K_,triangle:G_,line:X_,rotate:Y_,"lock.aspect.ratio":q_,"unlock.aspect.ratio":J_,group:Q_,ungroup:ey,"move.to.back":ty,"move.backward":ry,"move.forward":oy,"move.to.front":ny,"reset.angle":iy,lock:ay,unlock:ly,"move.to.page":sy,"flip.horizontal":uy,"flip.vertical":cy,move:dy,"to.front":hy,forward:fy,backward:py,back:gy,language:my},vy="\uC0C9\uAE54",Ey="\uCC44\uC6B0\uAE30",wy="\uD14C\uB450\uB9AC",by="\uD06C\uAE30",_y="\uD56D\uC0C1 \uC5F4\uAE30",yy="\uAE00\uAF34",xy="\uC815\uB82C",Ly="\uC2A4\uD0C0\uC77C",Sy="\uD655\uB300",Ry="\uCD95\uC18C",Iy="to",My="\uD30C\uC77C",Dy="\uD3B8\uC9D1",ky="\uBCF4\uAE30",Py="\uC124\uC815",$y="\uB85C\uADF8\uC778",By="\uB85C\uADF8\uC544\uC6C3",Hy="\uD6C4\uC6D0\uC790 \uB418\uAE30",Ay="\uC120\uD0DD \uC694\uC18C \uB9DE\uCD94\uAE30",Ty="\uC804\uCCB4 \uB9DE\uCD94\uAE30",Oy="\uB9DE\uCD94\uAE30",Fy="\uB2E4\uD06C \uBAA8\uB4DC",jy="\uC9D1\uC911 \uBAA8\uB4DC",Vy="\uB514\uBC84\uADF8 \uBAA8\uB4DC",Zy="\uACA9\uC790 \uBCF4\uAE30",zy="CAD \uC120\uD0DD \uC0AC\uC6A9",Ny="\uC2A4\uD0C0\uC77C \uBA54\uB274 \uD56D\uC0C1 \uC5F4\uAE30",Wy="Snap \uD56D\uC0C1 \uC5F4\uAE30",Uy="\uD68C\uC804 \uBCF4\uC774\uAE30",Ky="Binding Handles",Gy="\uBCF5\uC81C \uBCF4\uC774\uAE30",Xy="\uC2E4\uD589 \uCDE8\uC18C",Yy="\uB2E4\uC2DC \uC2E4\uD589",qy="\uC790\uB974\uAE30",Jy="\uBCF5\uC0AC",Qy="\uBD99\uC5EC\uB123\uAE30",ex="\uB2E4\uB978 \uD615\uC2DD\uC73C\uB85C \uBCF5\uC0AC\uD558\uAE30",tx="\uB0B4\uBCF4\uB0B4\uAE30",rx="\uC804\uCCB4 \uC120\uD0DD",ox="\uC120\uD0DD \uC548\uD568",nx="\uC0AD\uC81C\uD558\uAE30",ix="\uC0C8 \uD504\uB85C\uC81D\uD2B8",ax="\uC5F4\uAE30",lx="\uC800\uC7A5",sx="\uB2E4\uB978 \uC774\uB984\uC73C\uB85C \uC800\uC7A5",ux="\uBBF8\uB514\uC5B4 \uC5C5\uB85C\uB4DC",cx="\uC0C8 \uD398\uC774\uC9C0 \uB9CC\uB4E4\uAE30",dx="\uC0C8 \uD398\uC774\uC9C0",hx="\uD398\uC774\uC9C0 \uC774\uB984",fx="\uBCF5\uC81C",px="\uCDE8\uC18C",gx="\uCD08\uB300 \uB9C1\uD06C \uBCF5\uC0AC\uD558\uAE30",mx="\uACF5\uB3D9 \uD504\uB85C\uC81D\uD2B8 \uB9CC\uB4E4\uAE30",Cx="\uACF5\uB3D9 \uD504\uB85C\uC81D\uD2B8\uB85C \uBCF5\uC0AC\uD558\uAE30",vx="\uC120\uD0DD",Ex="\uC9C0\uC6B0\uAC1C",wx="\uADF8\uB9AC\uAE30",bx="\uD654\uC0B4\uD45C",_x="\uD14D\uC2A4\uD2B8",yx="\uBA54\uBAA8",xx="\uC0AC\uAC01\uD615",Lx="\uC6D0",Sx="\uC0BC\uAC01\uD615",Rx="\uC120",Ix="\uD68C\uC804",Mx="\uBE44\uC728 \uC7A0\uAE08",Dx="\uBE44\uC728 \uC7A0\uAE08 \uD574\uC81C",kx="\uADF8\uB8F9\uD654",Px="\uADF8\uB8F9\uD654 \uD574\uC81C",$x="\uB9E8 \uB4A4\uB85C \uBCF4\uB0B4\uAE30",Bx="\uB4A4\uB85C \uBCF4\uB0B4\uAE30",Hx="\uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30",Ax="\uB9E8 \uC55E\uC73C\uB85C \uAC00\uC838\uC624\uAE30",Tx="\uD68C\uC804 \uCD08\uAE30\uD654",Ox="\uC7A0\uAD6C\uAE30",Fx="\uC7A0\uAE08 \uD574\uC81C\uD558\uAE30",jx="\uD398\uC774\uC9C0\uB85C \uC774\uB3D9",Vx="\uC218\uD3C9\uC73C\uB85C \uB4A4\uC9D1\uAE30",Zx="\uC218\uC9C1\uC73C\uB85C \uB4A4\uC9D1\uAE30",zx="\uC21C\uC11C",Nx="\uB9E8 \uC55E\uC73C\uB85C",Wx="\uC55E\uC73C\uB85C",Ux="\uB4A4\uB85C",Kx="\uB9E8 \uB4A4\uB85C",Gx="\uC5B8\uC5B4",Xx={"style.menu.color":vy,"style.menu.fill":Ey,"style.menu.dash":wy,"style.menu.size":by,"style.menu.keep.open":_y,"style.menu.font":yy,"style.menu.align":xy,styles:Ly,"zoom.in":Sy,"zoom.out":Ry,to:Iy,"menu.file":My,"menu.edit":Dy,"menu.view":ky,"menu.preferences":Py,"menu.sign.in":$y,"menu.sign.out":By,"become.a.sponsor":Hy,"zoom.to.selection":Ay,"zoom.to.fit":Ty,"zoom.to":Oy,"preferences.dark.mode":Fy,"preferences.focus.mode":jy,"preferences.debug.mode":Vy,"preferences.show.grid":Zy,"preferences.use.cad.selection":zy,"preferences.keep.stylemenu.open":Ny,"preferences.always.show.snaps":Wy,"preferences.rotate.handles":Uy,"preferences.binding.handles":Ky,"preferences.clone.handles":Gy,undo:Xy,redo:Yy,cut:qy,copy:Jy,paste:Qy,"copy.as":ex,"export.as":tx,"select.all":rx,"select.none":ox,delete:nx,"new.project":ix,open:ax,save:lx,"save.as":sx,"upload.media":ux,"create.page":cx,"new.page":dx,"page.name":hx,duplicate:fx,cancel:px,"copy.invite.link":gx,"create.multiplayer.project":mx,"copy.multiplayer.project":Cx,select:vx,eraser:Ex,draw:wx,arrow:bx,text:_x,sticky:yx,rectangle:xx,ellipse:Lx,triangle:Sx,line:Rx,rotate:Ix,"lock.aspect.ratio":Mx,"unlock.aspect.ratio":Dx,group:kx,ungroup:Px,"move.to.back":$x,"move.backward":Bx,"move.forward":Hx,"move.to.front":Ax,"reset.angle":Tx,lock:Ox,unlock:Fx,"move.to.page":jx,"flip.horizontal":Vx,"flip.vertical":Zx,move:zx,"to.front":Nx,forward:Wx,backward:Ux,back:Kx,language:Gx},Yx="Color",qx="Fill",Jx="Dash",Qx="Size",eL="Keep Open",tL="Font",rL="Align",oL="Styles",nL="Zoom In",iL="Zoom Out",aL="To",lL="Tools",sL="Transform",uL="File",cL="Edit",dL="View",hL="Preferences",fL="Sign In",pL="Sign Out",gL="Become a Sponsor",mL="Back to content",CL="Zoom to Selection",vL="Zoom to Fit",EL="Zoom to",wL="Dark Mode",bL="Focus Mode",_L="Debug Mode",yL="Show Grid",xL="Use CAD Selection",LL="Keep Style Menu Open",SL="Always Show Snaps",RL="Rotate Handles",IL="Binding Handles",ML="Clone Handles",DL="Undo",kL="Redo",PL="Cut",$L="Copy",BL="Paste",HL="Copy As",AL="Export As",TL="Select All",OL="Select None",FL="Delete",jL="New Project",VL="Open",ZL="Save",zL="Save As",NL="Upload Media",WL="Create Page",UL="New Page",KL="Page Name",GL="Duplicate",XL="Cancel",YL="Copy Invite Link",qL="Copy ReadOnly Link",JL="Create a Multiplayer Project",QL="Copy to Multiplayer Project",eS="Select",tS="Eraser",rS="Draw",oS="Arrow",nS="Text",iS="Sticky",aS="Rectangle",lS="Ellipse",sS="Triangle",uS="Line",cS="Rotate",dS="Lock Aspect Ratio",hS="Unlock Aspect Ratio",fS="Group",pS="Ungroup",gS="Move to Back",mS="Move Backward",CS="Move Forward",vS="Move to Front",ES="Reset Angle",wS="Lock",bS="Unlock",_S="Align / Distribute",yS="Move to Page",xS="Flip Horizontal",LS="Flip Vertical",SS="Move",RS="To Front",IS="Forward",MS="Backward",DS="To Back",kS="Language",PS="Learn More",$S="Dock Position",BS="Bottom",HS="Left",AS="Right",TS="Top",OS="Page",FS="Keyboard shortcuts",jS="Search",VS="Loading{dots}",ZS="Export Background",zS="Transparent",NS="Auto",WS="Light",US="Dark",KS="Github",GS="Twitter",XS="Discord",YS="Image",qS="Align Left",JS="Align Horizontal Center",QS="Align Right",eR="Align Top",tR="Align Vertical Center",rR="Align Bottom",oR="Distribute Horizontal",nR="Distribute Vertical",iR="Stretch Horizontal",aR="Stretch Vertical",lR="Do you want to save your current project?",sR="Do you want to save changes to your current project?",uR="Cancel",cR="No",dR="Yes",hR="Enter file name",fR={"style.menu.color":Yx,"style.menu.fill":qx,"style.menu.dash":Jx,"style.menu.size":Qx,"style.menu.keep.open":eL,"style.menu.font":tL,"style.menu.align":rL,styles:oL,"zoom.in":nL,"zoom.out":iL,to:aL,"menu.tools":lL,"menu.transform":sL,"menu.file":uL,"menu.edit":cL,"menu.view":dL,"menu.preferences":hL,"menu.sign.in":fL,"menu.sign.out":pL,"become.a.sponsor":gL,"zoom.to.content":mL,"zoom.to.selection":CL,"zoom.to.fit":vL,"zoom.to":EL,"preferences.dark.mode":wL,"preferences.focus.mode":bL,"preferences.debug.mode":_L,"preferences.show.grid":yL,"preferences.use.cad.selection":xL,"preferences.keep.stylemenu.open":LL,"preferences.always.show.snaps":SL,"preferences.rotate.handles":RL,"preferences.binding.handles":IL,"preferences.clone.handles":ML,undo:DL,redo:kL,cut:PL,copy:$L,paste:BL,"copy.as":HL,"export.as":AL,"select.all":TL,"select.none":OL,delete:FL,"new.project":jL,open:VL,save:ZL,"save.as":zL,"upload.media":NL,"create.page":WL,"new.page":UL,"page.name":KL,duplicate:GL,cancel:XL,"copy.invite.link":YL,"copy.readonly.link":qL,"create.multiplayer.project":JL,"copy.multiplayer.project":QL,select:eS,eraser:tS,draw:rS,arrow:oS,text:nS,sticky:iS,rectangle:aS,ellipse:lS,triangle:sS,line:uS,rotate:cS,"lock.aspect.ratio":dS,"unlock.aspect.ratio":hS,group:fS,ungroup:pS,"move.to.back":gS,"move.backward":mS,"move.forward":CS,"move.to.front":vS,"reset.angle":ES,lock:wS,unlock:bS,"align.distribute":_S,"move.to.page":yS,"flip.horizontal":xS,"flip.vertical":LS,move:SS,"to.front":RS,forward:IS,backward:MS,back:DS,language:kS,"translation.link":PS,"dock.position":$S,bottom:BS,left:HS,right:AS,top:TS,page:OS,"keyboard.shortcuts":FS,search:jS,loading:VS,"export.background":ZS,transparent:zS,auto:NS,light:WS,dark:US,github:KS,twitter:GS,discord:XS,image:YS,"align.left":qS,"align.center.x":JS,"align.right":QS,"align.top":eR,"align.center.y":tR,"align.bottom":rR,"distribute.x":oR,"distribute.y":nR,"stretch.x":iR,"stretch.y":aR,"dialog.save.firsttime":lR,"dialog.save.again":sR,"dialog.cancel":uR,"dialog.no":cR,"dialog.yes":dR,"enter.file.name":hR},pR="\u0930\u0902\u0917",gR="\u092D\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",mR="\u0927\u0930\u094D\u0915\u093E",CR="\u0906\u0915\u093E\u0930",vR="\u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D",ER="\u092B\u0928\u094D\u091F",wR="\u092A\u0919\u094D\u0915\u094D\u0924\u093F\u092C\u0926\u094D\u0927",bR="\u0936\u0948\u0932\u0940\u0939\u0930\u0942",_R="\u091C\u0941\u092E \u0907\u0928",yR="\u091C\u0941\u092E \u0906\u0909\u091F",xR="\u091F\u0941",LR="\u092B\u093E\u0907\u0932",SR="\u0938\u092E\u094D\u092A\u093E\u0926\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",RR="\u092D\u094D\u092F\u0942",IR="\u092A\u094D\u0930\u093E\u0925\u092E\u093F\u0915\u0924\u093E\u0939\u0930\u0942",MR="\u0938\u093E\u0907\u0928 \u0907\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",DR="\u0938\u093E\u0907\u0928 \u0906\u0909\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",kR="\u092A\u094D\u0930\u093E\u092F\u094B\u091C\u0915 \u092C\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D",PR="\u091C\u0941\u092E \u091F\u0941 \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928",$R="\u091C\u0941\u092E \u091F\u0941 \u092B\u093F\u091F",BR="\u091C\u0941\u092E \u091F\u0941",HR="\u0905\u0901\u0927\u094D\u092F\u093E\u0930\u094B \u092E\u094B\u0921",AR="\u092B\u094B\u0915\u0938 \u092E\u094B\u0921",TR="\u0921\u093F\u092C\u0917 \u092E\u094B\u0921",OR="\u0917\u094D\u0930\u093F\u0921 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",FR="CAD \u0938\u0947\u0932\u0947\u0915\u094D\u0938\u0928 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",jR="\u0938\u094D\u091F\u093E\u0907\u0932 \u092E\u0947\u0928\u0941 \u0916\u0941\u0932\u093E \u0930\u093E\u0916\u094D\u0928\u0941\u0939\u094B\u0938\u094D",VR="\u0938\u0927\u0948\u0901 \u0938\u094D\u0928\u094D\u092F\u093E\u092A\u0939\u0930\u0942 \u0926\u0947\u0916\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",ZR="\u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942 \u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",zR="\u092C\u093E\u0907\u0928\u094D\u0921\u093F\u0919 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942",NR="\u0915\u094D\u0932\u094B\u0928 \u0939\u094D\u092F\u093E\u0928\u094D\u0921\u0932\u0939\u0930\u0942",WR="\u092A\u0942\u0930\u094D\u0935\u0935\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",UR="\u092A\u0941\u0928\u0903 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",KR="\u0915\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",GR="\u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",XR="\u092A\u0947\u0938\u094D\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",YR="\u0915\u092A\u093F \u090F\u091C",qR="\u090F\u0915\u094D\u0938\u092A\u094B\u0930\u094D\u091F \u090F\u091C",JR="\u0938\u092C\u0948 \u091B\u093E\u0928\u094D\u0928\u0941\u0939\u094B\u0938\u094D",QR="\u0915\u0947\u0939\u093F \u092A\u0928\u093F \u0938\u0947\u0932\u0947\u0915\u094D\u091F \u0928\u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",eI="\u092E\u0947\u091F\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",tI="\u0928\u092F\u093E\u0901 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E",rI="\u0916\u094B\u0932\u094D\u0928\u0941\u0939\u094B\u0938\u094D",oI="\u0938\u0941\u0930\u0915\u094D\u0937\u093F\u0924 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",nI="\u0938\u0947\u092D \u090F\u091C",iI="\u092E\u093F\u0921\u093F\u092F\u093E \u0905\u092A\u0932\u094B\u0921 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",aI="\u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",lI="\u0928\u092F\u093E\u0901 \u092A\u0943\u0937\u094D\u0920 \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",sI="\u092A\u0943\u0937\u094D\u0920\u0915\u094B \u0928\u093E\u092E",uI="\u0905\u0928\u0941\u0932\u093F\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",cI="\u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",dI="\u0928\u093F\u092E\u0928\u094D\u0924\u094D\u0930\u0923\u093E \u0932\u093F\u0919\u094D\u0915 \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",hI="\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u0930\u093F\u092F\u094B\u091C\u0928\u093E \u0938\u093F\u0930\u094D\u091C\u0928\u093E \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",fI="\u092E\u0932\u094D\u091F\u093F\u092A\u094D\u0932\u0947\u092F\u0930 \u092A\u094D\u0930\u094B\u091C\u0947\u0915\u094D\u091F\u092E\u093E \u0915\u092A\u093F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",pI="\u0938\u0947\u0932\u0947\u0915\u094D\u091F",gI="\u0907\u0930\u0947\u091C\u0930",mI="\u091A\u093F\u0924\u094D\u0930 \u092C\u0928\u093E\u0909\u0928\u0941",CI="\u0924\u0940\u0930",vI="\u0936\u092C\u094D\u0926",EI="\u091F\u093E\u0901\u0938\u093F\u0928\u0947",wI="\u0906\u092F\u0924",bI="\u0926\u0940\u0930\u094D\u0918\u0935\u0943\u0924\u094D\u0924",_I="\u0924\u094D\u0930\u093F\u092D\u0941\u091C",yI="\u0930\u0947\u0916\u093E",xI="\u0918\u0941\u092E\u093E\u0909\u0928\u0941\u0939\u094B\u0938\u094D",LI="\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",SI="\u0906\u0915\u093E\u0930 \u0905\u0928\u0941\u092A\u093E\u0924 \u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",RI="\u0938\u092E\u0942\u0939",II="\u0938\u092E\u0942\u0939 \u0930\u0926\u094D\u0926 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",MI="\u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",DI="\u0925\u092A \u092A\u091B\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",kI="\u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",PI="\u0925\u092A \u0905\u0917\u093E\u0921\u093F \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",$I="\u0915\u094B\u0923 \u0930\u093F\u0938\u0947\u091F \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",BI="\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",HI="\u0905\u0928\u0932\u0915 \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",AI="\u092A\u0943\u0937\u094D\u0920\u092E\u093E \u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",TI="\u0924\u0947\u0930\u094D\u0938\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",OI="\u0920\u093E\u0921\u094B \u092B\u094D\u0932\u093F\u092A \u0917\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",FI="\u0938\u093E\u0930\u094D\u0928\u0941\u0939\u094B\u0938\u094D",jI="\u0925\u092A \u0905\u0917\u093E\u0921\u093F",VI="\u0905\u0917\u093E\u0921\u093F",ZI="\u092A\u091B\u093E\u0921\u093F",zI="\u0925\u092A \u092A\u091B\u093E\u0921\u093F",NI="\u092D\u093E\u0937\u093E",WI={"style.menu.color":pR,"style.menu.fill":gR,"style.menu.dash":mR,"style.menu.size":CR,"style.menu.keep.open":vR,"style.menu.font":ER,"style.menu.align":wR,styles:bR,"zoom.in":_R,"zoom.out":yR,to:xR,"menu.file":LR,"menu.edit":SR,"menu.view":RR,"menu.preferences":IR,"menu.sign.in":MR,"menu.sign.out":DR,"become.a.sponsor":kR,"zoom.to.selection":PR,"zoom.to.fit":$R,"zoom.to":BR,"preferences.dark.mode":HR,"preferences.focus.mode":AR,"preferences.debug.mode":TR,"preferences.show.grid":OR,"preferences.use.cad.selection":FR,"preferences.keep.stylemenu.open":jR,"preferences.always.show.snaps":VR,"preferences.rotate.handles":ZR,"preferences.binding.handles":zR,"preferences.clone.handles":NR,undo:WR,redo:UR,cut:KR,copy:GR,paste:XR,"copy.as":YR,"export.as":qR,"select.all":JR,"select.none":QR,delete:eI,"new.project":tI,open:rI,save:oI,"save.as":nI,"upload.media":iI,"create.page":aI,"new.page":lI,"page.name":sI,duplicate:uI,cancel:cI,"copy.invite.link":dI,"create.multiplayer.project":hI,"copy.multiplayer.project":fI,select:pI,eraser:gI,draw:mI,arrow:CI,text:vI,sticky:EI,rectangle:wI,ellipse:bI,triangle:_I,line:yI,rotate:xI,"lock.aspect.ratio":LI,"unlock.aspect.ratio":SI,group:RI,ungroup:II,"move.to.back":MI,"move.backward":DI,"move.forward":kI,"move.to.front":PI,"reset.angle":$I,lock:BI,unlock:HI,"move.to.page":AI,"flip.horizontal":TI,"flip.vertical":OI,move:FI,"to.front":jI,forward:VI,backward:ZI,back:zI,language:NI},UI="Farge",KI="Fyll",GI="Linje",XI="St\xF8rrelse",YI="Hold \xE5pen",qI="Teksttype",JI="Juster",QI="Stiler",eM="Zoom inn",tM="Zoom ut",rM="til",oM="Fil",nM="Rediger",iM="Vis",aM="Preferanser",lM="Logg inn",sM="Logg ut",uM="Bli en sponsor",cM="Zoom til valg",dM="Zoom for \xE5 passe",hM="Zoom til",fM="M\xF8rk modus",pM="Fokus modus",gM="Debug modus",mM="Vis rutenett",CM="Bruk CAD seleksjon",vM="Hold stilmeny \xE5pen",EM="Vis alltid snaps",wM="Vis roteringsh\xE5ndtak",bM="Vis bindingsh\xE5ndtak",_M="Vis kloningsh\xE5ndtak",yM="Angre",xM="Gj\xF8r om",LM="Klipp ut",SM="Kopier",RM="Lim inn",IM="Kopier som",MM="Eksporter som",DM="Velg alle",kM="Velg ingen",PM="Slett",$M="Nytt prosjekt",BM="\xC5pne",HM="Lagre",AM="Lagre som",TM="Last opp media",OM="Opprett side",FM="Ny side",jM="Sidenavn",VM="Dupliser",ZM="Avbryt",zM="Kopier invitasjonslink",NM="Opprett et flerspiller prosjekt",WM="Kopier til flerspiller prosjekt",UM="Velg",KM="Viskel\xE6r",GM="Tegn",XM="Pil",YM="Tekst",qM="Lapp",JM="Rektangel",QM="Ellipse",eD="Trekant",tD="Linje",rD="Roter",oD="L\xE5s st\xF8rrelsesforhold",nD="L\xE5s opp st\xF8rrelsesforhold",iD="Grupper",aD="Avgrupper",lD="Flytt bakerst",sD="Flytt bakover",uD="Flytt forover",cD="Flytt til front",dD="Tilbakestill vinkel",hD="L\xE5s",fD="L\xE5s opp",pD="Flytt til side",gD="Snu horisontalt",mD="Snu vertikalt",CD="Flytt",vD="Foran",ED="Framover",wD="Bakover",bD="Bakerst",_D="Spr\xE5k",yD={"style.menu.color":UI,"style.menu.fill":KI,"style.menu.dash":GI,"style.menu.size":XI,"style.menu.keep.open":YI,"style.menu.font":qI,"style.menu.align":JI,styles:QI,"zoom.in":eM,"zoom.out":tM,to:rM,"menu.file":oM,"menu.edit":nM,"menu.view":iM,"menu.preferences":aM,"menu.sign.in":lM,"menu.sign.out":sM,"become.a.sponsor":uM,"zoom.to.selection":cM,"zoom.to.fit":dM,"zoom.to":hM,"preferences.dark.mode":fM,"preferences.focus.mode":pM,"preferences.debug.mode":gM,"preferences.show.grid":mM,"preferences.use.cad.selection":CM,"preferences.keep.stylemenu.open":vM,"preferences.always.show.snaps":EM,"preferences.rotate.handles":wM,"preferences.binding.handles":bM,"preferences.clone.handles":_M,undo:yM,redo:xM,cut:LM,copy:SM,paste:RM,"copy.as":IM,"export.as":MM,"select.all":DM,"select.none":kM,delete:PM,"new.project":$M,open:BM,save:HM,"save.as":AM,"upload.media":TM,"create.page":OM,"new.page":FM,"page.name":jM,duplicate:VM,cancel:ZM,"copy.invite.link":zM,"create.multiplayer.project":NM,"copy.multiplayer.project":WM,select:UM,eraser:KM,draw:GM,arrow:XM,text:YM,sticky:qM,rectangle:JM,ellipse:QM,triangle:eD,line:tD,rotate:rD,"lock.aspect.ratio":oD,"unlock.aspect.ratio":nD,group:iD,ungroup:aD,"move.to.back":lD,"move.backward":sD,"move.forward":uD,"move.to.front":cD,"reset.angle":dD,lock:hD,unlock:fD,"move.to.page":pD,"flip.horizontal":gD,"flip.vertical":mD,move:CD,"to.front":vD,forward:ED,backward:wD,back:bD,language:_D},xD="Kolor",LD="Wype\u0142nienie",SD="Linia",RD="Rozmiar",ID="Zachowaj otwarte",MD="Czcionka",DD="Wyr\xF3wnanie",kD="Style",PD="Przybli\u017C",$D="Oddal",BD="do",HD="Plik",AD="Edycja",TD="Widok",OD="Preferencje",FD="Zaloguj",jD="Wyloguj",VD="Zosta\u0144 sponsorem",ZD="Przybli\u017C do zaznaczenia",zD="Wype\u0142nij ekran",ND="Przybli\u017C do",WD="Tryb ciemny",UD="Tryb skupienia",KD="Tryb debugowania",GD="Poka\u017C siatk\u0119",XD="U\u017Cyj zaznaczania CAD",YD="Zachowaj menu styli otwarte",qD="Przyci\u0105gaj obiekty",JD="Uchwyty obrotu",QD="Uchwyty powi\u0105zania",ek="Uchwyty klonuj\u0105ce",tk="Cofnij",rk="Powt\xF3rz",ok="Wytnij",nk="Kopiuj",ik="Wklej",ak="Kopiuj jako",lk="Eksportuj jako",sk="Zaznacz wszystko",uk="Odznacz wszystko",ck="Usu\u0144",dk="Nowy projekt",hk="Otw\xF3rz",fk="Zapisz",pk="Zapisz jako",gk="Za\u0142aduj multimedia",mk="Utw\xF3rz stron\u0119",Ck="Nowa strona",vk="Nazwa strony",Ek="Powiel",wk="Anuluj",bk="Kopiuj link zaproszenia",_k="Stw\xF3rz projekt wieloosobowy",yk="Kopiuj do projektu wieloosobowego",xk="Zaznacz",Lk="Gumka",Sk="Rysuj",Rk="Strza\u0142ka",Ik="Tekst",Mk="Naklejka",Dk="Prostok\u0105t",kk="Elipsa",Pk="Tr\xF3jk\u0105t",$k="Linia",Bk="Obr\xF3\u0107",Hk="Zablokuj proporcje",Ak="Odblokuj proporcje",Tk="Grupuj",Ok="Rozgrupuj",Fk="Przenie\u015B na ty\u0142",jk="Przesu\u0144 do ty\u0142u",Vk="Przesu\u0144 do przodu",Zk="Przenie\u015B na prz\xF3d",zk="Resetuj k\u0105t",Nk="Zablokuj",Wk="Odblokuj",Uk="Przenie\u015B na stron\u0119",Kk="Odwr\xF3\u0107 w poziomie",Gk="Odwr\xF3\u0107 w pionie",Xk="Przenie\u015B",Yk="Na wierzch",qk="Do przodu",Jk="Do ty\u0142u",Qk="Na sp\xF3d",eP="J\u0119zyk",tP={"style.menu.color":xD,"style.menu.fill":LD,"style.menu.dash":SD,"style.menu.size":RD,"style.menu.keep.open":ID,"style.menu.font":MD,"style.menu.align":DD,styles:kD,"zoom.in":PD,"zoom.out":$D,to:BD,"menu.file":HD,"menu.edit":AD,"menu.view":TD,"menu.preferences":OD,"menu.sign.in":FD,"menu.sign.out":jD,"become.a.sponsor":VD,"zoom.to.selection":ZD,"zoom.to.fit":zD,"zoom.to":ND,"preferences.dark.mode":WD,"preferences.focus.mode":UD,"preferences.debug.mode":KD,"preferences.show.grid":GD,"preferences.use.cad.selection":XD,"preferences.keep.stylemenu.open":YD,"preferences.always.show.snaps":qD,"preferences.rotate.handles":JD,"preferences.binding.handles":QD,"preferences.clone.handles":ek,undo:tk,redo:rk,cut:ok,copy:nk,paste:ik,"copy.as":ak,"export.as":lk,"select.all":sk,"select.none":uk,delete:ck,"new.project":dk,open:hk,save:fk,"save.as":pk,"upload.media":gk,"create.page":mk,"new.page":Ck,"page.name":vk,duplicate:Ek,cancel:wk,"copy.invite.link":bk,"create.multiplayer.project":_k,"copy.multiplayer.project":yk,select:xk,eraser:Lk,draw:Sk,arrow:Rk,text:Ik,sticky:Mk,rectangle:Dk,ellipse:kk,triangle:Pk,line:$k,rotate:Bk,"lock.aspect.ratio":Hk,"unlock.aspect.ratio":Ak,group:Tk,ungroup:Ok,"move.to.back":Fk,"move.backward":jk,"move.forward":Vk,"move.to.front":Zk,"reset.angle":zk,lock:Nk,unlock:Wk,"move.to.page":Uk,"flip.horizontal":Kk,"flip.vertical":Gk,move:Xk,"to.front":Yk,forward:qk,backward:Jk,back:Qk,language:eP},rP="Cor",oP="Preencher",nP="Tra\xE7o",iP="Tamanho",aP="Manter aberto",lP="Fonte",sP="Alinhamento",uP="Estilos",cP="Aumentar zoom",dP="Diminuir zoom",hP="para",fP="Arquivo",pP="Editar",gP="Visualizar",mP="Prefer\xEAncias",CP="Entrar",vP="Sair",EP="Torne-se um patrocinador",wP="Zoom para a sele\xE7\xE3o",bP="Zoom para ajuste",_P="Zoom para",yP="Modo Escuro",xP="Modo Foco",LP="Modo Debug",SP="Mostrar Grade",RP="Usar sele\xE7\xE3o CAD",IP="Manter Menu de Estilos Aberto",MP="Mostrar Pontos de Ajuste",DP="Controle de Rota\xE7\xE3o",kP="Controle de V\xEDnculos",PP="Controle de Clone",$P="Desfazer",BP="Refazer",HP="Cortar",AP="Copiar",TP="Colar",OP="Copiar como",FP="Exportar como",jP="Selecionar todos",VP="Selecionar nenhum",ZP="Deletar",zP="Novo Projeto",NP="Abrir",WP="Salvar",UP="Salvar Como",KP="Carregar M\xEDdia",GP="Criar P\xE1gina",XP="Nova P\xE1gina",YP="Nome da P\xE1gina",qP="Duplicar",JP="Cancelar",QP="Copiar Link de Convite",e$="Criar um Projeto Multijogador",t$="Copiar para Projeto Multijogador",r$="Selecionar",o$="Borracha",n$="Desenhar",i$="Seta",a$="Texto",l$="Adesivo",s$="Ret\xE2ngulo",u$="Elipse",c$="Tri\xE2ngulo",d$="Linha",h$="Rotacionar",f$="Travar Propor\xE7\xE3o da Tela",p$="Destravar Propor\xE7\xE3o da Tela",g$="Agrupar",m$="Desagrupar",C$="Recuar",v$="Enviar para Tr\xE1s",E$="Avan\xE7ar",w$="Trazer para Frente",b$="Reiniciar \xC2ngulo",_$="Travar",y$="Destravar",x$="Mover para P\xE1gina",L$="Virar Horizontalmente",S$="Virar Verticalmente",R$="Mover",I$="Para Frente",M$="Avan\xE7ar",D$="Recuar",k$="Voltar",P$="Idioma",$$={"style.menu.color":rP,"style.menu.fill":oP,"style.menu.dash":nP,"style.menu.size":iP,"style.menu.keep.open":aP,"style.menu.font":lP,"style.menu.align":sP,styles:uP,"zoom.in":cP,"zoom.out":dP,to:hP,"menu.file":fP,"menu.edit":pP,"menu.view":gP,"menu.preferences":mP,"menu.sign.in":CP,"menu.sign.out":vP,"become.a.sponsor":EP,"zoom.to.selection":wP,"zoom.to.fit":bP,"zoom.to":_P,"preferences.dark.mode":yP,"preferences.focus.mode":xP,"preferences.debug.mode":LP,"preferences.show.grid":SP,"preferences.use.cad.selection":RP,"preferences.keep.stylemenu.open":IP,"preferences.always.show.snaps":MP,"preferences.rotate.handles":DP,"preferences.binding.handles":kP,"preferences.clone.handles":PP,undo:$P,redo:BP,cut:HP,copy:AP,paste:TP,"copy.as":OP,"export.as":FP,"select.all":jP,"select.none":VP,delete:ZP,"new.project":zP,open:NP,save:WP,"save.as":UP,"upload.media":KP,"create.page":GP,"new.page":XP,"page.name":YP,duplicate:qP,cancel:JP,"copy.invite.link":QP,"create.multiplayer.project":e$,"copy.multiplayer.project":t$,select:r$,eraser:o$,draw:n$,arrow:i$,text:a$,sticky:l$,rectangle:s$,ellipse:u$,triangle:c$,line:d$,rotate:h$,"lock.aspect.ratio":f$,"unlock.aspect.ratio":p$,group:g$,ungroup:m$,"move.to.back":C$,"move.backward":v$,"move.forward":E$,"move.to.front":w$,"reset.angle":b$,lock:_$,unlock:y$,"move.to.page":x$,"flip.horizontal":L$,"flip.vertical":S$,move:R$,"to.front":I$,forward:M$,backward:D$,back:k$,language:P$},B$="Cor",H$="Preencher",A$="Tra\xE7o",T$="Tamanho",O$="Manter aberto",F$="Fonte",j$="Alinhamento",V$="Estilos",Z$="Aumentar zoom",z$="Diminuir zoom",N$="para",W$="Ficheiro",U$="Editar",K$="Visualizar",G$="Prefer\xEAncias",X$="Entrar",Y$="Sair",q$="Torne-se um patrocinador",J$="Zoom na sele\xE7\xE3o",Q$="Zoom para caber",eB="Zoom para",tB="Modo Escuro",rB="Modo Foco",oB="Modo Debug",nB="Mostrar Grelha",iB="Usar sele\xE7\xE3o CAD",aB="Manter Menu de Estilos Aberto",lB="Mostrar Pontos de Ajuste",sB="Controlo de Rota\xE7\xE3o",uB="Controlo de Binds",cB="Controlo de Clone",dB="Desfazer",hB="Refazer",fB="Cortar",pB="Copiar",gB="Colar",mB="Copiar como",CB="Exportar como",vB="Selecionar todos",EB="Selecionar nenhum",wB="Apagar",bB="Novo Projeto",_B="Abrir",yB="Salvar",xB="Salvar Como",LB="Upload M\xE9dia",SB="Criar P\xE1gina",RB="Nova P\xE1gina",IB="Nome da P\xE1gina",MB="Duplicar",DB="Cancelar",kB="Copiar Link de Convite",PB="Criar um Projeto Multi-Utilizador",$B="Copiar num Projeto Multi-Utilizador",BB="Selecionar",HB="Borracha",AB="Desenhar",TB="Seta",OB="Texto",FB="Post-it",jB="Ret\xE2ngulo",VB="Elipse",ZB="Tri\xE2ngulo",zB="Linha",NB="Rodar",WB="Trancar a Propor\xE7\xE3o",UB="Destrancar a Propor\xE7\xE3o",KB="Agrupar",GB="Desagrupar",XB="Colocar no Fundo",YB="Mover abaixo",qB="Mover acima",JB="Colocar \xE0 Frente",QB="Reiniciar \xC2ngulo",eH="Trancar",tH="Destrancar",rH="Mover para P\xE1gina",oH="Inverter Horizontalmente",nH="Inverter Verticalmente",iH="Mover",aH="Para Frente",lH="Avan\xE7ar",sH="Recuar",uH="Voltar",cH="L\xEDngua",dH={"style.menu.color":B$,"style.menu.fill":H$,"style.menu.dash":A$,"style.menu.size":T$,"style.menu.keep.open":O$,"style.menu.font":F$,"style.menu.align":j$,styles:V$,"zoom.in":Z$,"zoom.out":z$,to:N$,"menu.file":W$,"menu.edit":U$,"menu.view":K$,"menu.preferences":G$,"menu.sign.in":X$,"menu.sign.out":Y$,"become.a.sponsor":q$,"zoom.to.selection":J$,"zoom.to.fit":Q$,"zoom.to":eB,"preferences.dark.mode":tB,"preferences.focus.mode":rB,"preferences.debug.mode":oB,"preferences.show.grid":nB,"preferences.use.cad.selection":iB,"preferences.keep.stylemenu.open":aB,"preferences.always.show.snaps":lB,"preferences.rotate.handles":sB,"preferences.binding.handles":uB,"preferences.clone.handles":cB,undo:dB,redo:hB,cut:fB,copy:pB,paste:gB,"copy.as":mB,"export.as":CB,"select.all":vB,"select.none":EB,delete:wB,"new.project":bB,open:_B,save:yB,"save.as":xB,"upload.media":LB,"create.page":SB,"new.page":RB,"page.name":IB,duplicate:MB,cancel:DB,"copy.invite.link":kB,"create.multiplayer.project":PB,"copy.multiplayer.project":$B,select:BB,eraser:HB,draw:AB,arrow:TB,text:OB,sticky:FB,rectangle:jB,ellipse:VB,triangle:ZB,line:zB,rotate:NB,"lock.aspect.ratio":WB,"unlock.aspect.ratio":UB,group:KB,ungroup:GB,"move.to.back":XB,"move.backward":YB,"move.forward":qB,"move.to.front":JB,"reset.angle":QB,lock:eH,unlock:tH,"move.to.page":rH,"flip.horizontal":oH,"flip.vertical":nH,move:iH,"to.front":aH,forward:lH,backward:sH,back:uH,language:cH},hH="\u0426\u0432\u0435\u0442",fH="\u0417\u0430\u043F\u043E\u043B\u043D\u044F\u0442\u044C",pH="\u0428\u0442\u0440\u0438\u0445",gH="\u0420\u0430\u0437\u043C\u0435\u0440",mH="\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C",CH="\u0428\u0440\u0438\u0444\u0442",vH="\u0412\u044B\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u043D\u0438\u0435",EH="\u0421\u0442\u0438\u043B\u044C",wH="\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C",bH="\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C",_H="\u043A",yH="\u0418\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B",xH="\u0418\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0435",LH="\u0424\u0430\u0439\u043B",SH="\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",RH="\u0412\u0438\u0434",IH="\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",MH="\u0412\u043E\u0439\u0442\u0438",DH="\u0412\u044B\u0439\u0442\u0438",kH="\u0421\u0442\u0430\u0442\u044C \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C",PH="\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u0441\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u043C\u0443",$H="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u044E",BH="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u043E \u0440\u0430\u0437\u043C\u0435\u0440\u0443 \u044D\u043A\u0440\u0430\u043D\u0430",HH="\u041C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A",AH="\u0422\u0451\u043C\u043D\u0430\u044F \u0442\u0435\u043C\u0430",TH="\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u0438\u0441\u0442\u0438\u0447\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C",OH="\u0420\u0435\u0436\u0438\u043C \u043E\u0442\u043B\u0430\u0434\u043A\u0438",FH="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0441\u0435\u0442\u043A\u0443",jH="\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C CAD \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",VH="\u0414\u0435\u0440\u0436\u0430\u0442\u044C \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0435\u0439 \u043E\u0442\u043A\u0440\u044B\u0442\u044B\u043C",ZH="\u0412\u0441\u0435\u0433\u0434\u0430 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438",zH="\u0420\u0443\u0447\u043A\u0438 \u0432\u0440\u0430\u0449\u0435\u043D\u0438\u044F",NH="\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432\u044F\u0437\u043A\u0438",WH="\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",UH="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",KH="\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C",GH="\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C",XH="\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",YH="\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044C",qH="\u041A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A",JH="\u042D\u043A\u0441\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u043A",QH="\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0441\u0451",eA="\u0421\u043D\u044F\u0442\u044C \u0432\u044B\u0434\u0435\u043B\u0435\u043D\u0438\u0435",tA="\u0423\u0434\u0430\u043B\u0438\u0442\u044C",rA="\u041D\u043E\u0432\u044B\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",oA="\u041E\u0442\u043A\u0440\u044B\u0442\u044C",nA="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",iA="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043A\u0430\u043A",aA="\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043C\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043B",lA="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",sA="\u041D\u043E\u0432\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",uA="\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",cA="\u0414\u0443\u0431\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C",dA="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",hA="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D\u0438\u044F",fA="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u0447\u0442\u0435\u043D\u0438\u044F",pA="\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",gA="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0432 \u043C\u043D\u043E\u0433\u043E\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",mA="\u0412\u044B\u0434\u0435\u043B\u0438\u0442\u044C",CA="\u041B\u0430\u0441\u0442\u0438\u043A",vA="\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C",EA="\u0421\u0442\u0440\u0435\u043B\u043A\u0430",wA="\u0422\u0435\u043A\u0441\u0442",bA="\u0417\u0430\u043C\u0435\u0442\u043A\u0430",_A="\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",yA="\u042D\u043B\u043B\u0438\u043F\u0441",xA="\u0422\u0440\u0435\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",LA="\u041B\u0438\u043D\u0438\u044F",SA="\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u044C",RA="\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D",IA="\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0442\u043D\u043E\u0448\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u0440\u043E\u043D",MA="\u0421\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",DA="\u0420\u0430\u0437\u0433\u0440\u0443\u043F\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C",kA="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430\u0437\u0430\u0434",PA="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",$A="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u0432\u043F\u0435\u0440\u0451\u0434",BA="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",HA="\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0443\u0433\u043E\u043B",AA="\u0411\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",TA="\u0420\u0430\u0437\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u0442\u044C",OA="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C / \u0440\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C",FA="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",jA="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",VA="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",ZA="\u041F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C",zA="\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",NA="\u0412\u043F\u0435\u0440\u0435\u0434",WA="\u041D\u0430 \u0437\u0430\u0434\u043D\u0438\u0439 \u043F\u043B\u0430\u043D",UA="\u041D\u0430\u0437\u0430\u0434",KA="\u042F\u0437\u044B\u043A",GA="\u041F\u043E\u0434\u0440\u043E\u0431\u043D\u0435\u0435",XA="\u0420\u0430\u0441\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043F\u0430\u043D\u0435\u043B\u0438 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u043E\u0432",YA="\u0421\u043D\u0438\u0437\u0443",qA="\u0421\u043B\u0435\u0432\u0430",JA="\u0421\u043F\u0440\u0430\u0432\u0430",QA="\u0421\u0432\u0435\u0440\u0445\u0443",eT="\u0421\u0442\u0440\u0430\u043D\u0438\u0446\u0430",tT="\u0421\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u044F \u043A\u043B\u0430\u0432\u0438\u0448",rT="\u041F\u043E\u0438\u0441\u043A",oT="\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430",nT="\u042D\u043A\u0441\u043F\u043E\u0440\u0442 \u0444\u043E\u043D\u0430",iT="\u041F\u0440\u043E\u0437\u0440\u0430\u0447\u043D\u044B\u0439",aT="\u0410\u0432\u0442\u043E",lT="\u0421\u0432\u0435\u0442\u043B\u044B\u0439",sT="\u0422\u0451\u043C\u043D\u044B\u0439",uT="\u0418\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435",cT="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043B\u0435\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E",dT="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",hT="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043F\u0440\u0430\u0432\u043E\u043C\u0443 \u043A\u0440\u0430\u044E",fT="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0432\u0435\u0440\u0445\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E",pT="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u0446\u0435\u043D\u0442\u0440\u0443 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",gT="\u0412\u044B\u0440\u043E\u0432\u043D\u044F\u0442\u044C \u043F\u043E \u043D\u0438\u0436\u043D\u0435\u043C\u0443 \u043A\u0440\u0430\u044E",mT="\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",CT="\u0420\u0430\u0441\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",vT="\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",ET="\u0420\u0430\u0441\u0442\u044F\u043D\u0443\u0442\u044C \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",wT="\u041F\u043E\u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F",bT="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443",_T="\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0441\u044B\u043B\u043A\u0443 \u043D\u0430 \u043F\u0440\u043E\u0435\u043A\u0442",yT="\u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u043B\u0438\u0448\u043A\u043E\u043C \u0432\u0435\u043B\u0438\u043A\u0438, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0438\u0445 \u0432 \u0441\u0441\u044B\u043B\u043A\u0435. \u041D\u0435 \u0432\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u0432\u0438\u0434\u0435\u043E!",xT="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442?",LT="\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0432 \u0442\u0435\u043A\u0443\u0449\u0435\u043C \u043F\u0440\u043E\u0435\u043A\u0442\u0435?",ST="\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",RT="\u041D\u0435\u0442",IT="\u0414\u0430",MT="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u0444\u0430\u0439\u043B\u0430",DT={"style.menu.color":hH,"style.menu.fill":fH,"style.menu.dash":pH,"style.menu.size":gH,"style.menu.keep.open":mH,"style.menu.font":CH,"style.menu.align":vH,styles:EH,"zoom.in":wH,"zoom.out":bH,to:_H,"menu.tools":yH,"menu.transform":xH,"menu.file":LH,"menu.edit":SH,"menu.view":RH,"menu.preferences":IH,"menu.sign.in":MH,"menu.sign.out":DH,"become.a.sponsor":kH,"zoom.to.content":PH,"zoom.to.selection":$H,"zoom.to.fit":BH,"zoom.to":HH,"preferences.dark.mode":AH,"preferences.focus.mode":TH,"preferences.debug.mode":OH,"preferences.show.grid":FH,"preferences.use.cad.selection":jH,"preferences.keep.stylemenu.open":VH,"preferences.always.show.snaps":ZH,"preferences.rotate.handles":zH,"preferences.binding.handles":NH,"preferences.clone.handles":WH,undo:UH,redo:KH,cut:GH,copy:XH,paste:YH,"copy.as":qH,"export.as":JH,"select.all":QH,"select.none":eA,delete:tA,"new.project":rA,open:oA,save:nA,"save.as":iA,"upload.media":aA,"create.page":lA,"new.page":sA,"page.name":uA,duplicate:cA,cancel:dA,"copy.invite.link":hA,"copy.readonly.link":fA,"create.multiplayer.project":pA,"copy.multiplayer.project":gA,select:mA,eraser:CA,draw:vA,arrow:EA,text:wA,sticky:bA,rectangle:_A,ellipse:yA,triangle:xA,line:LA,rotate:SA,"lock.aspect.ratio":RA,"unlock.aspect.ratio":IA,group:MA,ungroup:DA,"move.to.back":kA,"move.backward":PA,"move.forward":$A,"move.to.front":BA,"reset.angle":HA,lock:AA,unlock:TA,"align.distribute":OA,"move.to.page":FA,"flip.horizontal":jA,"flip.vertical":VA,move:ZA,"to.front":zA,forward:NA,backward:WA,back:UA,language:KA,"translation.link":GA,"dock.position":XA,bottom:YA,left:qA,right:JA,top:QA,page:eT,"keyboard.shortcuts":tT,search:rT,loading:oT,"export.background":nT,transparent:iT,auto:aT,light:lT,dark:sT,image:uT,"align.left":cT,"align.center.x":dT,"align.right":hT,"align.top":fT,"align.center.y":pT,"align.bottom":gT,"distribute.x":mT,"distribute.y":CT,"stretch.x":vT,"stretch.y":ET,share:wT,"copy.current.page.link":bT,"copy.project.link":_T,"data.too.big.encoded":yT,"dialog.save.firsttime":xT,"dialog.save.again":LT,"dialog.cancel":ST,"dialog.no":RT,"dialog.yes":IT,"enter.file.name":MT},kT="F\xE4rg",PT="Ifylld",$T="Streck",BT="Storlek",HT="H\xE5ll stilmenyn \xF6ppen",AT="Typsnitt",TT="Justera",OT="Utseende",FT="Zooma in",jT="Zooma ut",VT="Till",ZT="Verktyg",zT="Transform",NT="Arkiv",WT="Redigera",UT="Inneh\xE5ll",KT="Inst\xE4llningar",GT="Logga in",XT="Logga ut",YT="Bli en sponsor",qT="Anpassa zoom till inneh\xE5ll",JT="Anpassa zoom till urval",QT="Anpassa zoom till sk\xE4rm",eO="Zooma till",tO="M\xF6rkt l\xE4ge",rO="Fokusl\xE4ge",oO="Debugl\xE4ge",nO="Visa rutn\xE4t",iO="V\xE4lj som i CAD-mjukvara",aO="H\xE5ll stilmenyn \xF6ppen",lO="Visa alltid f\xE4stpunkter",sO="Rotationshandtag",uO="Bindningshandtag",cO="Kloningshandtag",dO="\xC5ngra",hO="G\xF6r om",fO="Klipp ut",pO="Kopiera",gO="Klistra in",mO="Kopiera som",CO="Exportera till",vO="V\xE4lj alla",EO="V\xE4lj ingen",wO="Radera",bO="Nytt projekt",_O="\xD6ppna",yO="Spara",xO="Spara som",LO="Ladda upp media",SO="Skapa sida",RO="Ny sida",IO="Sidnamn",MO="Duplicera",DO="Avbryt",kO="Kopiera l\xE4nk med redigeringsr\xE4ttigheter",PO="Kopiera l\xE4nk med l\xE4sr\xE4ttigheter",$O="Skapa ett Multiplayer-projekt",BO="Kopiera till Multiplayer-project",HO="V\xE4lj",AO="Radera",TO="Rita",OO="Pil",FO="Text",jO="Klisterlapp",VO="Rektangel",ZO="Ellips",zO="Triangel",NO="Linje",WO="Rotera",UO="L\xE5s storleksf\xF6rh\xE5llande",KO="L\xE5s upp storleksf\xF6rh\xE5llande",GO="Gruppera",XO="Avgruppera",YO="Placera l\xE4ngst bak",qO="Flytta bak\xE5t",JO="Flytta fram\xE5t",QO="Placera l\xE4ngst fram",eF="\xC5terst\xE4ll vinkel",tF="L\xE5s",rF="L\xE5s upp",oF="Justera / Placera",nF="Flytta till sida",iF="V\xE4nd horisontellt",aF="V\xE4nd vertikalt",lF="Flytta",sF="Till l\xE4ngst fram",uF="Fram\xE5t",cF="Bak\xE5t",dF="Till l\xE4ngst bak",hF="Spr\xE5k",fF="Mer information",pF="Dockningsposition",gF="Botten",mF="V\xE4nster",CF="H\xF6ger",vF="Topp",EF="Sida",wF="Tangentbordsgenv\xE4gar",bF="S\xF6k",_F="Laddar{dots}",yF="Exportbakgrund",xF="Transparent",LF="Auto",SF="Ljus",RF="M\xF6rk",IF="Github",MF="Twitter",DF="Discord",kF="Bild",PF={"style.menu.color":kT,"style.menu.fill":PT,"style.menu.dash":$T,"style.menu.size":BT,"style.menu.keep.open":HT,"style.menu.font":AT,"style.menu.align":TT,styles:OT,"zoom.in":FT,"zoom.out":jT,to:VT,"menu.tools":ZT,"menu.transform":zT,"menu.file":NT,"menu.edit":WT,"menu.view":UT,"menu.preferences":KT,"menu.sign.in":GT,"menu.sign.out":XT,"become.a.sponsor":YT,"zoom.to.content":qT,"zoom.to.selection":JT,"zoom.to.fit":QT,"zoom.to":eO,"preferences.dark.mode":tO,"preferences.focus.mode":rO,"preferences.debug.mode":oO,"preferences.show.grid":nO,"preferences.use.cad.selection":iO,"preferences.keep.stylemenu.open":aO,"preferences.always.show.snaps":lO,"preferences.rotate.handles":sO,"preferences.binding.handles":uO,"preferences.clone.handles":cO,undo:dO,redo:hO,cut:fO,copy:pO,paste:gO,"copy.as":mO,"export.as":CO,"select.all":vO,"select.none":EO,delete:wO,"new.project":bO,open:_O,save:yO,"save.as":xO,"upload.media":LO,"create.page":SO,"new.page":RO,"page.name":IO,duplicate:MO,cancel:DO,"copy.invite.link":kO,"copy.readonly.link":PO,"create.multiplayer.project":$O,"copy.multiplayer.project":BO,select:HO,eraser:AO,draw:TO,arrow:OO,text:FO,sticky:jO,rectangle:VO,ellipse:ZO,triangle:zO,line:NO,rotate:WO,"lock.aspect.ratio":UO,"unlock.aspect.ratio":KO,group:GO,ungroup:XO,"move.to.back":YO,"move.backward":qO,"move.forward":JO,"move.to.front":QO,"reset.angle":eF,lock:tF,unlock:rF,"align.distribute":oF,"move.to.page":nF,"flip.horizontal":iF,"flip.vertical":aF,move:lF,"to.front":sF,forward:uF,backward:cF,back:dF,language:hF,"translation.link":fF,"dock.position":pF,bottom:gF,left:mF,right:CF,top:vF,page:EF,"keyboard.shortcuts":wF,search:bF,loading:_F,"export.background":yF,transparent:xF,auto:LF,light:SF,dark:RF,github:IF,twitter:MF,discord:DF,image:kF},$F="Renk",BF="Doldur",HF="\xC7izgi",AF="Boyut",TF="A\xE7\u0131k Tut",OF="Yaz\u0131 Tipi",FF="Hizala",jF="Stiller",VF="Yak\u0131nla\u015Ft\u0131r",ZF="Uzakla\u015Ft\u0131r",zF="",NF="Dosya",WF="D\xFCzenle",UF="G\xF6r\xFCnt\xFC",KF="Tercihler",GF="Giri\u015F Yap",XF="Oturumu Kapat",YF="Sponsor Ol",qF="Se\xE7ime Yak\u0131nla\u015Ft\u0131r",JF="S\u0131\u011Fd\u0131rmak i\xE7in Yak\u0131nla\u015Ft\u0131r",QF="Yak\u0131nla\u015Ft\u0131r",ej="Karanl\u0131k Mod",tj="Odak Modu",rj="Debug Modu",oj="Izgaray\u0131 G\xF6ster",nj="CAD Se\xE7imi Kullan",ij="Stil Men\xFCs\xFCn\xFC A\xE7\u0131k Tut",aj="Hiza \xC7izgilerini Hep G\xF6ster",lj="Rotasyon Kontrolc\xFCleri",sj="Ba\u011Flama Kontrolc\xFCleri",uj="Klon Kontrolc\xFCleri",cj="Geri Al",dj="Yinele",hj="Kes",fj="Kopyala",pj="Yap\u0131\u015Ft\u0131r",gj="Olarak Kopyala",mj="Olarak D\u0131\u015Far\u0131 Aktar",Cj="Hepsini Se\xE7",vj="Hi\xE7birini Se\xE7me",Ej="Sil",wj="Yeni Proje",bj="A\xE7",_j="Kaydet",yj="Farkl\u0131 Kaydet",xj="Medya Y\xFCkle",Lj="Sayfa Olu\u015Ftur",Sj="Yeni Sayfa",Rj="Sayfa \u0130smi",Ij="Kopya Olu\u015Ftur",Mj="\u0130ptal",Dj="Davet Linkini Kopyala",kj="\xC7ok Oyunculu Proje Olu\u015Ftur",Pj="\xC7ok Oyunculu Projeye Kopyala",$j="Se\xE7",Bj="Silgi",Hj="\xC7izim",Aj="Ok",Tj="Yaz\u0131",Oj="Yap\u0131\u015Fkan",Fj="Dikd\xF6rtgen",jj="Elips",Vj="\xDC\xE7gen",Zj="\xC7izgi",zj="D\xF6nd\xFCr",Nj="En Boy Oran\u0131n\u0131 Kilitle",Wj="En Boy Oran\u0131 Kilidini A\xE7",Uj="Grupla",Kj="Gruplamay\u0131 Kald\u0131r",Gj="Arkaya Ta\u015F\u0131",Xj="En Arkaya Ta\u015F\u0131",Yj="En \xD6ne Ta\u015F\u0131",qj="\xD6ne Ta\u015F\u0131",Jj="A\xE7\u0131y\u0131 S\u0131f\u0131rla",Qj="Kilitle",eV="Kilidini A\xE7",tV="Sayfaya Ta\u015F\u0131",rV="Yatay \xC7evir",oV="Dikey \xC7evir",nV="Ta\u015F\u0131",iV="\xD6ne",aV="En \xD6ne",lV="En Arkaya",sV="Arkaya",uV="Dil",cV={"style.menu.color":$F,"style.menu.fill":BF,"style.menu.dash":HF,"style.menu.size":AF,"style.menu.keep.open":TF,"style.menu.font":OF,"style.menu.align":FF,styles:jF,"zoom.in":VF,"zoom.out":ZF,to:zF,"menu.file":NF,"menu.edit":WF,"menu.view":UF,"menu.preferences":KF,"menu.sign.in":GF,"menu.sign.out":XF,"become.a.sponsor":YF,"zoom.to.selection":qF,"zoom.to.fit":JF,"zoom.to":QF,"preferences.dark.mode":ej,"preferences.focus.mode":tj,"preferences.debug.mode":rj,"preferences.show.grid":oj,"preferences.use.cad.selection":nj,"preferences.keep.stylemenu.open":ij,"preferences.always.show.snaps":aj,"preferences.rotate.handles":lj,"preferences.binding.handles":sj,"preferences.clone.handles":uj,undo:cj,redo:dj,cut:hj,copy:fj,paste:pj,"copy.as":gj,"export.as":mj,"select.all":Cj,"select.none":vj,delete:Ej,"new.project":wj,open:bj,save:_j,"save.as":yj,"upload.media":xj,"create.page":Lj,"new.page":Sj,"page.name":Rj,duplicate:Ij,cancel:Mj,"copy.invite.link":Dj,"create.multiplayer.project":kj,"copy.multiplayer.project":Pj,select:$j,eraser:Bj,draw:Hj,arrow:Aj,text:Tj,sticky:Oj,rectangle:Fj,ellipse:jj,triangle:Vj,line:Zj,rotate:zj,"lock.aspect.ratio":Nj,"unlock.aspect.ratio":Wj,group:Uj,ungroup:Kj,"move.to.back":Gj,"move.backward":Xj,"move.forward":Yj,"move.to.front":qj,"reset.angle":Jj,lock:Qj,unlock:eV,"move.to.page":tV,"flip.horizontal":rV,"flip.vertical":oV,move:nV,"to.front":iV,forward:aV,backward:lV,back:sV,language:uV},dV="\u041A\u043E\u043B\u0456\u0440",hV="\u0417\u0430\u043F\u043E\u0432\u043D\u044E\u0432\u0430\u0442\u0438",fV="\u0428\u0442\u0440\u0438\u0445",pV="\u0420\u043E\u0437\u043C\u0456\u0440",gV="\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C",mV="\u0428\u0440\u0438\u0444\u0442",CV="\u0412\u0438\u0440\u0456\u0432\u043D\u044F\u0442\u0438",vV="\u0421\u0442\u0438\u043B\u044C",EV="\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438",wV="\u0417\u043C\u0435\u043D\u0448\u0438\u0442\u0438",bV="\u0434\u043E",_V="\u0424\u0430\u0439\u043B",yV="\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F",xV="\u0412\u0438\u0433\u043B\u044F\u0434",LV="\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F",SV="\u0423\u0432\u0456\u0439\u0442\u0438",RV="\u0412\u0438\u0439\u0442\u0438",IV="\u0421\u0442\u0430\u0442\u0438 \u0441\u043F\u043E\u043D\u0441\u043E\u0440\u043E\u043C",MV="\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",DV="\u0417\u0431\u0456\u043B\u044C\u0448\u0438\u0442\u0438 \u0437\u0430 \u0440\u043E\u0437\u043C\u0456\u0440\u043E\u043C \u0435\u043A\u0440\u0430\u043D\u0443",kV="\u041D\u0430\u0431\u043B\u0438\u0437\u0438\u0442\u0438 \u0434\u043E",PV="\u0422\u0435\u043C\u043D\u0430 \u0442\u0435\u043C\u0430",$V="\u041C\u0456\u043D\u0456\u043C\u0430\u043B\u0456\u0441\u0442\u0438\u0447\u043D\u0438\u0439 \u0440\u0435\u0436\u0438\u043C",BV="\u0420\u0435\u0436\u0438\u043C \u043D\u0430\u043B\u0430\u0433\u043E\u0434\u0436\u0435\u043D\u043D\u044F",HV="\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0441\u0456\u0442\u043A\u0443",AV="\u0412\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0432\u0430\u0442\u0438 CAD \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",TV="\u0422\u0440\u0438\u043C\u0430\u0442\u0438 \u043C\u0435\u043D\u044E \u0441\u0442\u0438\u043B\u0456\u0432 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u043C",OV="\u0417\u0430\u0432\u0436\u0434\u0438 \u043F\u043E\u043A\u0430\u0437\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438",FV="\u0420\u0443\u0447\u043A\u0438 \u043E\u0431\u0435\u0440\u0442\u0430\u043D\u043D\u044F",jV="\u0420\u0443\u0447\u043A\u0438 \u043F\u0440\u0438\u0432'\u044F\u0437\u043A\u0438",VV="\u0420\u0443\u0447\u043A\u0438 \u043A\u043B\u043E\u043D\u0443\u0432\u0430\u043D\u043D\u044F",ZV="\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",zV="\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0438",NV="\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438",WV="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438",UV="\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438",KV="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u044F\u043A",GV="\u0415\u043A\u0441\u043F\u043E\u0440\u0442\u0443\u0432\u0430\u0442\u0438 \u044F\u043A",XV="\u041E\u0431\u0440\u0430\u0442\u0438 \u0432\u0441\u0435",YV="\u0417\u043D\u044F\u0442\u0438 \u0432\u0438\u0434\u0456\u043B\u0435\u043D\u043D\u044F",qV="\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438",JV="\u041D\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",QV="\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438",eZ="\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",tZ="\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u044F\u043A",rZ="\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438 \u043C\u0435\u0434\u0456\u0430",oZ="\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",nZ="\u041D\u043E\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0430",iZ="\u041D\u0430\u0437\u0432\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438",aZ="\u0414\u0443\u0431\u043B\u044E\u0432\u0430\u0442\u0438",lZ="\u0421\u043A\u0430\u0441\u0443\u0432\u0430\u0442\u0438",sZ="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F \u043D\u0430 \u0437\u0430\u043F\u0440\u043E\u0448\u0435\u043D\u043D\u044F",uZ="\u0421\u0442\u0432\u043E\u0440\u0438\u0442\u0438 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",cZ="\u0421\u043A\u043E\u043F\u0456\u044E\u0432\u0430\u0442\u0438 \u0432 \u0431\u0430\u0433\u0430\u0442\u043E\u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0446\u044C\u043A\u0438\u0439 \u043F\u0440\u043E\u0435\u043A\u0442",dZ="\u0412\u0438\u0431\u0438\u0440\u0430\u0442\u0438",hZ="\u041B\u0430\u0441\u0442\u0438\u043A",fZ="\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438",pZ="\u0421\u0442\u0440\u0456\u043B\u043A\u0430",gZ="\u0422\u0435\u043A\u0441\u0442",mZ="\u041D\u043E\u0442\u0430\u0442\u043A\u0430",CZ="\u041F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A",vZ="\u0415\u043B\u0456\u043F\u0441",EZ="\u0422\u0440\u0438\u043A\u0443\u0442\u043D\u0438\u043A",wZ=" \u041B\u0456\u043D\u0456\u044F",bZ="\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438",_Z="\u0417\u0430\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D",yZ=" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u0442\u0438 \u0441\u043F\u0456\u0432\u0432\u0456\u0434\u043D\u043E\u0448\u0435\u043D\u043D\u044F \u0441\u0442\u043E\u0440\u0456\u043D",xZ="\u0417\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",LZ=" \u0420\u043E\u0437\u0433\u0440\u0443\u043F\u0443\u0432\u0430\u0442\u0438",SZ="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430\u0437\u0430\u0434",RZ="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",IZ="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u0432\u043F\u0435\u0440\u0435\u0434",MZ="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438 \u043D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",DZ="\u0421\u043A\u0438\u0434\u0430\u043D\u043D\u044F \u043A\u0443\u0442\u0430",kZ="\u0411\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F",PZ=" \u0420\u043E\u0437\u0431\u043B\u043E\u043A\u0443\u0432\u0430\u043D\u043D\u044F",$Z="\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443",BZ="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0433\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E",HZ="\u041F\u0435\u0440\u0435\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E",AZ="\u041F\u0435\u0440\u0435\u043C\u0456\u0441\u0442\u0438\u0442\u0438",TZ="\u041D\u0430 \u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",OZ=" \u0412\u043F\u0435\u0440\u0435\u0434",FZ="\u041D\u0430 \u0437\u0430\u0434\u043D\u0456\u0439 \u043F\u043B\u0430\u043D",jZ="\u041D\u0430\u0437\u0430\u0434",VZ="\u041C\u043E\u0432\u0430",ZZ={"style.menu.color":dV,"style.menu.fill":hV,"style.menu.dash":fV,"style.menu.size":pV,"style.menu.keep.open":gV,"style.menu.font":mV,"style.menu.align":CV,styles:vV,"zoom.in":EV,"zoom.out":wV,to:bV,"menu.file":_V,"menu.edit":yV,"menu.view":xV,"menu.preferences":LV,"menu.sign.in":SV,"menu.sign.out":RV,"become.a.sponsor":IV,"zoom.to.selection":MV,"zoom.to.fit":DV,"zoom.to":kV,"preferences.dark.mode":PV,"preferences.focus.mode":$V,"preferences.debug.mode":BV,"preferences.show.grid":HV,"preferences.use.cad.selection":AV,"preferences.keep.stylemenu.open":TV,"preferences.always.show.snaps":OV,"preferences.rotate.handles":FV,"preferences.binding.handles":jV,"preferences.clone.handles":VV,undo:ZV,redo:zV,cut:NV,copy:WV,paste:UV,"copy.as":KV,"export.as":GV,"select.all":XV,"select.none":YV,delete:qV,"new.project":JV,open:QV,save:eZ,"save.as":tZ,"upload.media":rZ,"create.page":oZ,"new.page":nZ,"page.name":iZ,duplicate:aZ,cancel:lZ,"copy.invite.link":sZ,"create.multiplayer.project":uZ,"copy.multiplayer.project":cZ,select:dZ,eraser:hZ,draw:fZ,arrow:pZ,text:gZ,sticky:mZ,rectangle:CZ,ellipse:vZ,triangle:EZ,line:wZ,rotate:bZ,"lock.aspect.ratio":_Z,"unlock.aspect.ratio":yZ,group:xZ,ungroup:LZ,"move.to.back":SZ,"move.backward":RZ,"move.forward":IZ,"move.to.front":MZ,"reset.angle":DZ,lock:kZ,unlock:PZ,"move.to.page":$Z,"flip.horizontal":BZ,"flip.vertical":HZ,move:AZ,"to.front":TZ,forward:OZ,backward:FZ,back:jZ,language:VZ},zZ="\u989C\u8272",NZ="\u586B\u5145",WZ="\u8FB9\u6846",UZ="\u5C3A\u5BF8",KZ="\u4FDD\u6301\u5E38\u5F00",GZ="\u5B57\u4F53",XZ="\u5BF9\u9F50",YZ="\u6837\u5F0F",qZ="\u653E\u5927",JZ="\u7F29\u5C0F",QZ="\u7F29\u653E\u81F3",ez="\u5DE5\u5177",tz="\u8F6C\u6362",rz="\u6587\u4EF6",oz="\u7F16\u8F91",nz="\u89C6\u56FE",iz="\u504F\u597D",az="\u767B\u5F55",lz="\u767B\u51FA",sz="\u641C\u7D22",uz="\u6210\u4E3A\u8D5E\u52A9\u8005",cz="\u7F29\u653E\u9009\u4E2D",dz="\u81EA\u9002\u5E94\u7F29\u653E",hz="\u7F29\u653E\u81F3",fz="\u7F29\u653E\u81F3\u5185\u5BB9",pz="\u6697\u9ED1\u6A21\u5F0F",gz="\u4E13\u6CE8\u6A21\u5F0F",mz="\u8C03\u8BD5\u6A21\u5F0F",Cz="\u663E\u793A\u7F51\u683C",vz="\u4F7F\u7528 CAD \u9009\u62E9",Ez="\u4FDD\u6301\u6837\u5F0F\u83DC\u5355\u5E38\u5F00",wz="\u603B\u662F\u5C55\u793A\u5BF9\u9F50\u7EBF",bz="\u65CB\u8F6C\u624B\u67C4",_z="\u6346\u7ED1\u624B\u67C4",yz="\u514B\u9686\u624B\u67C4",xz="\u64A4\u9500",Lz="\u91CD\u505A",Sz="\u526A\u5207",Rz="\u590D\u5236",Iz="\u7C98\u8D34",Mz="\u590D\u5236\u4E3A",Dz="\u5BFC\u51FA\u4E3A",kz="\u9009\u4E2D\u5168\u90E8",Pz="\u53D6\u6D88\u9009\u4E2D",$z="\u5220\u9664",Bz="\u65B0\u9879\u76EE",Hz="\u6253\u5F00",Az="\u4FDD\u5B58",Tz="\u4FDD\u5B58\u4E3A",Oz="\u4E0A\u4F20\u5A92\u4F53\u6587\u4EF6",Fz="\u521B\u5EFA\u9875\u9762",jz="\u65B0\u9875\u9762",Vz="\u9875\u9762\u540D\u79F0",Zz="\u590D\u5236",zz="\u53D6\u6D88",Nz="\u590D\u5236\u9080\u8BF7\u94FE\u63A5",Wz="\u521B\u5EFA\u591A\u4EBA\u9879\u76EE",Uz="\u590D\u5236\u5230\u591A\u4EBA\u9879\u76EE",Kz="\u9009\u62E9",Gz="\u6A61\u76AE",Xz="\u753B\u7B14",Yz="\u7BAD\u5934",qz="\u6587\u672C",Jz="\u4FBF\u5229\u8D34",Qz="\u77E9\u5F62",eN="\u692D\u5706\u5F62",tN="\u4E09\u89D2\u5F62",rN="\u76F4\u7EBF",oN="\u65CB\u8F6C",nN="\u9501\u5B9A\u5BBD\u9AD8\u6BD4",iN="\u89E3\u9501\u5BBD\u9AD8\u6BD4",aN="\u5206\u7EC4",lN="\u53D6\u6D88\u5206\u7EC4",sN="\u7F6E\u5E95",uN="\u4E0B\u79FB\u4E00\u5C42",cN="\u4E0A\u79FB\u4E00\u5C42",dN="\u7F6E\u9876",hN="\u91CD\u7F6E\u65CB\u8F6C\u89D2\u5EA6",fN="\u9501\u5B9A",pN="\u89E3\u9501",gN="\u79FB\u52A8\u5230\u9875\u9762",mN="\u6C34\u5E73\u7FFB\u8F6C",CN="\u5782\u76F4\u7FFB\u8F6C",vN="\u79FB\u52A8",EN="\u7F6E\u9876",wN="\u4E0A\u4E00\u5C42",bN="\u4E0B\u4E00\u5C42",_N="\u7F6E\u5E95",yN="\u8BED\u8A00",xN="\u952E\u76D8\u5FEB\u6377\u952E",LN="\u4E86\u89E3\u66F4\u591A",SN="\u9875\u9762",RN="\u951A\u70B9\u4F4D\u7F6E",IN="\u4E0B\u9762",MN="\u5DE6\u9762",DN="\u53F3\u9762",kN="\u4E0A\u9762",PN="\u5BFC\u51FA\u80CC\u666F\u8272",$N="\u900F\u660E",BN="\u81EA\u52A8",HN="\u660E\u4EAE",AN="\u6697\u9ED1",TN="\u590D\u5236\u53EA\u8BFB\u94FE\u63A5",ON="\u56FE\u7247",FN="\u5BF9\u9F50 / \u5206\u6563",jN="\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5F53\u524D\u7684\u9879\u76EE\uFF1F",VN="\u60A8\u662F\u5426\u60F3\u4FDD\u5B58\u5BF9\u5F53\u524D\u9879\u76EE\u7684\u66F4\u6539\uFF1F",ZN="\u53D6\u6D88",zN="\u5426",NN="\u662F",WN={"style.menu.color":zZ,"style.menu.fill":NZ,"style.menu.dash":WZ,"style.menu.size":UZ,"style.menu.keep.open":KZ,"style.menu.font":GZ,"style.menu.align":XZ,styles:YZ,"zoom.in":qZ,"zoom.out":JZ,to:QZ,"menu.tools":ez,"menu.transform":tz,"menu.file":rz,"menu.edit":oz,"menu.view":nz,"menu.preferences":iz,"menu.sign.in":az,"menu.sign.out":lz,search:sz,"become.a.sponsor":uz,"zoom.to.selection":cz,"zoom.to.fit":dz,"zoom.to":hz,"zoom.to.content":fz,"preferences.dark.mode":pz,"preferences.focus.mode":gz,"preferences.debug.mode":mz,"preferences.show.grid":Cz,"preferences.use.cad.selection":vz,"preferences.keep.stylemenu.open":Ez,"preferences.always.show.snaps":wz,"preferences.rotate.handles":bz,"preferences.binding.handles":_z,"preferences.clone.handles":yz,undo:xz,redo:Lz,cut:Sz,copy:Rz,paste:Iz,"copy.as":Mz,"export.as":Dz,"select.all":kz,"select.none":Pz,delete:$z,"new.project":Bz,open:Hz,save:Az,"save.as":Tz,"upload.media":Oz,"create.page":Fz,"new.page":jz,"page.name":Vz,duplicate:Zz,cancel:zz,"copy.invite.link":Nz,"create.multiplayer.project":Wz,"copy.multiplayer.project":Uz,select:Kz,eraser:Gz,draw:Xz,arrow:Yz,text:qz,sticky:Jz,rectangle:Qz,ellipse:eN,triangle:tN,line:rN,rotate:oN,"lock.aspect.ratio":nN,"unlock.aspect.ratio":iN,group:aN,ungroup:lN,"move.to.back":sN,"move.backward":uN,"move.forward":cN,"move.to.front":dN,"reset.angle":hN,lock:fN,unlock:pN,"move.to.page":gN,"flip.horizontal":mN,"flip.vertical":CN,move:vN,"to.front":EN,forward:wN,backward:bN,back:_N,language:yN,"keyboard.shortcuts":xN,"translation.link":LN,page:SN,"dock.position":RN,bottom:IN,left:MN,right:DN,top:kN,"export.background":PN,transparent:$N,auto:BN,light:HN,dark:AN,"copy.readonly.link":TN,image:ON,"align.distribute":FN,"dialog.save.firsttime":jN,"dialog.save.again":VN,"dialog.cancel":ZN,"dialog.no":zN,"dialog.yes":NN},UN="\u984F\u8272",KN="\u586B\u5145",GN="\u865B\u7DDA",XN="\u5927\u5C0F",YN="\u4FDD\u6301\u958B\u555F",qN="\u5B57\u578B",JN="\u5C0D\u9F4A",QN="\u6A23\u5F0F",eW="\u653E\u5927",tW="\u7E2E\u5C0F",rW="\u81F3",oW="\u6A94\u6848",nW="\u7DE8\u8F2F",iW="\u6AA2\u8996",aW="\u9078\u9805",lW="\u767B\u5165",sW="\u767B\u51FA",uW="\u6210\u70BA\u8D0A\u52A9\u8005",cW="\u7E2E\u653E\u81F3\u9078\u53D6\u7BC4\u570D",dW="\u7E2E\u653E\u81F3\u9069\u7576\u5927\u5C0F",hW="\u7E2E\u653E\u81F3",fW="\u6DF1\u8272\u6A21\u5F0F",pW="\u5C08\u6CE8\u6A21\u5F0F",gW="\u9664\u932F\u6A21\u5F0F",mW="\u986F\u793A\u7DB2\u683C",CW="\u4F7F\u7528 CAD \u9078\u53D6",vW="\u6A23\u5F0F\u9078\u55AE\u4FDD\u6301\u958B\u555F",EW="\u6C38\u9060\u986F\u793A\u5C0D\u9F4A\u7DDA",wW="\u65CB\u8F49\u63A7\u9EDE",bW="\u7D81\u5B9A\u63A7\u9EDE",_W="\u8907\u88FD\u63A7\u9EDE",yW="\u5FA9\u539F",xW="\u53D6\u6D88\u5FA9\u539F",LW="\u526A\u4E0B",SW="\u8907\u88FD",RW="\u8CBC\u4E0A",IW="\u8907\u88FD\u6210",MW="\u532F\u51FA\u6210",DW="\u5168\u9078",kW="\u53D6\u6D88\u9078\u53D6",PW="\u522A\u9664",$W="\u65B0\u5C08\u6848",BW="\u958B\u555F",HW="\u5132\u5B58",AW="\u53E6\u5B58\u70BA",TW="\u4E0A\u50B3\u5A92\u9AD4",OW="\u5EFA\u7ACB\u9801\u9762",FW="\u65B0\u9801\u9762",jW="\u9801\u9762\u540D\u7A31",VW="\u8907\u88FD",ZW="\u53D6\u6D88",zW="\u8907\u88FD\u9080\u8ACB\u9023\u7D50",NW="\u8907\u88FD\u552F\u8B80\u9023\u7D50",WW="\u5EFA\u7ACB\u591A\u4EBA\u5C08\u6848",UW="\u8907\u88FD\u81F3\u591A\u4EBA\u5C08\u6848",KW="\u9078\u53D6",GW="\u6A61\u76AE\u64E6",XW="\u624B\u7E6A",YW="\u7BAD\u982D",qW="\u6587\u5B57",JW="\u4FBF\u5229\u8CBC",QW="\u9577\u65B9\u5F62",eU="\u6A62\u5713\u5F62",tU="\u4E09\u89D2\u5F62",rU="\u76F4\u7DDA",oU="\u65CB\u8F49",nU="\u9396\u5B9A\u9577\u5BEC\u6BD4",iU="\u89E3\u9396\u9577\u5BEC\u6BD4",aU="\u7D44\u6210\u7FA4\u7D44",lU="\u53D6\u6D88\u7FA4\u7D44",sU="\u79FB\u5230\u6700\u4E0B\u5C64",uU="\u4E0B\u79FB\u4E00\u5C64",cU="\u4E0A\u79FB\u4E00\u5C64",dU="\u79FB\u5230\u6700\u4E0A\u5C64",hU="\u91CD\u8A2D\u89D2\u5EA6",fU="\u9396\u5B9A",pU="\u89E3\u9396",gU="\u79FB\u81F3\u9801\u9762",mU="\u6C34\u5E73\u7FFB\u8F49",CU="\u5782\u76F4\u7FFB\u8F49",vU="\u79FB\u52D5",EU="\u5230\u6700\u4E0A\u5C64",wU="\u5230\u4E0A\u4E00\u5C64",bU="\u5230\u4E0B\u4E00\u5C64",_U="\u5230\u6700\u4E0B\u5C64",yU="\u8A9E\u8A00",xU="\u4E86\u89E3\u8A73\u60C5",LU="\u5DE5\u5177\u5217\u4F4D\u7F6E",SU="\u4E0B\u65B9",RU="\u5DE6\u5074",IU="\u53F3\u5074",MU="\u4E0A\u65B9",DU="\u9801\u9762",kU={"style.menu.color":UN,"style.menu.fill":KN,"style.menu.dash":GN,"style.menu.size":XN,"style.menu.keep.open":YN,"style.menu.font":qN,"style.menu.align":JN,styles:QN,"zoom.in":eW,"zoom.out":tW,to:rW,"menu.file":oW,"menu.edit":nW,"menu.view":iW,"menu.preferences":aW,"menu.sign.in":lW,"menu.sign.out":sW,"become.a.sponsor":uW,"zoom.to.selection":cW,"zoom.to.fit":dW,"zoom.to":hW,"preferences.dark.mode":fW,"preferences.focus.mode":pW,"preferences.debug.mode":gW,"preferences.show.grid":mW,"preferences.use.cad.selection":CW,"preferences.keep.stylemenu.open":vW,"preferences.always.show.snaps":EW,"preferences.rotate.handles":wW,"preferences.binding.handles":bW,"preferences.clone.handles":_W,undo:yW,redo:xW,cut:LW,copy:SW,paste:RW,"copy.as":IW,"export.as":MW,"select.all":DW,"select.none":kW,delete:PW,"new.project":$W,open:BW,save:HW,"save.as":AW,"upload.media":TW,"create.page":OW,"new.page":FW,"page.name":jW,duplicate:VW,cancel:ZW,"copy.invite.link":zW,"copy.readonly.link":NW,"create.multiplayer.project":WW,"copy.multiplayer.project":UW,select:KW,eraser:GW,draw:XW,arrow:YW,text:qW,sticky:JW,rectangle:QW,ellipse:eU,triangle:tU,line:rU,rotate:oU,"lock.aspect.ratio":nU,"unlock.aspect.ratio":iU,group:aU,ungroup:lU,"move.to.back":sU,"move.backward":uU,"move.forward":cU,"move.to.front":dU,"reset.angle":hU,lock:fU,unlock:pU,"move.to.page":gU,"flip.horizontal":mU,"flip.vertical":CU,move:vU,"to.front":EU,forward:wU,backward:bU,back:_U,language:yU,"translation.link":xU,"dock.position":LU,bottom:SU,left:RU,right:IU,top:MU,page:DU},PU="\u0E2A\u0E35",$U="\u0E40\u0E15\u0E34\u0E21",BU="\u0E01\u0E23\u0E2D\u0E1A",HU="\u0E02\u0E19\u0E32\u0E14",AU="\u0E40\u0E1B\u0E34\u0E14\u0E17\u0E34\u0E49\u0E07\u0E44\u0E27\u0E49",TU="\u0E41\u0E1A\u0E1A\u0E2D\u0E31\u0E01\u0E29\u0E23",OU="\u0E08\u0E31\u0E14\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07",FU="\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A",jU="\u0E0B\u0E39\u0E21\u0E40\u0E02\u0E49\u0E32",VU="\u0E0B\u0E39\u0E21\u0E2D\u0E2D\u0E01",ZU="\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E17\u0E35\u0E48",zU="\u0E40\u0E04\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E21\u0E37\u0E2D",NU="\u0E41\u0E1B\u0E25\u0E07",WU="\u0E44\u0E1F\u0E25\u0E4C",UU="\u0E41\u0E01\u0E49\u0E44\u0E02",KU="\u0E21\u0E38\u0E21\u0E21\u0E2D\u0E07",GU="\u0E01\u0E32\u0E23\u0E15\u0E31\u0E49\u0E07\u0E04\u0E48\u0E32",XU="\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A",YU="\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E23\u0E30\u0E1A\u0E1A",qU="\u0E23\u0E48\u0E27\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E2A\u0E1B\u0E2D\u0E19\u0E40\u0E0B\u0E2D\u0E23\u0E4C",JU="\u0E01\u0E25\u0E31\u0E1A\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E40\u0E19\u0E37\u0E49\u0E2D\u0E2B\u0E32",QU="\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2A\u0E48\u0E27\u0E19\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01",eK="\u0E0B\u0E39\u0E21\u0E43\u0E2B\u0E49\u0E40\u0E15\u0E47\u0E21\u0E1E\u0E2D\u0E14\u0E35",tK="\u0E0B\u0E39\u0E21\u0E44\u0E1B\u0E17\u0E35\u0E48",rK="\u0E42\u0E2B\u0E21\u0E14\u0E21\u0E37\u0E14",oK="\u0E42\u0E2B\u0E21\u0E14\u0E42\u0E1F\u0E01\u0E31\u0E2A",nK="\u0E42\u0E2B\u0E21\u0E14\u0E14\u0E35\u0E1A\u0E31\u0E01",iK="\u0E41\u0E2A\u0E14\u0E07\u0E15\u0E32\u0E23\u0E32\u0E07",aK="\u0E01\u0E32\u0E23\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E41\u0E1A\u0E1A CAD",lK="\u0E40\u0E1B\u0E34\u0E14\u0E40\u0E21\u0E19\u0E39\u0E23\u0E39\u0E1B\u0E41\u0E1A\u0E1A\u0E17\u0E34\u0E49\u0E07\u0E44\u0E27\u0E49",sK="\u0E41\u0E2A\u0E14\u0E07\u0E2A\u0E41\u0E19\u0E1B\u0E15\u0E25\u0E2D\u0E14",uK="\u0E41\u0E2A\u0E14\u0E07\u0E08\u0E38\u0E14\u0E08\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E2B\u0E21\u0E38\u0E19",cK="\u0E41\u0E2A\u0E14\u0E07\u0E2B\u0E21\u0E32\u0E22\u0E40\u0E25\u0E02\u0E2D\u0E49\u0E32\u0E07\u0E2D\u0E34\u0E07",dK="\u0E41\u0E2A\u0E14\u0E07\u0E15\u0E31\u0E27\u0E42\u0E04\u0E25\u0E19",hK="\u0E40\u0E25\u0E34\u0E01\u0E17\u0E33",fK="\u0E17\u0E33\u0E0B\u0E49\u0E33",pK="\u0E15\u0E31\u0E14",gK="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01",mK="\u0E27\u0E32\u0E07",CK="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E40\u0E1B\u0E47\u0E19",vK="\u0E2A\u0E48\u0E07\u0E2D\u0E2D\u0E01\u0E40\u0E1B\u0E47\u0E19",EK="\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14",wK="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E2A\u0E34\u0E48\u0E07\u0E17\u0E35\u0E48\u0E40\u0E25\u0E37\u0E2D\u0E01",bK="\u0E25\u0E1A",_K="\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E43\u0E2B\u0E21\u0E48",yK="\u0E40\u0E1B\u0E34\u0E14",xK="\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",LK="\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E40\u0E1B\u0E47\u0E19",SK="\u0E2D\u0E31\u0E1E\u0E42\u0E2B\u0E25\u0E14\u0E21\u0E35\u0E40\u0E14\u0E35\u0E22",RK="\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E2B\u0E19\u0E49\u0E32",IK="\u0E2B\u0E19\u0E49\u0E32\u0E43\u0E2B\u0E21\u0E48",MK="\u0E0A\u0E37\u0E48\u0E2D\u0E2B\u0E19\u0E49\u0E32",DK="\u0E2A\u0E33\u0E40\u0E19\u0E32",kK="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",PK="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E25\u0E34\u0E07\u0E01\u0E4C\u0E40\u0E0A\u0E34\u0E0D",$K="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E25\u0E34\u0E07\u0E01\u0E4C\u0E41\u0E1A\u0E1A\u0E43\u0E2B\u0E49\u0E2D\u0E48\u0E32\u0E19\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E40\u0E14\u0E35\u0E22\u0E27",BK="\u0E2A\u0E23\u0E49\u0E32\u0E07\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E2B\u0E25\u0E32\u0E22\u0E04\u0E19",HK="\u0E04\u0E31\u0E14\u0E25\u0E2D\u0E01\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E01\u0E15\u0E4C\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E07\u0E32\u0E19\u0E2B\u0E25\u0E32\u0E22\u0E04\u0E19",AK="\u0E40\u0E25\u0E37\u0E2D\u0E01",TK="\u0E22\u0E32\u0E07\u0E25\u0E1A",OK="\u0E27\u0E32\u0E14",FK="\u0E25\u0E39\u0E01\u0E28\u0E23",jK="\u0E02\u0E49\u0E2D\u0E04\u0E27\u0E32\u0E21",VK="\u0E01\u0E23\u0E30\u0E14\u0E32\u0E29\u0E42\u0E19\u0E4A\u0E15",ZK="\u0E2A\u0E35\u0E48\u0E40\u0E2B\u0E25\u0E35\u0E48\u0E22\u0E21\u0E1C\u0E37\u0E19\u0E1C\u0E49\u0E32",zK="\u0E27\u0E07\u0E23\u0E35",NK="\u0E2A\u0E32\u0E21\u0E40\u0E2B\u0E25\u0E35\u0E48\u0E22\u0E21",WK="\u0E40\u0E2A\u0E49\u0E19",UK="\u0E2B\u0E21\u0E38\u0E19",KK="\u0E25\u0E47\u0E2D\u0E04\u0E2D\u0E31\u0E15\u0E23\u0E32\u0E2A\u0E48\u0E27\u0E19\u0E20\u0E32\u0E1E",GK="\u0E1B\u0E25\u0E14\u0E25\u0E47\u0E2D\u0E01\u0E2D\u0E31\u0E15\u0E23\u0E32\u0E2A\u0E48\u0E27\u0E19\u0E20\u0E32\u0E1E",XK="\u0E01\u0E25\u0E38\u0E48\u0E21",YK="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01\u0E01\u0E25\u0E38\u0E48\u0E21",qK="\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07",JK="\u0E02\u0E22\u0E31\u0E1A\u0E16\u0E2D\u0E22\u0E2B\u0E25\u0E31\u0E07",QK="\u0E02\u0E22\u0E31\u0E1A\u0E44\u0E1B\u0E2B\u0E19\u0E49\u0E32",eG="\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32",tG="\u0E23\u0E35\u0E40\u0E0B\u0E47\u0E15\u0E21\u0E38\u0E21",rG="\u0E25\u0E47\u0E2D\u0E04",oG="\u0E1B\u0E25\u0E14\u0E25\u0E47\u0E2D\u0E04",nG="\u0E08\u0E31\u0E14\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07 / \u0E01\u0E23\u0E30\u0E08\u0E32\u0E22",iG="\u0E22\u0E49\u0E32\u0E22\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E2B\u0E19\u0E49\u0E32",aG="\u0E1E\u0E25\u0E34\u0E01\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",lG="\u0E1E\u0E25\u0E34\u0E01\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",sG="\u0E22\u0E49\u0E32\u0E22",uG="\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E19\u0E49\u0E32",cG="\u0E02\u0E49\u0E32\u0E07\u0E2B\u0E19\u0E49\u0E32",dG="\u0E02\u0E49\u0E32\u0E07\u0E2B\u0E25\u0E31\u0E07",hG="\u0E44\u0E1B\u0E22\u0E31\u0E07\u0E14\u0E49\u0E32\u0E19\u0E2B\u0E25\u0E31\u0E07",fG="\u0E20\u0E32\u0E29\u0E32",pG="\u0E40\u0E23\u0E35\u0E22\u0E19\u0E23\u0E39\u0E49\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21",gG="\u0E15\u0E33\u0E41\u0E2B\u0E19\u0E48\u0E07\u0E41\u0E16\u0E1A\u0E40\u0E04\u0E23\u0E37\u0E48\u0E2D\u0E07\u0E21\u0E37\u0E2D",mG="\u0E02\u0E49\u0E32\u0E07\u0E25\u0E48\u0E32\u0E07",CG="\u0E02\u0E49\u0E32\u0E07\u0E0B\u0E49\u0E32\u0E22",vG="\u0E02\u0E49\u0E32\u0E07\u0E02\u0E27\u0E32",EG="\u0E02\u0E49\u0E32\u0E07\u0E1A\u0E19",wG="\u0E2B\u0E19\u0E49\u0E32",bG="\u0E41\u0E1B\u0E49\u0E19\u0E1E\u0E34\u0E21\u0E1E\u0E4C\u0E25\u0E31\u0E14",_G="\u0E04\u0E49\u0E19\u0E2B\u0E32",yG="\u0E01\u0E33\u0E25\u0E31\u0E07\u0E42\u0E2B\u0E25\u0E14{dots}",xG="\u0E2A\u0E48\u0E07\u0E2D\u0E2D\u0E01\u0E1E\u0E37\u0E49\u0E19\u0E2B\u0E25\u0E31\u0E07",LG="\u0E42\u0E1B\u0E23\u0E48\u0E07\u0E43\u0E2A",SG="\u0E2D\u0E31\u0E15\u0E42\u0E19\u0E21\u0E31\u0E15\u0E34",RG="\u0E2A\u0E27\u0E48\u0E32\u0E07",IG="\u0E21\u0E37\u0E14",MG="Github",DG="Twitter",kG="Discord",PG="\u0E20\u0E32\u0E1E",$G="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E0A\u0E34\u0E14\u0E0B\u0E49\u0E32\u0E22",BG="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E01\u0E36\u0E48\u0E07\u0E01\u0E25\u0E32\u0E07\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",HG="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E0A\u0E34\u0E14\u0E02\u0E27\u0E32",AG="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E14\u0E49\u0E32\u0E19\u0E1A\u0E19",TG="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E01\u0E36\u0E48\u0E07\u0E01\u0E25\u0E32\u0E07\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",OG="\u0E08\u0E31\u0E14\u0E43\u0E2B\u0E49\u0E2D\u0E22\u0E39\u0E48\u0E14\u0E49\u0E32\u0E19\u0E25\u0E48\u0E32\u0E07",FG="\u0E01\u0E23\u0E30\u0E08\u0E32\u0E22\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",jG="\u0E01\u0E23\u0E30\u0E08\u0E32\u0E22\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",VG="\u0E22\u0E37\u0E14\u0E41\u0E19\u0E27\u0E19\u0E2D\u0E19",ZG="\u0E22\u0E37\u0E14\u0E41\u0E19\u0E27\u0E15\u0E31\u0E49\u0E07",zG="\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E47\u0E01\u0E15\u0E4C\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",NG="\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01\u0E01\u0E32\u0E23\u0E40\u0E1B\u0E25\u0E35\u0E48\u0E22\u0E19\u0E41\u0E1B\u0E25\u0E07\u0E43\u0E19\u0E42\u0E1B\u0E23\u0E40\u0E08\u0E47\u0E01\u0E15\u0E4C\u0E1B\u0E31\u0E08\u0E08\u0E38\u0E1A\u0E31\u0E19\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13\u0E2B\u0E23\u0E37\u0E2D\u0E44\u0E21\u0E48?",WG="\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",UG="\u0E44\u0E21\u0E48",KG="\u0E43\u0E0A\u0E48",GG="\u0E01\u0E23\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E44\u0E1F\u0E25\u0E4C",XG={"style.menu.color":PU,"style.menu.fill":$U,"style.menu.dash":BU,"style.menu.size":HU,"style.menu.keep.open":AU,"style.menu.font":TU,"style.menu.align":OU,styles:FU,"zoom.in":jU,"zoom.out":VU,to:ZU,"menu.tools":zU,"menu.transform":NU,"menu.file":WU,"menu.edit":UU,"menu.view":KU,"menu.preferences":GU,"menu.sign.in":XU,"menu.sign.out":YU,"become.a.sponsor":qU,"zoom.to.content":JU,"zoom.to.selection":QU,"zoom.to.fit":eK,"zoom.to":tK,"preferences.dark.mode":rK,"preferences.focus.mode":oK,"preferences.debug.mode":nK,"preferences.show.grid":iK,"preferences.use.cad.selection":aK,"preferences.keep.stylemenu.open":lK,"preferences.always.show.snaps":sK,"preferences.rotate.handles":uK,"preferences.binding.handles":cK,"preferences.clone.handles":dK,undo:hK,redo:fK,cut:pK,copy:gK,paste:mK,"copy.as":CK,"export.as":vK,"select.all":EK,"select.none":wK,delete:bK,"new.project":_K,open:yK,save:xK,"save.as":LK,"upload.media":SK,"create.page":RK,"new.page":IK,"page.name":MK,duplicate:DK,cancel:kK,"copy.invite.link":PK,"copy.readonly.link":$K,"create.multiplayer.project":BK,"copy.multiplayer.project":HK,select:AK,eraser:TK,draw:OK,arrow:FK,text:jK,sticky:VK,rectangle:ZK,ellipse:zK,triangle:NK,line:WK,rotate:UK,"lock.aspect.ratio":KK,"unlock.aspect.ratio":GK,group:XK,ungroup:YK,"move.to.back":qK,"move.backward":JK,"move.forward":QK,"move.to.front":eG,"reset.angle":tG,lock:rG,unlock:oG,"align.distribute":nG,"move.to.page":iG,"flip.horizontal":aG,"flip.vertical":lG,move:sG,"to.front":uG,forward:cG,backward:dG,back:hG,language:fG,"translation.link":pG,"dock.position":gG,bottom:mG,left:CG,right:vG,top:EG,page:wG,"keyboard.shortcuts":bG,search:_G,loading:yG,"export.background":xG,transparent:LG,auto:SG,light:RG,dark:IG,github:MG,twitter:DG,discord:kG,image:PG,"align.left":$G,"align.center.x":BG,"align.right":HG,"align.top":AG,"align.center.y":TG,"align.bottom":OG,"distribute.x":FG,"distribute.y":jG,"stretch.x":VG,"stretch.y":ZG,"dialog.save.firsttime":zG,"dialog.save.again":NG,"dialog.cancel":WG,"dialog.no":UG,"dialog.yes":KG,"enter.file.name":GG},qi=[{locale:"ar",label:"\u0639\u0631\u0628\u064A",messages:Nd},{locale:"da",label:"Danish",messages:_6},{locale:"de",label:"Deutsch",messages:ef},{locale:"en",label:"English",messages:tf},{locale:"es",label:"Espa\xF1ol",messages:Kp},{locale:"fa",label:"\u0641\u0627\u0631\u0633\u06CC",messages:Lm},{locale:"fr",label:"Fran\xE7ais",messages:yv},{locale:"he",label:"\u05E2\u05D1\u05E8\u05D9\u05EA",messages:tw},{locale:"it",label:"Italiano",messages:Fb},{locale:"ja",label:"\u65E5\u672C\u8A9E",messages:Cy},{locale:"ko-kr",label:"\uD55C\uAD6D\uC5B4",messages:Xx},{locale:"ne",label:"\u0928\u0947\u092A\u093E\u0932\u0940",messages:WI},{locale:"no",label:"Norwegian",messages:yD},{locale:"pl",label:"Polski",messages:tP},{locale:"pt",label:"Portugu\xEAs - Europeu",messages:dH},{locale:"pt-br",label:"Portugu\xEAs - Brasil",messages:$$},{locale:"ru",label:"Russian",messages:DT},{locale:"sv",label:"Svenska",messages:PF},{locale:"tr",label:"T\xFCrk\xE7e",messages:cV},{locale:"uk",label:"Ukrainian",messages:ZZ},{locale:"zh-ch",label:"\u7B80\u4F53\u4E2D\u6587",messages:WN},{locale:"zh-tw",label:"\u7E41\u9AD4\u4E2D\u6587 (\u53F0\u7063)",messages:kU},{locale:"th",label:"\u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22",messages:XG}];qi.sort((e,t)=>e.locale<t.locale?-1:1);function YG(e){var t;let r=qi.find(o=>o.locale===e);return{locale:e,label:(t=r?.label)!=null?t:e,messages:I(I({},fR),r?.messages)}}function qG(e){return a.useMemo(()=>YG(e??navigator.language.split(/[-_]/)[0]),[e])}var zs=a.createContext({}),Ns=()=>{let e=a.useContext(zs);if(!e)throw new Error("useCtx must be inside a Provider with a value");return e},it=a.forwardRef((e,t)=>{var r=e,{onSelect:o,onClick:n,onDoubleClick:i,variant:l,children:u,isToolLocked:s=!1,disabled:c=!1,isActive:d=!1,onKeyDown:h,id:C}=r,E=$1(r,["onSelect","onClick","onDoubleClick","variant","children","isToolLocked","disabled","isActive","onKeyDown","id"]);return a.createElement(JG,I({ref:t,isActive:d,variant:l,onClick:n,disabled:c,onPointerDown:o,onDoubleClick:i,onKeyDown:h,bp:B1,id:C},E),a.createElement(N1,null,u),s&&a.createElement(QG,null))});function no(e){var t=e,{label:r,kbd:o,isLocked:n}=t,i=$1(t,["label","kbd","isLocked"]);let l=dt(),u=a.useCallback(()=>{l.toggleToolLock()},[]),s=a.useCallback(c=>{c.key===" "&&l.isForcePanning&&c.preventDefault()},[]);return a.createElement(St,{label:r[0].toUpperCase()+r.slice(1),kbd:o},a.createElement(it,z(I({},i),{variant:"primary",isToolLocked:n&&i.isActive,onDoubleClick:u,onKeyDown:s})))}var N1=de("div",{position:"relative",height:"100%",width:"100%",backgroundColor:"$panel",borderRadius:"$2",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",color:"inherit",userSelect:"none",boxSizing:"border-box",border:"1px solid transparent","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}),JG=de("button",{position:"relative",color:"$text",fontSize:"$0",background:"none",margin:"0",padding:"$2",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",cursor:"pointer",pointerEvents:"all",height:"40px",width:"40px",border:"1px solid $panel","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent",[`&:disabled ${N1}`]:{opacity:.618},variants:{variant:{primary:{marginTop:"0"},icon:{[`& ${N1}`]:{display:"grid","& > *":{gridRow:1,gridColumn:1}}},text:{width:"auto",[`& ${N1}`]:{fontSize:"$1",padding:"0 $3",gap:"$3"}},circle:{padding:0,height:32,width:32,border:"none",[`& ${N1}`]:{border:"1px solid $panelContrast",borderRadius:"100%",boxShadow:"$panel"},[`& ${N1} > svg`]:{width:14,height:14}}},isActive:{true:{},false:{}},bp:{mobile:{padding:0},small:{}}},compoundVariants:[{variant:"primary",bp:"mobile",css:{height:40,width:36,[`& ${N1} > svg`]:{width:16,height:16}}},{variant:"primary",bp:"small",css:{height:"44px",width:"44px",[`& ${N1} > svg`]:{width:20,height:20}}},{isActive:!0,css:{[`${N1}`]:{backgroundColor:"$selected",color:"$selectedContrast"}}},{isActive:!1,bp:"small",css:{[`&:hover:not(:disabled) ${N1}`]:{backgroundColor:"$hover"},[`&:focus:not(:disabled) ${N1}`]:{backgroundColor:"$hover"}}}]}),QG=de("div",{position:"absolute",width:10,height:10,backgroundColor:"$selected",borderRadius:"100%",bottom:-2,border:"2px solid $panel",zIndex:100}),eX=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,tX=e=>e.settings.isDebugMode,rX=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.some(t=>e.document.pages[e.appState.currentPageId].shapes[t].children!==void 0),oX=e=>e.stopPropagation(),nX=({onBlur:e,children:t})=>{let r=Zr();return a.createElement(X4,{dir:"ltr"},a.createElement(Y4,{dir:"ltr"},t),a.createElement(r0,{container:r.current},a.createElement(q4,{onEscapeKeyDown:oX,tabIndex:-1,onBlur:e,asChild:!0},a.createElement(Vr,{id:"TD-ContextMenu"},a.createElement(iX,null)))))},iX=a.memo(function(){let e=dt(),t=h1(),r=e.useStore(eX),o=e.useStore(tX),n=e.useStore(rX),i=a.useCallback(()=>{e.flipHorizontal()},[e]),l=a.useCallback(()=>{e.flipVertical()},[e]),u=a.useCallback(()=>{e.duplicate()},[e]),s=a.useCallback(()=>{e.toggleLocked()},[e]),c=a.useCallback(()=>{e.group()},[e]),d=a.useCallback(()=>{e.moveToBack()},[e]),h=a.useCallback(()=>{e.moveBackward()},[e]),C=a.useCallback(()=>{e.moveForward()},[e]),E=a.useCallback(()=>{e.moveToFront()},[e]),v=a.useCallback(()=>{e.delete()},[e]),_=a.useCallback(()=>{e.cut()},[e]),y=a.useCallback(()=>{e.copy()},[e]),x=a.useCallback(()=>{e.paste()},[e]),S=a.useCallback(()=>{e.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[e]),D=a.useCallback(()=>{e.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[e]),F=a.useCallback(()=>{e.undo()},[e]),k=a.useCallback(()=>{e.redo()},[e]),P=a.useCallback(()=>Te(this,null,function*(){e.exportImage("png",{scale:2,quality:1})}),[e]),A=a.useCallback(()=>Te(this,null,function*(){e.exportImage("jpeg",{scale:2,quality:1})}),[e]),Z=a.useCallback(()=>Te(this,null,function*(){e.exportImage("webp",{scale:2,quality:1})}),[e]),oe=a.useCallback(()=>Te(this,null,function*(){e.exportImage("svg",{scale:1,quality:1})}),[e]),be=a.useCallback(()=>Te(this,null,function*(){e.copyJson()}),[e]),ce=a.useCallback(()=>Te(this,null,function*(){e.exportJson()}),[e]),_e=r>0,ye=r>1,Ke=r>2;return a.createElement(a.Fragment,null,_e?a.createElement(a.Fragment,null,a.createElement(vt,{onClick:u,kbd:"#D",id:"TD-ContextMenu-Duplicate"},a.createElement(ge,{id:"duplicate"})),a.createElement(vt,{onClick:i,kbd:"\u21E7H",id:"TD-ContextMenu-Flip_Horizontal"},a.createElement(ge,{id:"flip.horizontal"})),a.createElement(vt,{onClick:l,kbd:"\u21E7V",id:"TD-ContextMenu-Flip_Vertical"},a.createElement(ge,{id:"flip.vertical"})),a.createElement(vt,{onClick:s,kbd:"#\u21E7L",id:"TD-ContextMenu- Lock_Unlock"},a.createElement(ge,{id:"lock"})," / ",a.createElement(ge,{id:"unlock"})),(ye||n)&&a.createElement(Pt,null),ye&&a.createElement(vt,{onClick:c,kbd:"#G",id:"TD-ContextMenu-Group"},a.createElement(ge,{id:"group"})),n&&a.createElement(vt,{onClick:c,kbd:"#G",id:"TD-ContextMenu-Ungroup"},a.createElement(ge,{id:"ungroup"})),a.createElement(Pt,null),a.createElement(Ji,{label:t.formatMessage({id:"move"}),id:"TD-ContextMenu-Move"},a.createElement(vt,{onClick:E,kbd:"\u21E7]",id:"TD-ContextMenu-Move-To_Front"},a.createElement(ge,{id:"to.front"})),a.createElement(vt,{onClick:C,kbd:"]",id:"TD-ContextMenu-Move-Forward"},a.createElement(ge,{id:"forward"})),a.createElement(vt,{onClick:h,kbd:"[",id:"TD-ContextMenu-Move-Backward"},a.createElement(ge,{id:"backward"})),a.createElement(vt,{onClick:d,kbd:"\u21E7[",id:"TD-ContextMenu-Move-To_Back"},a.createElement(ge,{id:"back"}))),a.createElement(cX,null),ye&&a.createElement(aX,{hasTwoOrMore:ye,hasThreeOrMore:Ke}),a.createElement(Pt,null),a.createElement(vt,{onClick:_,kbd:"#X",id:"TD-ContextMenu-Cut"},a.createElement(ge,{id:"cut"})),a.createElement(vt,{onClick:y,kbd:"#C",id:"TD-ContextMenu-Copy"},a.createElement(ge,{id:"copy"})),a.createElement(vt,{onClick:x,kbd:"#V",id:"TD-ContextMenu-Paste"},a.createElement(ge,{id:"paste"})),a.createElement(Pt,null),a.createElement(Ji,{label:`${t.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-ContextMenu-Copy-As"},a.createElement(vt,{onClick:S,id:"TD-ContextMenu-Copy-as-SVG"},"SVG"),a.createElement(vt,{onClick:D,id:"TD-ContextMenu-Copy-As-PNG"},"PNG"),o&&a.createElement(vt,{onClick:be,id:"TD-ContextMenu-Copy_as_JSON"},"JSON")),a.createElement(Ji,{label:`${t.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-ContextMenu-Export"},a.createElement(vt,{onClick:oe,id:"TD-ContextMenu-Export-SVG"},"SVG"),a.createElement(vt,{onClick:P,id:"TD-ContextMenu-Export-PNG"},"PNG"),a.createElement(vt,{onClick:A,id:"TD-ContextMenu-Export-JPG"},"JPG"),a.createElement(vt,{onClick:Z,id:"TD-ContextMenu-Export-WEBP"},"WEBP"),o&&a.createElement(vt,{onClick:ce,id:"TD-ContextMenu-Export-JSON"},"JSON")),a.createElement(Pt,null),a.createElement(vt,{onClick:v,kbd:"\u232B",id:"TD-ContextMenu-Delete"},a.createElement(ge,{id:"delete"}))):a.createElement(a.Fragment,null,a.createElement(vt,{onClick:x,kbd:"#V",id:"TD-ContextMenu-Paste"},a.createElement(ge,{id:"paste"})),a.createElement(vt,{onClick:F,kbd:"#Z",id:"TD-ContextMenu-Undo"},a.createElement(ge,{id:"undo"})),a.createElement(vt,{onClick:k,kbd:"#\u21E7Z",id:"TD-ContextMenu-Redo"},a.createElement(ge,{id:"redo"}))))});function aX({hasThreeOrMore:e}){let t=dt(),r=a.useCallback(()=>{t.align("top")},[t]),o=a.useCallback(()=>{t.align("centerVertical")},[t]),n=a.useCallback(()=>{t.align("bottom")},[t]),i=a.useCallback(()=>{t.stretch("vertical")},[t]),l=a.useCallback(()=>{t.distribute("vertical")},[t]),u=a.useCallback(()=>{t.align("left")},[t]),s=a.useCallback(()=>{t.align("centerHorizontal")},[t]),c=a.useCallback(()=>{t.align("right")},[t]),d=a.useCallback(()=>{t.stretch("horizontal")},[t]),h=a.useCallback(()=>{t.distribute("horizontal")},[t]),C=Zr();return a.createElement(Di,null,a.createElement(ea,{id:"TD-ContextMenu-Align-Distribute-Trigger"},a.createElement(ge,{id:"align.distribute"})),a.createElement(r0,{container:C.current},a.createElement(ki,{asChild:!0,sideOffset:4,alignOffset:-2},a.createElement(lX,{numberOfSelected:e?"threeOrMore":"twoOrMore"},a.createElement(rr,{onClick:u,id:"TD-ContextMenu-Align_Distribute-AlignLeft"},a.createElement(Vl,null)),a.createElement(rr,{onClick:s,id:"TD-ContextMenu-Align_Distribute-AlignCenterHorizontal"},a.createElement(Fl,null)),a.createElement(rr,{onClick:c,id:"TD-ContextMenu-Align_Distribute-AlignRight"},a.createElement(Zl,null)),a.createElement(rr,{onClick:d,id:"TD-ContextMenu-Align_Distribute-StretchHorizontal"},a.createElement(Kl,null)),e&&a.createElement(rr,{onClick:h,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyHorizontal"},a.createElement(Wl,null)),a.createElement(rr,{onClick:r,id:"TD-ContextMenu-Align_Distribute-AlignTop"},a.createElement(zl,null)),a.createElement(rr,{onClick:o,id:"TD-ContextMenu-Align_Distribute-AlignCenterVertical"},a.createElement(jl,null)),a.createElement(rr,{onClick:n,id:"TD-ContextMenu-Align_Distribute-AlignBottom"},a.createElement(Ol,null)),a.createElement(rr,{onClick:i,id:"TD-ContextMenu-Align_Distribute-StretchVertical"},a.createElement(Gl,null)),e&&a.createElement(rr,{onClick:l,id:"TD-ContextMenu-Align_Distribute-SpaceEvenlyVertical"},a.createElement(Ul,null)),a.createElement(Qi,{offset:13})))))}var lX=de(Vr,{display:"grid",variants:{numberOfSelected:{threeOrMore:{gridTemplateColumns:"repeat(5, auto)"},twoOrMore:{gridTemplateColumns:"repeat(4, auto)"}}}}),sX=e=>e.appState.currentPageId,uX=e=>e.document.pages;function cX(){let e=dt(),t=e.useStore(sX),r=e.useStore(uX),o=Object.values(r).sort((i,l)=>(i.childIndex||0)-(l.childIndex||0)).filter(i=>i.id!==t),n=Zr();return o.length===0?null:a.createElement(Di,null,a.createElement(ea,null,a.createElement(ge,{id:"move.to.page"})),a.createElement(r0,{container:n.current},a.createElement(ki,{sideOffset:4,alignOffset:-2,asChild:!0},a.createElement(Vr,null,o.map(({id:i,name:l},u)=>a.createElement(vt,{key:i,disabled:i===t,onClick:()=>e.moveToPage(i)},l||`Page ${u}`)),a.createElement(Qi,{offset:13})))))}function Ji({children:e,label:t,size:r,id:o}){let n=Zr();return a.createElement(Di,null,a.createElement(ea,null,t),a.createElement(r0,{container:n.current},a.createElement(ki,{sideOffset:4,alignOffset:-2,asChild:!0},a.createElement(Vr,{size:r},e,a.createElement(Qi,{offset:13})))))}var Qi=de(Bl,{fill:"$panel"});function rr(e){var t=e,{onSelect:r}=t,o=$1(t,["onSelect"]);return a.createElement(Mi,{dir:"ltr",onSelect:r,asChild:!0},a.createElement(it,I({},o)))}var vt=e=>{var t=e,{id:r}=t,o=$1(t,["id"]);return a.createElement(Mi,{asChild:!0,id:r},a.createElement(n1,I({},o)))},ea=e=>{var t=e,{id:r}=t,o=$1(t,["id"]);return a.createElement(J4,{asChild:!0,id:r},a.createElement(n1,I({hasArrow:!0},o)))},dX=a.memo(nX);function hX({error:e,resetErrorBoundary:t}){let r=dt(),o=()=>{window.location.reload(),t()},n=()=>{let u=document.createElement("textarea");u.value=e.message,document.body.appendChild(u),u.select(),document.execCommand("copy"),u.remove()},i=()=>{r.saveProjectAs()},l=()=>{r.resetDocument(),t()};return a.createElement(fX,null,a.createElement(pX,null,a.createElement("div",null,"We've encountered an error!"),a.createElement("pre",null,a.createElement("code",null,e.message)),a.createElement(gX,null,a.createElement(n1,{onClick:n},"Copy Error"),a.createElement(n1,{onClick:o},"Refresh Page")),a.createElement(Pt,null),a.createElement("p",null,"Keep getting this error?"," ",a.createElement("a",{onClick:i,title:"Download your project"},"Download your project")," ","as a backup and then"," ",a.createElement("a",{onClick:l,title:"Reset the document"},"reset the document"),".")))}var fX=de("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"$canvas"}),pX=de("div",{backgroundColor:"$panel",border:"1px solid $panelContrast",padding:"$5",borderRadius:8,boxShadow:"$panel",maxWidth:320,color:"$text",fontFamily:"$ui",fontSize:"$2",textAlign:"center",display:"flex",flexDirection:"column",gap:"$3","& > pre":{marginTop:"$3",marginBottom:"$3",textAlign:"left",whiteSpace:"pre-wrap",backgroundColor:"$hover",padding:"$4",borderRadius:"$2",fontFamily:'"Menlo", "Monaco", monospace',fontWeight:500},"& p":{fontFamily:"$body",lineHeight:1.7,padding:"$5",margin:0},"& a":{color:"$text",cursor:"pointer",textDecoration:"underline"},"& hr":{marginLeft:"-$5",marginRight:"-$5"}}),gX=de("div",{display:"flex","& > button > div":{justifyContent:"center",textAlign:"center"}}),ta=de("button",{position:"relative",height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",outline:"none",border:"none",pointerEvents:"all",fontSize:"$0",color:"$text",cursor:"pointer",display:"grid",alignItems:"center",justifyContent:"center","& > *":{gridRow:1,gridColumn:1},"&:disabled":{opacity:"0.5"},"& > span":{width:"100%",height:"100%",display:"flex",alignItems:"center"},variants:{bp:{mobile:{backgroundColor:"transparent"},small:{"&:hover:not(:disabled)":{backgroundColor:"$hover"}}},size:{small:{height:32,width:32,"& svg:nth-of-type(1)":{height:"16px",width:"16px"}},medium:{height:44,width:44,"& svg:nth-of-type(1)":{height:"18px",width:"18px"}},large:{height:44,width:44,"& svg:nth-of-type(1)":{height:"20px",width:"20px"}}},isActive:{true:{color:"$selected"}}}});function mX({onSelect:e}){return a.createElement(CX,null,a.createElement(ta,{onClick:e},a.createElement(D5,null)))}var CX=de("div",{opacity:1,zIndex:100,backgroundColor:"transparent","& svg":{color:"$text"},"&:hover svg":{color:"$text"}}),vX=e=>e.appState.isLoading;function EX(){let e=dt().useStore(vX);return a.createElement(wX,{hidden:!e},a.createElement(ge,{id:"loading",values:{dots:"..."}}))}var wX=de("div",{position:"absolute",top:0,left:"50%",transform:"translate(-50%, 0)",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",padding:"8px 16px",fontFamily:"var(--fonts-ui)",fontSize:"var(--fontSizes-1)",boxShadow:"var(--shadows-panel)",backgroundColor:"white",zIndex:200,pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{transform:{hidden:{transform:"translate(-50%, 100%)"},visible:{transform:"translate(-50%, 0%)"}}}});function bX({children:e,onClose:t,container:r}){return a.createElement(Vi,{container:r},a.createElement(IX,null),a.createElement(MX,{onKeyDown:o=>{switch(o.key){case"Escape":t?.();break}}},e))}var _X=de(ec,{marginBottom:20,color:"$text",fontSize:"$2",lineHeight:1.5,textAlign:"center",maxWidth:"62%",minWidth:0,alignSelf:"center"}),yX=ji,xX=bX,LX=_X,Ws=l0,SX=ws,RX=({container:e})=>{let{setDialogState:t,dialogState:r,onCancel:o,onNo:n,onYes:i}=Ns(),l=h1(),u={saveFirstTime:l.formatMessage({id:"dialog.save.firsttime"}),saveAgain:l.formatMessage({id:"dialog.save.again"})};return a.createElement(yX,{open:r!==null},a.createElement(xX,{onClose:()=>t(null),container:e},r&&a.createElement(LX,null,u[r]),a.createElement("div",{style:{width:"100%",gap:"$6",display:"flex",justifyContent:"space-between"}},o&&a.createElement(SX,{asChild:!0},a.createElement(En,{css:{color:"$text"},onClick:()=>{o(),t(null)}},a.createElement(ge,{id:"dialog.cancel"}))),a.createElement("div",{style:{flexShrink:0}},n&&a.createElement(Ws,{asChild:!0},a.createElement(En,{onClick:()=>{n(),t(null)}},a.createElement(ge,{id:"dialog.no"}))),i&&a.createElement(Ws,{asChild:!0},a.createElement(En,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{i(),t(null)}},a.createElement(ge,{id:"dialog.yes"})))))))},IX=de(a0,{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, .15)",pointerEvents:"all"}),Zse=de(a0,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0}),MX=de(Zi,{position:"fixed",font:"$ui",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"max-content",padding:"$3",pointerEvents:"all",backgroundColor:"$panel",borderRadius:"$3",display:"flex",flexDirection:"column",justifyContent:"center",fontFamily:"$ui",border:"1px solid $panelContrast",boxShadow:"$panel"}),En=de("button",{all:"unset",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"$2",padding:"0 15px",fontSize:"$1",lineHeight:1,fontWeight:"normal",height:36,color:"$text",cursor:"pointer",minWidth:48}),Us=a.forwardRef((e,t)=>{var r=e,{icon:o}=r,n=$1(r,["icon"]);return a.createElement(DX,null,a.createElement(kX,z(I({},n),{ref:t})),o?a.createElement(PX,null,o):null)}),DX=de("div",{position:"relative",width:"100%",height:"min-content"}),kX=de("input",{color:"$text",border:"none",textAlign:"left",width:"100%",paddingLeft:"$3",paddingRight:"$6",backgroundColor:"$background",height:"32px",outline:"none",fontFamily:"$ui",fontSize:"$1","&:focus":{backgroundColor:"$hover"},borderRadius:"$2"}),PX=de(z1,{top:0,right:0,position:"absolute",paddingLeft:"$3",paddingRight:"$3",pointerEvents:"none",color:"$text"}),$X=({isOpen:e,onClose:t})=>{let r=dt(),o=Zr(),n=h1(),[i,l]=a.useState(r.document.name),u=a.useCallback(d=>{let h=d.target.value.trimStart();l(h)},[]);function s(d){d.stopPropagation()}let c=a.useCallback(d=>{switch(d.key){case"Enter":{r.saveProjectAs(i),t();break}case"Escape":{t();break}}},[]);return a.createElement(ji,{open:e},a.createElement(Vi,{container:o.current},a.createElement(HX,{onPointerDown:t}),a.createElement(BX,{dir:"ltr",onKeyDown:s,onKeyUp:s},a.createElement(TX,{placeholder:n.formatMessage({id:"enter.file.name"}),value:i,onChange:u,onKeyDown:c,icon:a.createElement(Pi,null)}),a.createElement(AX,null,a.createElement(l0,{asChild:!0},a.createElement(En,{onClick:t},a.createElement(ge,{id:"cancel"}))),a.createElement(l0,{asChild:!0},a.createElement(En,{css:{backgroundColor:"#2F80ED",color:"White"},onClick:()=>{let d=i.trim().replace(/\.tldr$/,"");r.saveProjectAs(d),t()}},a.createElement(ge,{id:"save"})))))))},BX=de(Zi,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:300,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$3",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),HX=de(a0,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998}),AX=de("div",{width:"100%",display:"flex",alignItems:"center",gap:8,justifyContent:"flex-end",marginTop:10}),TX=de(Us,{background:"$hover"});function Ye(e){var t=e,{onSelect:r,id:o}=t,n=$1(t,["onSelect","id"]);return a.createElement(ot.ck,{dir:"ltr",asChild:!0,onSelect:r,id:o},a.createElement(n1,I({},n)))}var Rt=e=>e.preventDefault();function W1({checked:e,disabled:t=!1,variant:r,onCheckedChange:o,kbd:n,id:i,children:l}){return a.createElement(ot.oC,{dir:"ltr",onSelect:Rt,onCheckedChange:o,checked:e,disabled:t,asChild:!0,id:i},a.createElement(n1,{kbd:n,variant:r,hasIndicator:!0},l))}var _1=e=>e.stopPropagation();function ao({sideOffset:e=4,alignOffset:t=0,children:r,align:o,variant:n,id:i,overflow:l=!1,side:u="bottom"}){let s=Zr();return a.createElement(ot.Uv,{container:s.current,dir:"ltr"},a.createElement(ot.VY,{align:o,alignOffset:t,sideOffset:e,onEscapeKeyDown:_1,asChild:!0,id:i,side:u},a.createElement(OX,{variant:n,overflow:l},r)))}var OX=de(Vr,{width:"fit-content",height:"fit-content",minWidth:0,maxHeight:"100vh",overflowY:"auto",overflowX:"hidden","&::webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none",scrollbarWidth:"none",variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}},overflow:{true:{maxHeight:"60vh"}}}}),zse=de(ot.Z0,{backgroundColor:"$hover",height:1,marginTop:"$2",marginRight:"-$2",marginBottom:"$2",marginLeft:"-$2"}),f0=de(ot.Rk,{height:"32px",width:"32px",backgroundColor:"$panel",borderRadius:"4px",padding:"0",margin:"0",display:"flex",alignItems:"center",justifyContent:"center",outline:"none",border:"none",pointerEvents:"all",cursor:"pointer",variants:{isActive:{true:{backgroundColor:"$selected",color:"white"},false:{}},bp:{mobile:{},small:{}}},compoundVariants:[{isActive:!1,bp:"small",css:{"&:focus":{backgroundColor:"$hover"},"&:hover:not(:disabled)":{backgroundColor:"$hover"}}}]});function zr({children:e,size:t,overflow:r=!1,disabled:o=!1,label:n,id:i}){return a.createElement(ot.Tr,{key:i},a.createElement(ot.fF,{dir:"ltr",asChild:!0},a.createElement(n1,{disabled:o,hasArrow:!0},n)),a.createElement(ot.tu,{asChild:!0,sideOffset:4,alignOffset:-4},a.createElement(Vr,{size:t,overflow:r},e,a.createElement(ot.Eh,{offset:13}))))}function Ks(e){var t=e,{id:r,children:o}=t,n=$1(t,["id","children"]);return a.createElement(ot.xz,{asChild:!0,id:r},a.createElement(it,I({},n),o))}var FX=e=>e.settings.dockPosition,jX=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,VX=e=>{let t=e.document.pages[e.appState.currentPageId],{selectedIds:r}=e.document.pageStates[e.appState.currentPageId];return r.every(o=>t.shapes[o].isLocked)},ZX=e=>{let t=e.document.pages[e.appState.currentPageId],{selectedIds:r}=e.document.pageStates[e.appState.currentPageId];return r.every(o=>t.shapes[o].isAspectRatioLocked)},zX=e=>{let t=e.document.pages[e.appState.currentPageId],r=e.document.pageStates[e.appState.currentPageId].selectedIds.map(o=>t.shapes[o]);return r.every(o=>o.children!==void 0||o.parentId===r[0].parentId&&r[0].parentId!==e.appState.currentPageId)},NX=e=>{let{selectedIds:t}=e.document.pageStates[e.appState.currentPageId];return t.length>0},WX=e=>{let{selectedIds:t}=e.document.pageStates[e.appState.currentPageId];return t.length>1};function UX(){let e=dt(),t=h1(),r=e.useStore(VX),o=e.useStore(ZX),n=e.useStore(zX),i=e.useStore(NX),l=e.useStore(WX),u=e.useStore(jX),s=e.useStore(FX),c=u>1,d=u>2,h=a.useCallback(()=>{e.rotate()},[e]),C=a.useCallback(()=>{e.duplicate()},[e]),E=a.useCallback(()=>{e.toggleLocked()},[e]),v=a.useCallback(()=>{e.toggleAspectRatioLocked()},[e]),_=a.useCallback(()=>{e.group()},[e]),y=a.useCallback(()=>{e.moveToBack()},[e]),x=a.useCallback(()=>{e.moveBackward()},[e]),S=a.useCallback(()=>{e.moveForward()},[e]),D=a.useCallback(()=>{e.moveToFront()},[e]),F=a.useCallback(()=>{e.setShapeProps({rotation:0})},[e]),k=a.useCallback(()=>{e.align("top")},[e]),P=a.useCallback(()=>{e.align("centerVertical")},[e]),A=a.useCallback(()=>{e.align("bottom")},[e]),Z=a.useCallback(()=>{e.stretch("vertical")},[e]),oe=a.useCallback(()=>{e.distribute("vertical")},[e]),be=a.useCallback(()=>{e.align("left")},[e]),ce=a.useCallback(()=>{e.align("centerHorizontal")},[e]),_e=a.useCallback(()=>{e.align("right")},[e]),ye=a.useCallback(()=>{e.stretch("horizontal")},[e]),Ke=a.useCallback(()=>{e.distribute("horizontal")},[e]),Ze=a.useCallback(ut=>{e.setMenuOpen(ut)},[e]);return a.createElement(ot.fC,{dir:"ltr",onOpenChange:Ze},a.createElement(ot.xz,{dir:"ltr",asChild:!0,id:"TD-Tools-Dots"},a.createElement(it,{variant:"circle"},a.createElement(P5,null))),a.createElement(ao,{sideOffset:16,side:s==="bottom"||s==="top"?"top":s},a.createElement(a.Fragment,null,a.createElement(p0,null,a.createElement(St,{label:t.formatMessage({id:"duplicate"}),kbd:"#D",id:"TD-Tools-Copy"},a.createElement(it,{disabled:!i,onClick:C},a.createElement(x5,null))),a.createElement(St,{label:t.formatMessage({id:"rotate"}),id:"TD-Tools-Rotate"},a.createElement(it,{disabled:!i,onClick:h},a.createElement(u3,null))),a.createElement(St,{label:t.formatMessage({id:r?"unlock":"lock"}),kbd:"#L",id:"TD-Tools-Lock"},a.createElement(it,{disabled:!i,onClick:E},r?a.createElement(U5,null):a.createElement(G5,null))),a.createElement(St,{label:t.formatMessage({id:o?"unlock.aspect.ratio":"lock.aspect.ratio"}),id:"TD-Tools-AspectRatio"},a.createElement(it,{disabled:!i,onClick:v},o?a.createElement(p5,null):a.createElement(m5,null))),a.createElement(St,{label:t.formatMessage({id:"group"}),kbd:"#G",id:"TD-Tools-Group"},a.createElement(it,{disabled:!i||!n&&!l,onClick:_},a.createElement(O5,null)))),a.createElement(p0,null,a.createElement(St,{label:t.formatMessage({id:"move.to.back"}),kbd:"#\u21E7[",id:"TD-Tools-PinBottom"},a.createElement(it,{disabled:!i,onClick:y},a.createElement(t3,null))),a.createElement(St,{label:t.formatMessage({id:"move.backward"}),kbd:"#[",id:"TD-Tools-ArrowDown"},a.createElement(it,{disabled:!i,onClick:x},a.createElement(s5,null))),a.createElement(St,{label:t.formatMessage({id:"move.forward"}),kbd:"#]",id:"TD-Tools-ArrowUp"},a.createElement(it,{disabled:!i,onClick:S},a.createElement(h5,null))),a.createElement(St,{label:t.formatMessage({id:"move.to.front"}),kbd:"#\u21E7]",id:"TD-Tools-PinTop"},a.createElement(it,{disabled:!i,onClick:D},a.createElement(o3,null))),a.createElement(St,{label:t.formatMessage({id:"reset.angle"}),id:"TD-Tools-ResetAngle"},a.createElement(it,{disabled:!i,onClick:F},a.createElement(a5,null)))),a.createElement(Pt,null),a.createElement(p0,null,a.createElement(St,{label:t.formatMessage({id:"align.left"}),id:"TD-Tools-AlignLeft"},a.createElement(it,{disabled:!c,onClick:be},a.createElement(Vl,null))),a.createElement(St,{label:t.formatMessage({id:"align.center.x"}),id:"TD-Tools-AlignCenterHorizontal"},a.createElement(it,{disabled:!c,onClick:ce},a.createElement(Fl,null))),a.createElement(St,{label:t.formatMessage({id:"align.right"}),id:"TD-Tools-AlignRight"},a.createElement(it,{disabled:!c,onClick:_e},a.createElement(Zl,null))),a.createElement(St,{label:t.formatMessage({id:"stretch.x"}),id:"TD-Tools-StretchHorizontal"},a.createElement(it,{disabled:!c,onClick:ye},a.createElement(Kl,null))),a.createElement(St,{label:t.formatMessage({id:"distribute.x"}),id:"TD-Tools-SpaceEvenlyHorizontal"},a.createElement(it,{disabled:!d,onClick:Ke},a.createElement(Wl,null)))),a.createElement(p0,null,a.createElement(St,{label:t.formatMessage({id:"align.top"}),id:"TD-Tools-AlignTop"},a.createElement(it,{disabled:!c,onClick:k},a.createElement(zl,null))),a.createElement(St,{label:t.formatMessage({id:"align.center.y"}),id:"TD-Tools-AlignCenterVertical"},a.createElement(it,{disabled:!c,onClick:P},a.createElement(jl,null))),a.createElement(St,{label:t.formatMessage({id:"align.bottom"}),id:"TD-Tools-AlignBottom"},a.createElement(it,{disabled:!c,onClick:A},a.createElement(Ol,null))),a.createElement(St,{label:t.formatMessage({id:"stretch.y"}),id:"TD-Tools-StretchVertical"},a.createElement(it,{disabled:!c,onClick:Z},a.createElement(Gl,null))),a.createElement(St,{label:t.formatMessage({id:"distribute.y"}),id:"TD-Tools-SpaceEvenlyVertical"},a.createElement(it,{disabled:!d,onClick:oe},a.createElement(Ul,null)))))))}var p0=de("div",{position:"relative",display:"flex",width:"100%",background:"none",border:"none",cursor:"pointer",outline:"none",alignItems:"center",justifyContent:"flex-start",padding:0}),KX=e=>e.appState.isEmptyCanvas&&Object.keys(e.document.pages[e.appState.currentPageId].shapes).length>0,GX=e=>e.settings.isDebugMode,XX=e=>e.settings.dockPosition,YX=a.memo(function(){let e=dt(),t=e.useStore(KX),r=e.useStore(XX),o=e.useStore(GX),n={bottom:r==="bottom"&&o?120:r==="bottom"?80:o?60:20,left:"50%",transform:"translate(-50%,0)"};return t?a.createElement(qX,{id:"TD-Tools-Back_to_content",style:I({},n)},a.createElement(n1,{onClick:e.zoomToContent},a.createElement(ge,{id:"zoom.to.content"}))):null}),qX=de(Vr,{pointerEvents:"all",width:"fit-content",minWidth:0,position:"fixed",bottom:0});function Gs(e){let t=e,{size:r=16}=t,o=$1(t,["size"]);return a.createElement("svg",I({width:24,height:24},o),a.createElement("circle",{cx:12,cy:12,r:r/2}))}function JX(){return a.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:50.26548*.1}))}var QX=`${50.26548*.025} ${50.26548*.1}`;function eY(){return a.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2.5,strokeLinecap:"round",strokeDasharray:QX}))}function tY(){return a.createElement("svg",{width:"24",height:"24",viewBox:"1 1.5 21 22",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M10.0162 19.2768C10.0162 19.2768 9.90679 19.2517 9.6879 19.2017C9.46275 19.1454 9.12816 19.0422 8.68413 18.8921C8.23384 18.7358 7.81482 18.545 7.42707 18.3199C7.03307 18.101 6.62343 17.7883 6.19816 17.3818C5.77289 16.9753 5.33511 16.3718 4.88482 15.5713C4.43453 14.7645 4.1531 13.8545 4.04053 12.8414C3.92795 11.822 4.04991 10.8464 4.40639 9.91451C4.76286 8.98266 5.39452 8.10084 6.30135 7.26906C7.21444 6.44353 8.29325 5.83377 9.5378 5.43976C10.7823 5.05202 11.833 4.92068 12.6898 5.04576C13.5466 5.16459 14.3878 5.43664 15.2133 5.86191C16.0388 6.28718 16.7768 6.8688 17.4272 7.60678C18.0714 8.34475 18.5404 9.21406 18.8344 10.2147C19.1283 11.2153 19.1721 12.2598 18.9657 13.348C18.7593 14.4299 18.2872 15.4337 17.5492 16.3593C16.8112 17.2849 15.9263 18.0072 14.8944 18.5263C13.8624 19.0391 12.9056 19.3174 12.0238 19.3612C11.142 19.405 10.2101 19.2705 9.22823 18.9578C8.24635 18.6451 7.35828 18.151 6.56402 17.4756C5.77601 16.8002 6.08871 16.8658 7.50212 17.6726C8.90927 18.4731 10.1444 18.8484 11.2076 18.7983C12.2645 18.7545 13.2965 18.4825 14.3034 17.9822C15.3102 17.4819 16.1264 16.8221 16.7518 16.0028C17.3772 15.1835 17.7681 14.3111 17.9244 13.3855C18.0808 12.4599 18.0401 11.5781 17.8025 10.74C17.5586 9.902 17.1739 9.15464 16.6486 8.49797C16.1233 7.8413 15.2289 7.27844 13.9656 6.80939C12.7086 6.34034 11.4203 6.20901 10.1007 6.41539C8.78732 6.61552 7.69599 7.06893 6.82669 7.77564C5.96363 8.48859 5.34761 9.26409 4.97863 10.1021C4.60964 10.9402 4.45329 11.8376 4.50958 12.7945C4.56586 13.7513 4.79101 14.6238 5.18501 15.4118C5.57276 16.1998 5.96363 16.8002 6.35764 17.2129C6.75164 17.6257 7.13313 17.9509 7.50212 18.1886C7.87736 18.4325 8.28074 18.642 8.71227 18.8171C9.15005 18.9922 9.47839 19.111 9.69728 19.1736C9.91617 19.2361 10.0256 19.2705 10.0256 19.2768H10.0162Z",strokeWidth:"2"}))}function rY(){return a.createElement("svg",{width:"24",height:"24",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg"},a.createElement("circle",{cx:12,cy:12,r:8,fill:"none",strokeWidth:2,strokeLinecap:"round"}))}function oY(e){return a.createElement("svg",I({width:18,height:18,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 4.656a.5.5 0 01.5-.5h9.7a.5.5 0 010 1H2.5a.5.5 0 01-.5-.5z"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 3a.578.578 0 00-.578.578v.578h3.311v-.578A.578.578 0 008.428 3H6.272zm3.733 1.156v-.578A1.578 1.578 0 008.428 2H6.272a1.578 1.578 0 00-1.578 1.578v.578H3.578a.5.5 0 00-.5.5V12.2a1.578 1.578 0 001.577 1.578h5.39a1.578 1.578 0 001.577-1.578V4.656a.5.5 0 00-.5-.5h-1.117zm-5.927 1V12.2a.578.578 0 00.577.578h5.39a.578.578 0 00.577-.578V5.156H4.078z"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.272 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5zM8.428 6.85a.5.5 0 01.5.5v3.233a.5.5 0 11-1 0V7.35a.5.5 0 01.5-.5z"}))}function Xs(e){var t=e,{flipHorizontal:r}=t,o=$1(t,["flipHorizontal"]);return a.createElement("svg",I({width:24,height:24,viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",style:{transform:r?"scale(-1, 1)":"scale(1, 1)"}},o),a.createElement("path",{d:"M10.6707 8.5081C10.6707 10.1923 9.3004 11.5625 7.61631 11.5625H6.5351C6.35593 11.5625 6.21074 11.4173 6.21074 11.2382V11.13C6.21074 10.9508 6.35591 10.8057 6.5351 10.8057H7.61631C8.88313 10.8057 9.91387 9.77492 9.91387 8.5081C9.91387 7.24128 8.88313 6.21054 7.61631 6.21054H5.62155L6.99534 7.58433C7.14289 7.73183 7.14289 7.97195 6.99534 8.11944C6.85216 8.26251 6.60298 8.2623 6.46013 8.11944L4.44045 6.09971C4.36898 6.02824 4.32959 5.93321 4.32959 5.8321C4.32959 5.73106 4.36898 5.63598 4.44045 5.56454L6.46024 3.54472C6.60309 3.40176 6.85248 3.40176 6.99535 3.54472C7.14291 3.69218 7.14291 3.93234 6.99535 4.07979L5.62156 5.45368H7.61631C9.3004 5.45368 10.6707 6.82393 10.6707 8.5081Z"}))}function nY(e){return a.createElement("svg",I({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M12.4239 4.62C13.3572 4.62 14.1572 4.73333 14.8239 4.96C15.4906 5.17333 15.9772 5.43333 16.2839 5.74C16.3639 5.82 16.4039 5.94 16.4039 6.1V8.86H14.0639C13.9172 8.86 13.8439 8.78666 13.8439 8.64V7.26C13.4306 7.12666 12.9572 7.06 12.4239 7.06C11.6506 7.06 11.0639 7.18 10.6639 7.42C10.2639 7.66 10.0639 8.04666 10.0639 8.58V9C10.0639 9.38666 10.1639 9.69333 10.3639 9.92C10.5772 10.1333 11.0306 10.3467 11.7239 10.56L13.6439 11.14C14.4706 11.38 15.1172 11.66 15.5839 11.98C16.0506 12.3 16.3772 12.68 16.5639 13.12C16.7639 13.5467 16.8639 14.0733 16.8639 14.7V15.62C16.8639 16.7933 16.4039 17.7133 15.4839 18.38C14.5639 19.0467 13.2839 19.38 11.6439 19.38C10.6706 19.38 9.79723 19.2867 9.0239 19.1C8.2639 18.9133 7.71056 18.6533 7.3639 18.32C7.3239 18.28 7.29056 18.24 7.2639 18.2C7.25056 18.1467 7.2439 18.06 7.2439 17.94V15.74H7.6239C8.2239 16.1533 8.85056 16.4533 9.5039 16.64C10.1572 16.8267 10.9306 16.92 11.8239 16.92C12.6506 16.92 13.2506 16.7867 13.6239 16.52C14.0106 16.2533 14.2039 15.9333 14.2039 15.56V14.88C14.2039 14.6667 14.1639 14.48 14.0839 14.32C14.0172 14.16 13.8706 14.0133 13.6439 13.88C13.4172 13.7467 13.0572 13.6067 12.5639 13.46L10.6639 12.88C9.7839 12.6133 9.11056 12.3 8.6439 11.94C8.17723 11.58 7.85056 11.18 7.6639 10.74C7.49056 10.3 7.4039 9.83333 7.4039 9.34V8.38C7.4039 7.64666 7.61056 7 8.0239 6.44C8.43723 5.88 9.01723 5.44 9.7639 5.12C10.5239 4.78666 11.4106 4.62 12.4239 4.62Z"}))}function iY(e){return a.createElement("svg",I({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M8.16191 19H5.68191C5.53525 19 5.46191 18.9267 5.46191 18.78V5H8.76191C8.88191 5 8.97525 5.03333 9.04191 5.1C9.10858 5.15333 9.17525 5.27333 9.24191 5.46C9.72191 6.59333 10.1686 7.7 10.5819 8.78C11.0086 9.84667 11.4352 10.98 11.8619 12.18H12.1619C12.6019 10.9667 13.0352 9.79333 13.4619 8.66C13.8886 7.52667 14.3552 6.30667 14.8619 5H18.3219C18.4686 5 18.5419 5.07333 18.5419 5.22V19H16.0619C15.9152 19 15.8419 18.9267 15.8419 18.78V16.26C15.8419 15.5267 15.8486 14.8133 15.8619 14.12C15.8886 13.4267 15.9286 12.6867 15.9819 11.9C16.0486 11.1 16.1419 10.1933 16.2619 9.18H15.9019C15.4352 10.3533 14.9486 11.5667 14.4419 12.82C13.9486 14.06 13.4819 15.2333 13.0419 16.34H11.1019C11.0619 16.34 11.0152 16.3333 10.9619 16.32C10.9219 16.2933 10.8886 16.2467 10.8619 16.18C10.4619 15.18 10.0086 14.06 9.50191 12.82C9.00858 11.58 8.53525 10.3667 8.08191 9.18H7.70191C7.83525 10.18 7.93525 11.0733 8.00191 11.86C8.06858 12.6467 8.10858 13.3933 8.12191 14.1C8.14858 14.8067 8.16191 15.5267 8.16191 16.26V19Z"}))}function aY(e){return a.createElement("svg",I({width:24,height:24,viewBox:"-2 -2 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M7.68191 19C7.53525 19 7.46191 18.9267 7.46191 18.78V5H10.1219C10.2686 5 10.3419 5.07333 10.3419 5.22V16.56H13.4419V15.02H15.7619C15.9086 15.02 15.9819 15.0933 15.9819 15.24V19H7.68191Z"}))}function lY(){return a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M1.72838 9.33987L8.84935 2.34732C9.23874 1.96494 9.86279 1.96539 10.2516 2.34831L13.5636 5.60975C13.9655 6.00555 13.9607 6.65526 13.553 7.04507L8.13212 12.2278C7.94604 12.4057 7.69851 12.505 7.44107 12.505L6.06722 12.505L3.83772 12.505C3.5673 12.505 3.30842 12.3954 3.12009 12.2014L1.7114 10.7498C1.32837 10.3551 1.33596 9.72521 1.72838 9.33987Z",stroke:"currentColor"}),a.createElement("line",{x1:"6.01807",y1:"12.5",x2:"10.7959",y2:"12.5",stroke:"currentColor",strokeLinecap:"round"}),a.createElement("line",{x1:"5.50834",y1:"5.74606",x2:"10.1984",y2:"10.4361",stroke:"currentColor"}))}function sY(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"}))}function uY(){return a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:"M3.64645 11.3536C3.45118 11.1583 3.45118 10.8417 3.64645 10.6465L11.1464 3.14645C11.3417 2.95118 11.6583 2.95118 11.8536 3.14645C12.0488 3.34171 12.0488 3.65829 11.8536 3.85355L4.35355 11.3536C4.15829 11.5488 3.84171 11.5488 3.64645 11.3536Z"}))}function cY(){let e=dt(),t=h1(),r=a.useCallback(()=>{e.delete()},[e]),o=e.useStore(n=>n.appState.status==="idle"&&n.document.pageStates[n.appState.currentPageId].selectedIds.length>0);return a.createElement(St,{label:t.formatMessage({id:"delete"}),kbd:"\u232B",id:"TD-Delete"},a.createElement(it,{variant:"circle",disabled:!o,onSelect:r},a.createElement(oY,null)))}var dY=e=>e.settings.language,hY=()=>{let e=dt(),t=e.useStore(dY),r=a.useCallback(o=>{e.setSetting("language",o)},[e]);return a.createElement(ao,{variant:"menu",overflow:!0,id:"language-menu",side:"left",sideOffset:8},qi.map(({locale:o,label:n})=>a.createElement(W1,{key:o,checked:t===o,onCheckedChange:()=>r(o),id:`TD-MenuItem-Language-${o}`},n)),a.createElement(Pt,null),a.createElement("a",{href:"https://github.com/tldraw/tldraw/blob/main/guides/translation.md",target:"_blank",rel:"nofollow"},a.createElement(Ye,{id:"TD-MenuItem-Translation-Link"},a.createElement(ge,{id:"translation.link"}),a.createElement(z1,null,a.createElement(B5,null)))))};function fY({onOpenChange:e}){let t=h1(),r=Zr(),o={Tools:[{label:t.formatMessage({id:"select"}),kbd:"1"},{label:t.formatMessage({id:"draw"}),kbd:"2"},{label:t.formatMessage({id:"eraser"}),kbd:"3"},{label:t.formatMessage({id:"rectangle"}),kbd:"4"},{label:t.formatMessage({id:"ellipse"}),kbd:"5"},{label:t.formatMessage({id:"triangle"}),kbd:"6"},{label:t.formatMessage({id:"line"}),kbd:"7"},{label:t.formatMessage({id:"arrow"}),kbd:"8"},{label:t.formatMessage({id:"text"}),kbd:"9"},{label:t.formatMessage({id:"sticky"}),kbd:"0"}],View:[{label:t.formatMessage({id:"zoom.in"}),kbd:"#+"},{label:t.formatMessage({id:"zoom.out"}),kbd:"#-"},{label:`${t.formatMessage({id:"zoom.to"})} 100%`,kbd:"\u21E7+0"},{label:t.formatMessage({id:"zoom.to.fit"}),kbd:"\u21E7+1"},{label:t.formatMessage({id:"zoom.to.selection"}),kbd:"\u21E7+2"},{label:t.formatMessage({id:"preferences.dark.mode"}),kbd:"#\u21E7D"},{label:t.formatMessage({id:"preferences.focus.mode"}),kbd:"#."},{label:t.formatMessage({id:"preferences.show.grid"}),kbd:"#\u21E7G"}],Transform:[{label:t.formatMessage({id:"flip.horizontal"}),kbd:"\u21E7H"},{label:t.formatMessage({id:"flip.vertical"}),kbd:"\u21E7V"},{label:`${t.formatMessage({id:"lock"})} / ${t.formatMessage({id:"unlock"})}`,kbd:"#\u21E7L"},{label:`${t.formatMessage({id:"move"})} ${t.formatMessage({id:"to.front"})}`,kbd:"\u21E7]"},{label:`${t.formatMessage({id:"move"})} ${t.formatMessage({id:"forward"})}`,kbd:"]"},{label:`${t.formatMessage({id:"move"})} ${t.formatMessage({id:"backward"})}`,kbd:"["},{label:`${t.formatMessage({id:"move"})} ${t.formatMessage({id:"back"})}`,kbd:"\u21E7["}],File:[{label:t.formatMessage({id:"new.project"}),kbd:"#N"},{label:t.formatMessage({id:"open"}),kbd:"#O"},{label:t.formatMessage({id:"save"}),kbd:"#S"},{label:t.formatMessage({id:"save.as"}),kbd:"#\u21E7S"},{label:t.formatMessage({id:"upload.media"}),kbd:"#U"}],Edit:[{label:t.formatMessage({id:"undo"}),kbd:"#Z"},{label:t.formatMessage({id:"redo"}),kbd:"#\u21E7Z"},{label:t.formatMessage({id:"cut"}),kbd:"#X"},{label:t.formatMessage({id:"copy"}),kbd:"#C"},{label:t.formatMessage({id:"paste"}),kbd:"#V"},{label:t.formatMessage({id:"select.all"}),kbd:"#A"},{label:t.formatMessage({id:"delete"}),kbd:"\u232B"},{label:t.formatMessage({id:"duplicate"}),kbd:"#D"}]};return a.createElement(Ot.fC,{onOpenChange:e},a.createElement(Ot.xz,{asChild:!0},a.createElement(n1,{id:"TD-HelpItem-Keyboard",variant:"wide"},a.createElement(ge,{id:"keyboard.shortcuts"}))),a.createElement(Ot.h_,{container:r.current},a.createElement(EY,null),a.createElement(CY,null,a.createElement(bY,null,a.createElement(ge,{id:"keyboard.shortcuts"}),a.createElement(Ot.x8,{asChild:!0},a.createElement(wY,null,a.createElement(S5,null)))),a.createElement(vY,{bp:B1},Object.entries(o).map(([n,i])=>a.createElement(ra,{key:n},a.createElement(pY,null,a.createElement(ge,{id:`menu.${n.toLocaleLowerCase()}`})),a.createElement(gY,null,i.map(l=>a.createElement(mY,{key:l.label},l.label,a.createElement(Xi,{variant:"menu"},l.kbd))))))))))}var pY=de("h3",{fontSize:"$2",color:"$text",fontFamily:"$ui",margin:0,paddingBottom:"$5"}),ra=de("div",{breakInside:"avoid",paddingBottom:24}),gY=de("ul",{listStyleType:"none",width:"100%",padding:0,margin:0}),mY=de("li",{display:"flex",alignItems:"center",justifyContent:"space-between",height:32,minHeight:32,width:"100%",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",borderRadius:4,userSelect:"none",margin:0,padding:"0 0"}),CY=de(Ot.VY,{borderRadius:6,boxShadow:"hsl(206 22% 7% / 35%) 0px 10px 38px -10px, hsl(206 22% 7% / 20%) 0px 10px 20px -15px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"fit-content",maxWidth:"90vw",maxHeight:"74vh",overflowY:"auto",padding:25,zIndex:9999,pointerEvents:"all",background:"$panel","&:focus":{outline:"none"}}),vY=de("div",{maxWidth:"100%",width:"fit-content",height:"fit-content",overflowY:"auto",columnGap:64,variants:{bp:{mobile:{columns:1,[`& ${ra}`]:{minWidth:"0px"}},small:{columns:2,[`& ${ra}`]:{minWidth:"200px"}},medium:{columns:3},large:{columns:3}}}}),EY=de(Ot.aV,{backgroundColor:"$overlay",position:"fixed",inset:0,zIndex:9998}),wY=de(ta,{fontFamily:"inherit",borderRadius:"100%",height:25,width:25,display:"inline-flex",alignItems:"center",justifyContent:"center",color:"$text",cursor:"pointer","&:hover":{backgroundColor:"$hover"}}),bY=de(Ot.Dx,{fontFamily:"$body",fontSize:"$3",color:"$text",paddingBottom:32,display:"flex",alignItems:"center",justifyContent:"space-between",margin:0}),_Y=e=>e.settings.isDebugMode,yY=e=>e.settings.dockPosition;function xY(){let e=dt(),t=e.useStore(_Y),r=e.useStore(yY),[o,n]=a.useState(!1);return a.createElement(s0.fC,null,a.createElement(DY,{dir:"ltr",debug:t,side:r,bp:B1},a.createElement(s0.xz,{dir:"ltr",asChild:!0},a.createElement(IY,null,a.createElement(l3,null)))),a.createElement(s0.VY,{dir:"ltr",align:"end",side:"top",alignOffset:10,sideOffset:8,asChild:!0},a.createElement(MY,{style:{visibility:o?"hidden":"visible"}},a.createElement(LY,null),a.createElement(fY,{onOpenChange:n}),a.createElement(Pt,null),a.createElement(RY,null))))}var LY=()=>a.createElement(ot.fC,{dir:"ltr"},a.createElement(ot.xz,{asChild:!0},a.createElement(n1,{variant:"wide",hasArrow:!0},a.createElement(ge,{id:"language"}))),a.createElement(hY,null)),SY=[{id:"github",icon:A5,url:"https://github.com/tldraw/tldraw"},{id:"twitter",icon:R3,url:"https://twitter.com/tldraw"},{id:"discord",icon:sY,url:"https://discord.gg/SBBEVCA4PG"},{id:"become.a.sponsor",icon:Z5,url:"https://github.com/sponsors/steveruizok"}],RY=()=>a.createElement(a.Fragment,null,SY.map(e=>a.createElement("a",{key:e.id,href:e.url,target:"_blank",rel:"nofollow"},a.createElement(n1,{id:`TD-Link-${e.id}`,variant:"wide"},a.createElement(ge,{id:e.id}),a.createElement(z1,null,a.createElement(e.icon,null)))))),IY=de("button",{width:32,height:32,borderRadius:"100%",display:"flex",padding:0,justifyContent:"center",alignItems:"center",outline:"none",backgroundColor:"$panel",cursor:"pointer",boxShadow:"$panel",border:"1px solid $panelContrast",color:"$text","& svg":{height:12,width:12}}),MY=de(Vr,{width:"fit-content",height:"fit-content",minWidth:200,maxHeight:380,overflowY:"auto","& *":{boxSizing:"border-box"},"& a":{outline:"none"},variants:{variant:{horizontal:{flexDirection:"row"},menu:{minWidth:128}}}}),DY=de(s0.ee,{position:"absolute",zIndex:999,right:10,bottom:10,width:32,height:32,variants:{debug:{true:{},false:{}},bp:{mobile:{bottom:64},small:{bottom:10},medium:{},large:{}},side:{top:{},left:{},right:{},bottom:{}}},compoundVariants:[{bp:"mobile",side:"bottom",debug:!0,css:{bottom:104}},{bp:"small",side:"bottom",debug:!0,css:{bottom:50}}]}),g0=de("div",{backgroundColor:"$panel",display:"flex",flexDirection:"row",boxShadow:"$panel",padding:"$2",border:"1px solid $panelContrast",gap:0,overflow:"hidden",variants:{side:{center:{borderRadius:9},left:{padding:0,borderTop:0,borderLeft:0,borderTopRightRadius:0,borderBottomRightRadius:9,borderBottomLeftRadius:0},right:{padding:0,borderTop:0,borderRight:0,borderTopLeftRadius:0,borderBottomLeftRadius:9,borderBottomRightRadius:0}}},"& hr":{height:10,width:"100%",backgroundColor:"red",border:"none"}}),oa=["rectangle","ellipse","triangle","line"],Ys={rectangle:a.createElement(f3,null),ellipse:a.createElement(b5,null),triangle:a.createElement(M3,null),line:a.createElement(uY,null)},kY=e=>e.settings.dockPosition,PY=a.memo(function({activeTool:e,isToolLocked:t}){let r=dt(),o=h1(),n=r.useStore(kY),[i,l]=a.useState("rectangle");a.useEffect(()=>{oa.includes(e)&&i!==e&&l(e)},[e]);let u=a.useCallback(()=>{r.selectTool(i)},[e,r]),s=a.useCallback(()=>{r.toggleToolLock()},[r]),c=a.useCallback(E=>{E.key===" "&&r.shiftKey&&E.preventDefault()},[]),d=oa.includes(e),h=n==="bottom"||n==="top"?"top":n,C=n==="bottom"||n==="top"?"row":"column";return a.createElement(ot.fC,{dir:"ltr",onOpenChange:u},a.createElement(ot.xz,{dir:"ltr",asChild:!0,id:"TD-PrimaryTools-Shapes"},a.createElement(it,{disabled:d&&r.shiftKey,variant:"primary",onDoubleClick:s,isToolLocked:d&&t,isActive:d,onKeyDown:c},Ys[i])),a.createElement(ot.VY,{asChild:!0,side:h,sideOffset:12},a.createElement(g0,{side:"center",style:{flexDirection:C}},oa.map((E,v)=>a.createElement(St,{key:E,label:o.formatMessage({id:E}),kbd:(4+v).toString(),id:`TD-PrimaryTools-Shapes-${E}`},a.createElement(ot.ck,{asChild:!0},a.createElement(it,{variant:"primary",onClick:()=>{r.selectTool(E),l(E)}},Ys[E])))))))}),$Y=e=>e.appState.activeTool,BY=e=>e.appState.isToolLocked,HY=e=>e.settings.dockPosition,AY=a.memo(function(){let e=dt(),t=h1(),r=e.useStore($Y),o=e.useStore(BY),n=e.useStore(HY),i=a.useCallback(()=>{e.selectTool("select")},[e]),l=a.useCallback(()=>{e.selectTool("erase")},[e]),u=a.useCallback(()=>{e.selectTool("draw")},[e]),s=a.useCallback(()=>{e.selectTool("arrow")},[e]),c=a.useCallback(()=>{e.selectTool("text")},[e]),d=a.useCallback(()=>{e.selectTool("sticky")},[e]),h=a.useCallback(()=>Te(this,null,function*(){e.openAsset()}),[e]);return a.createElement(TY,{side:"center",id:"TD-PrimaryTools",style:{flexDirection:n==="bottom"||n==="top"?"row":"column"},bp:B1},a.createElement(no,{kbd:"1",label:t.formatMessage({id:"select"}),onClick:i,isActive:r==="select",id:"TD-PrimaryTools-CursorArrow"},a.createElement(I5,null)),a.createElement(no,{kbd:"2",label:t.formatMessage({id:"draw"}),onClick:u,isActive:r==="draw",id:"TD-PrimaryTools-Pencil"},a.createElement(Pi,null)),a.createElement(no,{kbd:"3",label:t.formatMessage({id:"eraser"}),onClick:l,isActive:r==="erase",id:"TD-PrimaryTools-Eraser"},a.createElement(lY,null)),a.createElement(PY,{activeTool:r,isToolLocked:o}),a.createElement(no,{kbd:"8",label:t.formatMessage({id:"arrow"}),onClick:s,isLocked:o,isActive:r==="arrow",id:"TD-PrimaryTools-ArrowTopRight"},a.createElement(c5,null)),a.createElement(no,{kbd:"9",label:t.formatMessage({id:"text"}),onClick:c,isLocked:o,isActive:r==="text",id:"TD-PrimaryTools-Text"},a.createElement(C3,null)),a.createElement(no,{kbd:"0",label:t.formatMessage({id:"sticky"}),onClick:d,isActive:r==="sticky",id:"TD-PrimaryTools-Pencil2"},a.createElement(Q5,null)),a.createElement(no,{label:t.formatMessage({id:"image"}),onClick:h,id:"TD-PrimaryTools-Image"},a.createElement(N5,null)))}),TY=de(g0,{variants:{bp:{mobile:{padding:"$0",borderRadius:"10px"},small:{padding:"$2"}}}}),OY=e=>e.appState.status,FY=e=>e.appState.activeTool;function jY(){let e=dt(),t=e.useStore(OY),r=e.useStore(FY);return a.createElement(VY,{bp:B1,id:"TD-StatusBar"},a.createElement(ZY,null,r," | ",t))}var VY=de("div",{height:40,userSelect:"none",borderTop:"1px solid $panelContrast",gridArea:"status",display:"flex",color:"$text",justifyContent:"space-between",alignItems:"center",backgroundColor:"$panel",gap:8,fontFamily:"$ui",fontSize:"$0",padding:"0 16px",variants:{bp:{small:{fontSize:"$1"}}}}),ZY=de("div",{whiteSpace:"nowrap",overflow:"hidden"}),zY=e=>e.settings.isDebugMode,NY=e=>e.settings.dockPosition,WY=a.memo(function({onBlur:e}){let t=dt(),r=t.useStore(NY),o=t.useStore(zY);return a.createElement(a.Fragment,null,a.createElement(UY,{side:r,onBlur:e,bp:B1,debug:o},a.createElement(KY,{id:"TD-Tools"},a.createElement(YX,null),a.createElement(XY,{orientation:r==="bottom"||r==="top"?"horizontal":"vertical"},a.createElement(UX,null),a.createElement(AY,null),a.createElement(cY,null)))),a.createElement(xY,null),o&&a.createElement(GY,null,a.createElement(jY,null)))}),UY=de("div",{position:"absolute",width:"100%",minWidth:0,maxWidth:"100%",height:64,gap:"$4",display:"flex",justifyContent:"center",alignItems:"center",zIndex:200,overflow:"hidden",pointerEvents:"none","& > div > *":{pointerEvents:"all"},variants:{debug:{true:{},false:{}},bp:{mobile:{},small:{},medium:{},large:{}},side:{top:{width:"100%",height:64,left:0,right:0,top:45},right:{width:64,height:"100%",top:0,right:0},bottom:{width:"100%",left:0,right:0,bottom:4},left:{width:64,height:"100%",left:0}}},compoundVariants:[{side:"top",bp:"large",css:{top:0}},{side:"bottom",debug:!0,css:{bottom:44}}]}),KY=de("div",{display:"flex",width:"fit-content",height:"fit-content",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"$4"}),GY=de("div",{position:"absolute",bottom:"0px",left:"0px",right:"0px",height:"40px",width:"100%",maxWidth:"100%"}),XY=de("div",{position:"relative",display:"flex",alignItems:"center",height:"fit-content",gap:"$3",variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}}}}),YY=e=>e.settings,qY=["bottom","left","right","top"];function JY(){let e=dt(),t=h1(),r=e.useStore(YY),o=a.useCallback(()=>{e.setSetting("isDebugMode",h=>!h)},[e]),n=a.useCallback(()=>{e.setSetting("isDarkMode",h=>!h)},[e]),i=a.useCallback(()=>{e.setSetting("isFocusMode",h=>!h)},[e]),l=a.useCallback(()=>{e.setSetting("showGrid",h=>!h)},[e]),u=a.useCallback(()=>{e.setSetting("keepStyleMenuOpen",h=>!h)},[e]),s=a.useCallback(()=>{e.setSetting("isCadSelectMode",h=>!h)},[e]),c=a.useCallback(h=>{e.setSetting("dockPosition",h)},[e]),d=a.useCallback(h=>{e.setSetting("exportBackground",h)},[e]);return a.createElement(zr,{label:t.formatMessage({id:"menu.preferences"}),id:"TD-MenuItem-Preferences"},a.createElement(W1,{checked:r.isDarkMode,onCheckedChange:n,kbd:"#\u21E7D",id:"TD-MenuItem-Preferences-Dark_Mode"},a.createElement(ge,{id:"preferences.dark.mode"})),a.createElement(W1,{checked:r.isFocusMode,onCheckedChange:i,kbd:"#.",id:"TD-MenuItem-Preferences-Focus_Mode"},a.createElement(ge,{id:"preferences.focus.mode"})),a.createElement(W1,{checked:r.isDebugMode,onCheckedChange:o,id:"TD-MenuItem-Preferences-Debug_Mode"},a.createElement(ge,{id:"preferences.debug.mode"})),a.createElement(Pt,null),a.createElement(W1,{checked:r.showGrid,onCheckedChange:l,kbd:"#\u21E7G",id:"TD-MenuItem-Preferences-Grid"},a.createElement(ge,{id:"preferences.show.grid"})),a.createElement(W1,{checked:r.isCadSelectMode,onCheckedChange:s,id:"TD-MenuItem-Preferences-Cad_Selection"},a.createElement(ge,{id:"preferences.use.cad.selection"})),a.createElement(W1,{checked:r.keepStyleMenuOpen,onCheckedChange:u,id:"TD-MenuItem-Preferences-Style_menu"},a.createElement(ge,{id:"preferences.keep.stylemenu.open"})),a.createElement(zr,{label:t.formatMessage({id:"dock.position"})},qY.map(h=>a.createElement(W1,{key:h,checked:r.dockPosition===h,onCheckedChange:()=>c(h),id:`TD-MenuItem-DockPosition-${h}`},a.createElement(qs,null,a.createElement(ge,{id:h}))))),a.createElement(zr,{label:t.formatMessage({id:"export.background"})},Object.values(js).map(h=>a.createElement(W1,{key:h,checked:r.exportBackground===h,onCheckedChange:()=>d(h),id:`TD-MenuItem-ExportBackground-${h}`},a.createElement(qs,null,a.createElement(ge,{id:h}))))))}var qs=de("span",{textTransform:"capitalize"}),QY=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,eq=e=>e.appState.disableAssets,tq=a.memo(function({readOnly:e}){let t=dt(),r=h1(),[o,n]=a.useState(!1),i=t.useStore(QY),l=t.useStore(eq),[u,s]=a.useState(0);a.useEffect(()=>s(1),[]);let{onNewProject:c,onOpenProject:d,onSaveProject:h,onSaveProjectAs:C}=Hs(),E=a.useCallback(()=>{Po?t.saveProjectAs():n(!0)},[t]),v=a.useCallback(()=>{t.delete()},[t]),_=a.useCallback(()=>{t.copyImage("svg",{scale:1,quality:1,transparentBackground:!1})},[t]),y=a.useCallback(()=>{t.copyImage("png",{scale:2,quality:1,transparentBackground:!0})},[t]),x=a.useCallback(()=>Te(this,null,function*(){t.exportImage("png",{scale:2,quality:1})}),[t]),S=a.useCallback(()=>Te(this,null,function*(){t.exportImage("jpeg",{scale:2,quality:1})}),[t]),D=a.useCallback(()=>Te(this,null,function*(){t.exportImage("webp",{scale:2,quality:1})}),[t]),F=a.useCallback(()=>Te(this,null,function*(){t.exportImage("svg",{scale:2,quality:1})}),[t]),k=a.useCallback(()=>Te(this,null,function*(){t.copyJson()}),[t]),P=a.useCallback(()=>Te(this,null,function*(){t.exportJson()}),[t]),A=a.useCallback(()=>{t.cut()},[t]),Z=a.useCallback(()=>{t.copy()},[t]),oe=a.useCallback(()=>{t.paste()},[t]),be=a.useCallback(()=>{t.selectAll()},[t]),ce=a.useCallback(()=>{t.selectNone()},[t]),_e=a.useCallback(()=>{t.openAsset()},[t]),ye=a.useCallback(()=>{t.zoomTo(1)},[t]),Ke=t.callbacks.onNewProject||t.callbacks.onOpenProject||t.callbacks.onSaveProject||t.callbacks.onSaveProjectAs||t.callbacks.onExport,Ze=i>0;return a.createElement(a.Fragment,null,a.createElement(ot.fC,{dir:"ltr"},a.createElement(Ks,{id:"TD-MenuIcon"},a.createElement(j5,null)),a.createElement(ao,{variant:"menu",id:"TD-Menu",side:"bottom",align:"start",sideOffset:4,alignOffset:4},Ke&&a.createElement(zr,{label:`${r.formatMessage({id:"menu.file"})}...`,id:"TD-MenuItem-File"},t.callbacks.onNewProject&&a.createElement(Ye,{onClick:c,kbd:"#N",id:"TD-MenuItem-File-New_Project"},a.createElement(ge,{id:"new.project"})),t.callbacks.onOpenProject&&a.createElement(Ye,{onClick:d,kbd:"#O",id:"TD-MenuItem-File-Open"},a.createElement(ge,{id:"open"}),"..."),t.callbacks.onSaveProject&&a.createElement(Ye,{onClick:h,kbd:"#S",id:"TD-MenuItem-File-Save"},a.createElement(ge,{id:"save"})),t.callbacks.onSaveProjectAs&&a.createElement(Ye,{onClick:E,kbd:"#\u21E7S",id:"TD-MenuItem-File-Save_As"},a.createElement(ge,{id:"save.as"}),"..."),!l&&a.createElement(a.Fragment,null,a.createElement(Pt,null),a.createElement(Ye,{onClick:_e,kbd:"#U",id:"TD-MenuItem-File-Upload_Media"},a.createElement(ge,{id:"upload.media"})))),a.createElement(zr,{label:`${r.formatMessage({id:"menu.edit"})}...`,id:"TD-MenuItem-Edit"},a.createElement(Ye,{onSelect:Rt,onClick:t.undo,disabled:e,kbd:"#Z",id:"TD-MenuItem-Edit-Undo"},a.createElement(ge,{id:"undo"})),a.createElement(Ye,{onSelect:Rt,onClick:t.redo,disabled:e,kbd:"#\u21E7Z",id:"TD-MenuItem-Edit-Redo"},a.createElement(ge,{id:"redo"})),a.createElement(Pt,null),a.createElement(Ye,{onSelect:Rt,disabled:!Ze||e,onClick:A,kbd:"#X",id:"TD-MenuItem-Edit-Cut"},a.createElement(ge,{id:"cut"})),a.createElement(Ye,{onSelect:Rt,disabled:!Ze,onClick:Z,kbd:"#C",id:"TD-MenuItem-Edit-Copy"},a.createElement(ge,{id:"copy"})),a.createElement(Ye,{onSelect:Rt,onClick:oe,kbd:"#V",id:"TD-MenuItem-Edit-Paste"},a.createElement(ge,{id:"paste"})),a.createElement(Pt,null),a.createElement(zr,{label:`${r.formatMessage({id:"copy.as"})}...`,size:"small",id:"TD-MenuItem-Copy-As"},a.createElement(Ye,{onClick:_,id:"TD-MenuItem-Copy-as-SVG"},"SVG"),a.createElement(Ye,{onClick:y,id:"TD-MenuItem-Copy-As-PNG"},"PNG"),a.createElement(Ye,{onClick:k,id:"TD-MenuItem-Copy_as_JSON"},"JSON")),a.createElement(zr,{label:`${r.formatMessage({id:"export.as"})}...`,size:"small",id:"TD-MenuItem-Export"},a.createElement(Ye,{onClick:F,id:"TD-MenuItem-Export-SVG"},"SVG"),a.createElement(Ye,{onClick:x,id:"TD-MenuItem-Export-PNG"},"PNG"),a.createElement(Ye,{onClick:S,id:"TD-MenuItem-Export-JPG"},"JPG"),a.createElement(Ye,{onClick:D,id:"TD-MenuItem-Export-WEBP"},"WEBP"),a.createElement(Ye,{onClick:P,id:"TD-MenuItem-Export-JSON"},"JSON")),a.createElement(Pt,null),a.createElement(Ye,{onSelect:Rt,onClick:be,kbd:"#A",id:"TD-MenuItem-Select_All"},a.createElement(ge,{id:"select.all"})),a.createElement(Ye,{onSelect:Rt,disabled:!Ze,onClick:ce,id:"TD-MenuItem-Select_None"},a.createElement(ge,{id:"select.none"})),a.createElement(Pt,null),a.createElement(Ye,{onSelect:v,disabled:!Ze,kbd:"\u232B",id:"TD-MenuItem-Delete"},a.createElement(ge,{id:"delete"}))),a.createElement(zr,{label:r.formatMessage({id:"menu.view"}),id:"TD-MenuItem-Edit"},a.createElement(Ye,{onSelect:Rt,onClick:t.zoomIn,kbd:"#+",id:"TD-MenuItem-View-ZoomIn"},a.createElement(ge,{id:"zoom.in"})),a.createElement(Ye,{onSelect:Rt,onClick:t.zoomOut,kbd:"#-",id:"TD-MenuItem-View-ZoomOut"},a.createElement(ge,{id:"zoom.out"})),a.createElement(Ye,{onSelect:Rt,onClick:ye,kbd:"\u21E7+0",id:"TD-MenuItem-View-ZoomTo100"},a.createElement(ge,{id:"zoom.to"})," 100%"),a.createElement(Ye,{onSelect:Rt,onClick:t.zoomToFit,kbd:"\u21E7+1",id:"TD-MenuItem-View-ZoomToFit"},a.createElement(ge,{id:"zoom.to.fit"})),a.createElement(Ye,{onSelect:Rt,onClick:t.zoomToSelection,kbd:"\u21E7+2",id:"TD-MenuItem-View-ZoomToSelection"},a.createElement(ge,{id:"zoom.to.selection"}))),a.createElement(Pt,null),a.createElement(JY,null))),a.createElement($X,{isOpen:o,onClose:()=>n(!1)}))});function rq(){return a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"},a.createElement("path",{d:"M1.36482 4.71089C1.36482 3.21371 2.57853 2 4.07572 2C5.5729 2 6.78661 3.21371 6.78661 4.71089C6.78661 5.76842 6.18106 6.68452 5.29779 7.13136C5.80465 7.24611 6.26407 7.44186 6.66028 7.73182C7.18674 8.11711 7.57215 8.64722 7.81073 9.30983C7.81452 9.30606 7.81832 9.3023 7.82212 9.29855C8.30448 8.82317 8.91325 8.52463 9.60905 8.37275C8.68812 7.922 8.05394 6.97569 8.05394 5.88126C8.05394 4.35017 9.29513 3.10898 10.8262 3.10898C12.3573 3.10898 13.5985 4.35017 13.5985 5.88126C13.5985 6.97561 12.9644 7.92186 12.0436 8.37265C12.7396 8.52449 13.3486 8.82306 13.831 9.29854C14.5795 10.0361 14.9481 11.1249 14.9481 12.5176C14.9481 12.7799 14.7354 12.9926 14.473 12.9926C14.2107 12.9926 13.9981 12.7799 13.9981 12.5175C13.9981 11.2848 13.6738 10.4774 13.1642 9.97518C12.6532 9.4716 11.8802 9.20024 10.8266 9.20024C9.77294 9.20024 8.99993 9.4716 8.48896 9.97518C7.97939 10.4774 7.65513 11.2848 7.65513 12.5176C7.65513 12.7799 7.44247 12.9926 7.18013 12.9926C6.9178 12.9926 6.70513 12.7799 6.70513 12.5176C6.70513 11.6734 6.84053 10.941 7.11384 10.3307C7.0922 10.2895 7.0763 10.2444 7.06737 10.1962C6.91739 9.38749 6.57392 8.84586 6.09923 8.49845C5.61626 8.14499 4.94481 7.95427 4.07574 7.95427C3.05232 7.95427 2.30368 8.21784 1.80952 8.70485C1.31675 9.19047 1.00176 9.97257 1.00176 11.1702C1.00176 11.4326 0.789093 11.6452 0.526758 11.6452C0.264423 11.6452 0.0517578 11.4326 0.0517578 11.1702C0.0517578 9.81263 0.411052 8.74925 1.14268 8.02821C1.60624 7.57137 2.18892 7.28191 2.85378 7.13142C1.97043 6.68461 1.36482 5.76848 1.36482 4.71089ZM4.07572 2.95C3.1032 2.95 2.31482 3.73838 2.31482 4.71089C2.31482 5.68341 3.1032 6.47178 4.07572 6.47178C5.04823 6.47178 5.83661 5.68341 5.83661 4.71089C5.83661 3.73838 5.04823 2.95 4.07572 2.95ZM10.8262 4.05898C9.8198 4.05898 9.00394 4.87484 9.00394 5.88126C9.00394 6.88768 9.8198 7.70355 10.8262 7.70355C11.8326 7.70355 12.6485 6.88768 12.6485 5.88126C12.6485 4.87484 11.8326 4.05898 10.8262 4.05898Z"}))}var lo="-0.03em",na=[.5,.5],Nse=Math.PI*2,ia=".tldr",m0={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:-1+(4-2*e)*e,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e<=0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e>=1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e<=0?0:e>=1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},Js=["#EC5E41","#F2555A","#F04F88","#E34BA9","#BD54C6","#9D5BD2","#7B66DC","#02B1CC","#11B3A3","#39B178","#55B467","#FF802B"],oq=typeof Window>"u"?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),nq=typeof Window>"u"?!1:/linux/i.test(navigator.userAgent),Qs=[".png",".svg",".jpg",".jpeg",".gif"],e2=oq?[]:[".mp4",".webm"];function y1(e){if(e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(typeof e=="object")if(typeof e[Symbol.iterator]=="function"){let t=[];if(e.length>0)for(let r of e)t.push(y1(r));return t}else{let t=Object.keys(e),r={};if(t.length>0)for(let o of t)r[o]=y1(e[o]);return r}return e}function $o(e,t){let r=M.getFromCache(t,e,()=>{let[o,n]=e.size;return{minX:0,maxX:o,minY:0,maxY:n,width:o,height:n}});return M.translateBounds(r,e.point)}var iq={start:"left",middle:"center",end:"right",justify:"justify"};function aq(e="start"){return iq[e]}var Nr;function lq(){var e;(e=document.getElementById("__textLabelMeasure"))==null||e.remove();let t=document.createElement("pre");return t.id="__textLabelMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:lo,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}typeof window<"u"&&(Nr=lq());var aa="",t2="",la=[0,0];function sq(){aa=""}function wn(e,t){if(!e)return[16,32];if(!Nr)return[10,10];if(Nr.parent||document.body.appendChild(Nr),e===aa&&t===t2)return la;aa=e,t2=t,Nr.textContent=e,Nr.style.font=t;let r=Nr.offsetWidth||1,o=Nr.offsetHeight||1;return la=[r,o],la}var uq=new RegExp(`${[32,160,4961,65792,65793,4153,4241].map(e=>String.fromCodePoint(e)).join("|")}`);function C0(e,t,r,o,n,i=!1){let l="normal",u=lo,s=cq({text:e,wrap:i,width:n,fontSize:t,fontWeight:l,fontFamily:r,fontStyle:"normal",textAlign:"left",letterSpacing:lo,lineHeight:1}),c=document.createElementNS("http://www.w3.org/2000/svg","text");c.setAttribute("font-size",t+"px"),c.setAttribute("font-family",r),c.setAttribute("font-weight",l),c.setAttribute("line-height",1*t+"px"),c.setAttribute("letter-spacing",u),c.setAttribute("text-align",o??"left"),c.setAttribute("dominant-baseline","mathematical"),c.setAttribute("alignment-baseline","mathematical");let d=s.map((h,C)=>{let E=document.createElementNS("http://www.w3.org/2000/svg","tspan");return E.textContent=h+`
`,E.setAttribute("y",1*t*(C+.5)+"px"),c.appendChild(E),E});switch(o){case"middle":{c.setAttribute("text-align","center"),c.setAttribute("text-anchor","middle"),d.forEach(h=>h.setAttribute("x",4+n/2+""));break}case"end":{c.setAttribute("text-align","right"),c.setAttribute("text-anchor","end"),d.forEach(h=>h.setAttribute("x",4+n+""));break}default:c.setAttribute("text-align","left"),c.setAttribute("text-anchor","start"),d.forEach(h=>h.setAttribute("x","4"))}return c}function cq(e){let t=document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","-9999px"),t.style.setProperty("left","-9999px"),t.style.setProperty("width",e.width+"px"),t.style.setProperty("height","min-content"),t.style.setProperty("font-size",e.fontSize+"px"),t.style.setProperty("font-family",e.fontFamily),t.style.setProperty("font-weight",e.fontWeight),t.style.setProperty("line-height",e.lineHeight*e.fontSize+"px"),t.style.setProperty("letter-spacing",e.letterSpacing),t.style.setProperty("text-align",e.textAlign),document.body.appendChild(t);let r=e.text.split(uq).flatMap(l=>l.replace(`
`,` 
`)).join(" ").split(" ");t.innerText=r[0];let o=t.offsetHeight,n=[r[0]],i=[n];for(let l=1;l<r.length;l++){let u=r[l];t.innerText+=" "+u;let s=t.offsetHeight;s>o&&(o=s,n=[],i.push(n)),n.push(u)}return t.remove(),i.map(l=>l.join(" "))}function dq({id:e,bounds:t,labelSize:r,offset:o,scale:n=1}){return a.createElement("defs",null,a.createElement("mask",{id:e+"_clip"},a.createElement("rect",{x:-100,y:-100,width:t.width+200,height:t.height+200,fill:"white"}),a.createElement("rect",{x:t.width/2-r[0]/2*n+(o?.[0]||0),y:t.height/2-r[1]/2*n+(o?.[1]||0),width:r[0]*n,height:r[1]*n,rx:4*n,ry:4*n,fill:"black",opacity:Math.max(n,.8)})))}var v0=Math.PI*2,H1=class{static inwardEdgeNormal(e){let t=H.sub(e[1],e[0]),r=H.len2(t);return[-t[0]/r,t[1]/r]}static outwardEdgeNormal(e){return H.neg(H1.inwardEdgeNormal(e))}static isReflexVertex(e,t){let r=e.length,o=e[(t+r-1)%r],n=e[t],i=e[(t+1)%r];return H1.leftSide(o,i,n)<0}static getEdges(e){return e.map((t,r)=>[t,e[(r+1)%e.length]])}static edgesIntersection([e,t],[r,o]){let n=(o[1]-r[1])*(t[0]-e[0])-(o[0]-r[0])*(t[1]-e[1]);if(n==0)return null;let i=((o[0]-r[0])*(e[1]-r[1])-(o[1]-r[1])*(e[0]-r[0]))/n,l=((t[0]-e[0])*(e[1]-r[1])-(t[1]-e[1])*(e[0]-r[0]))/n;return i<0||l<0||i>1||l>1?null:[e[0]+i*(t[0]-e[0]),e[1]+i*(t[1]-e[1])]}static appendArc(e,t,r,o,n,i=!1){let l=[...e],u=Math.atan2(o[1]-t[1],o[0]-t[0]),s=Math.atan2(n[1]-t[1],n[0]-t[0]);u<0&&(u+=v0),s<0&&(s+=v0);let c=5,d=u>s?u-s:u+v0-s,h=(i?-d:v0-d)/c;l.push(o);for(let C=1;C<c;++C){let E=u+h*C;l.push([t[0]+Math.cos(E)*r,t[1]+Math.sin(E)*r])}return l.push(n),l}static createOffsetEdge(e,t){return e.map(r=>H.add(r,t))}static getOffsetPolygon(e,t=0){let r=H1.getEdges(e),o=r.map(i=>H1.createOffsetEdge(i,H.mul(H1.outwardEdgeNormal(i),t))),n=[];for(let i=0;i<o.length;i++){let l=o[i],u=o[(i+o.length-1)%o.length],s=H1.edgesIntersection(u,l);s?n.push(s):H1.appendArc(n,r[i][0],t,u[1],l[0],!1)}return n}static createPaddingPolygon(e,t=0){let r=e.map(n=>H1.createOffsetEdge(n,H1.inwardEdgeNormal(n))),o=[];for(let n=0;n<r.length;n++){let i=r[n],l=r[(n+r.length-1)%r.length],u=H1.edgesIntersection(l,i);u?o.push(u):H1.appendArc(o,e[n][0],t,l[1],i[0],!0)}return o}},hq=H1;g(hq,"leftSide",H.isLeft);function fq(e,t){if(e.length<3)throw Error("Polygon must have at least 3 points");let r=e.length;return e.map((o,n)=>[o,e[(n+1)%r]]).map(([o,n])=>{let i=H.mul(H.per(H.uni(H.sub(n,o))),t);return[H.add(o,i),H.add(n,i)]}).map((o,n,i)=>{let l=rn(o,i[(n+1)%i.length]);if(l===void 0)throw Error("Expected an intersection");return l})}var r2="#fafafa",sa="#343d45",Bo={white:"#f0f1f3",lightGray:"#c6cbd1",gray:"#788492",black:"#1d1d1d",green:"#36b24d",cyan:"#0e98ad",blue:"#1c7ed6",indigo:"#4263eb",violet:"#7746f1",red:"#ff2133",orange:"#ff9433",yellow:"#ffc936"},pq={light:z(I({},Object.fromEntries(Object.entries(Bo).map(([e,t])=>[e,M.lerpColor(t,r2,.45)]))),{white:"#ffffff",black:"#3d3d3d"}),dark:z(I({},Object.fromEntries(Object.entries(Bo).map(([e,t])=>[e,M.lerpColor(M.lerpColor(t,"#999999",.3),sa,.4)]))),{white:"#1d1d1d",black:"#bbbbbb"})},bn={light:z(I({},Bo),{white:"#1d1d1d"}),dark:z(I({},Object.fromEntries(Object.entries(Bo).map(([e,t])=>[e,M.lerpColor(t,sa,.1)]))),{white:"#cecece",black:"#cecece"})},ua={light:z(I({},Object.fromEntries(Object.entries(Bo).map(([e,t])=>[e,M.lerpColor(t,r2,.82)]))),{white:"#fefefe"}),dark:z(I({},Object.fromEntries(Object.entries(Bo).map(([e,t])=>[e,M.lerpColor(t,sa,.82)]))),{white:"rgb(30,33,37)",black:"#1e1e1f"})},gq={small:2,medium:3.5,large:5},mq={small:28,medium:48,large:96,auto:"auto"},Cq={script:'"Caveat Brush"',sans:'"Source Sans Pro"',serif:'"Crimson Pro"',mono:'"Source Code Pro"'},vq={script:1,sans:1,serif:1,mono:1},Eq={small:24,medium:36,large:48,auto:"auto"};function wq(e){return gq[e]}function E0(e,t="script"){return mq[e]*vq[t]}function Ho(e="script"){return Cq[e]}function o2(e){return Eq[e]}function wr(e){let t=E0(e.size,e.font),r=Ho(e.font),{scale:o=1}=e;return`${t*o}px/1 ${r}`}function bq(e){let t=o2(e.size),r=Ho(e.font),{scale:o=1}=e;return`${t*o}px/1 ${r}`}function n2(e,t=!1){let{color:r}=e,o=t?"dark":"light",n=r==="white"||r==="black"?"yellow":r;return{fill:pq[o][n],stroke:bn[o][n],color:t?"#1d1d1d":"#0d0d0d"}}function ht(e,t){let{color:r,size:o,isFilled:n}=e,i=wq(o),l=t?"dark":"light";return{stroke:bn[l][r],fill:n?ua[l][r]:"none",strokeWidth:i}}var or={color:"black",size:"small",isFilled:!1,dash:"draw",scale:1},ca=z(I({},or),{font:"script",textAlign:"middle"}),i2="  ",i1=class{static insertTextFirefox(e,t){e.setRangeText(t,e.selectionStart||0,e.selectionEnd||0,"end"),e.dispatchEvent(new InputEvent("input",{data:t,inputType:"insertText",isComposing:!1}))}static insert(e,t){let r=e.ownerDocument,o=r.activeElement;o!==e&&e.focus(),r.execCommand("insertText",!1,t)||i1.insertTextFirefox(e,t),o===r.body?e.blur():o instanceof HTMLElement&&o!==e&&o.focus()}static set(e,t){e.select(),i1.insert(e,t)}static getSelection(e){let{selectionStart:t,selectionEnd:r}=e;return e.value.slice(t||void 0,r||void 0)}static wrapSelection(e,t,r){let{selectionStart:o,selectionEnd:n}=e,i=i1.getSelection(e);i1.insert(e,t+i+(r??t)),e.selectionStart=(o||0)+t.length,e.selectionEnd=(n||0)+t.length}static replace(e,t,r){let o=0;e.value.replace(t,(...n)=>{let i=o+n[n.length-2],l=n[0].length;e.selectionStart=i,e.selectionEnd=i+l;let u=typeof r=="string"?r:r(...n);return i1.insert(e,u),e.selectionStart=i,o+=u.length-l,u})}static findLineEnd(e,t){let r=e.lastIndexOf(`
`,t-1)+1;return e.charAt(r)!=="	"?t:r+1}static indent(e){var t;let{selectionStart:r,selectionEnd:o,value:n}=e,i=n.slice(r,o),l=(t=/\n/g.exec(i))==null?void 0:t.length;if(l&&l>0){let u=n.lastIndexOf(`
`,r-1)+1,s=e.value.slice(u,o-1),c=s.replace(/^|\n/g,`$&${i2}`),d=c.length-s.length;e.setSelectionRange(u,o-1),i1.insert(e,c),e.setSelectionRange(r+1,o+d)}else i1.insert(e,i2)}static unindent(e){let{selectionStart:t,selectionEnd:r,value:o}=e,n=o.lastIndexOf(`
`,t-1)+1,i=i1.findLineEnd(o,r),l=e.value.slice(n,i),u=l.replace(/(^|\n)(\t| {1,2})/g,"$1"),s=l.length-u.length;e.setSelectionRange(n,i),i1.insert(e,u);let c=/\t| {1,2}/.exec(o.slice(n,t)),d=c?c[0].length:0,h=t-d;e.setSelectionRange(t-d,Math.max(h,r-s))}},w0=a.memo(function({font:e,text:t,color:r,offsetX:o=0,offsetY:n=0,scale:i=1,isEditing:l=!1,onBlur:u,onChange:s}){let c=a.useRef(null),d=a.useRef(!1),h=a.useCallback(x=>{s(W.normalizeText(x.currentTarget.value))},[s]),C=a.useCallback(x=>{if(x.key==="Escape"){x.preventDefault(),x.stopPropagation(),u?.();return}if(x.key==="Tab"&&t.length===0){x.preventDefault();return}if(!(x.key==="Meta"||x.metaKey))x.stopPropagation();else if(x.key==="z"&&x.metaKey){x.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),x.stopPropagation(),x.preventDefault();return}(x.metaKey||x.ctrlKey)&&x.key==="="&&x.preventDefault(),x.key==="Tab"&&(x.preventDefault(),x.shiftKey?i1.unindent(x.currentTarget):i1.indent(x.currentTarget),s?.(W.normalizeText(x.currentTarget.value)))},[s]),E=a.useCallback(x=>{x.currentTarget.setSelectionRange(0,0),u?.()},[u]),v=a.useCallback(x=>{!l||!d.current||document.activeElement===x.currentTarget&&x.currentTarget.select()},[l]),_=a.useCallback(x=>{l&&x.stopPropagation()},[l]);a.useEffect(()=>{l?requestAnimationFrame(()=>{d.current=!0;let x=c.current;x&&(x.focus(),x.select())}):u?.()},[l,u]);let y=a.useRef(null);return a.useLayoutEffect(()=>{let x=y.current;if(!x)return;let S=wn(t,e);x.style.transform=`scale(${i}, ${i}) translate(${o}px, ${n}px)`,x.style.width=S[0]+1+"px",x.style.height=S[1]+1+"px"},[t,e,n,o,i]),a.createElement(_q,null,a.createElement(yq,{ref:y,hasText:!!t,isEditing:l,style:{font:e,color:r}},l?a.createElement(xq,{ref:c,style:{font:e,color:r},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:t,color:r,onFocus:v,onChange:h,onKeyDown:C,onBlur:E,onPointerDown:_,onContextMenu:_1,onCopy:_1,onPaste:_1,onCut:_1}):t,"\u200B"))}),_q=de("div",{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",userSelect:"none",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}}}}),a2={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:lo},yq=de("div",I({position:"absolute",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,outline:0,fontWeight:"500",textAlign:"center",backfaceVisibility:"hidden",userSelect:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",variants:{hasText:{false:{pointerEvents:"none"},true:{pointerEvents:"all"}},isEditing:{false:{userSelect:"none"},true:{background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}}},a2)),xq=de("textarea",z(I({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text",fontSmooth:"always",WebkitFontSmoothing:"subpixel-antialiased",MozOsxFontSmoothing:"auto"},a2),{"&:focus":{outline:"none",border:"none"}}));function b0(e,t,{initialShape:r,transformOrigin:o,scaleX:n,scaleY:i}){if(e.rotation||r.isAspectRatioLocked){let l=H.toFixed(H.mul(r.size,Math.min(Math.abs(n),Math.abs(i)))),u=H.toFixed([t.minX+(t.width-e.size[0])*(n<0?1-o[0]:o[0]),t.minY+(t.height-e.size[1])*(i<0?1-o[1]:o[1])]),s=n<0&&i>=0||i<0&&n>=0?r.rotation?-r.rotation:0:r.rotation;return{size:l,point:u,rotation:s}}else return{point:H.toFixed([t.minX,t.minY]),size:H.toFixed([t.width,t.height])}}function _0(e,t){return{size:H.toFixed([t.width,t.height]),point:H.toFixed([t.minX,t.minY])}}var st=class extends ci{constructor(){super(...arguments),g(this,"canBind",!1),g(this,"canEdit",!1),g(this,"canClone",!1),g(this,"isAspectRatioLocked",!1),g(this,"hideResizeHandles",!1),g(this,"bindingDistance",16),g(this,"hitTestPoint",(e,t)=>M.pointInBounds(t,this.getRotatedBounds(e))),g(this,"hitTestLineSegment",(e,t,r)=>{let o=M.getBoundsFromPoints([t,r]),n=this.getBounds(e);return M.boundsContain(n,o)||e.rotation?Jr(t,r,M.getRotatedCorners(this.getBounds(e))).didIntersect:an(t,r,this.getBounds(e)).length>0}),g(this,"create",e=>(this.refMap.set(e.id,a.createRef()),this.getShape(e))),g(this,"getCenter",e=>M.getBoundsCenter(this.getBounds(e))),g(this,"getExpandedBounds",e=>M.expandBounds(this.getBounds(e),this.bindingDistance)),g(this,"getBindingPoint",(e,t,r,o,n,i)=>{let l=this.getBounds(e),u=this.getExpandedBounds(e);if(!M.pointInBounds(r,u))return;let s=pr(o,n,u).filter(_=>_.didIntersect).map(_=>_.points[0]);if(!s.length)return;let c=this.getCenter(e),d=s.sort((_,y)=>w.dist(y,o)-w.dist(_,o))[0],h=w.med(r,d),C,E;i?(C=w.dist(r,c)<16/2?c:r,E=0):(w.distanceToLineSegment(r,h,c)<16/2?C=c:C=h,M.pointInBounds(r,l)?E=this.bindingDistance:E=Math.max(this.bindingDistance,M.getBoundsSides(l).map(_=>w.distanceToLineSegment(_[1][0],_[1][1],r)).sort((_,y)=>_-y)[0]));let v=w.divV(w.sub(C,[u.minX,u.minY]),[u.width,u.height]);return{point:w.clampV(v,0,1),distance:E}}),g(this,"mutate",(e,t)=>t),g(this,"transform",(e,t,r)=>z(I({},e),{point:[t.minX,t.minY]})),g(this,"transformSingle",(e,t,r)=>this.transform(e,t,r)),g(this,"updateChildren"),g(this,"onChildrenChange"),g(this,"onHandleChange"),g(this,"onRightPointHandle"),g(this,"onDoubleClickHandle"),g(this,"onDoubleClickBoundsHandle"),g(this,"onSessionComplete"),g(this,"getSvgElement",(e,t)=>{var r,o,n,i,l;let u=(r=document.getElementById(e.id+"_svg"))==null?void 0:r.cloneNode(!0);if(!!u){if((i=(n=(o=e.label)==null?void 0:o.trim())==null?void 0:n.length)!=null?i:0>0){let s=e,c=document.createElementNS("http://www.w3.org/2000/svg","g"),d=wr(e.style),h=wn(e.label,d),C=E0(e.style.size,e.style.font)*((l=e.style.scale)!=null?l:1),E=Ho(e.style.font).slice(1,-1),v=C0(s.label,C,E,"middle",h[0],!1),_=this.getBounds(e);return v.setAttribute("transform",`translate(${_.width/2-h[0]/2}, ${_.height/2-h[1]/2})`),v.setAttribute("fill",ht(e.style,t).stroke),v.setAttribute("transform-origin","center center"),c.setAttribute("text-align","center"),c.setAttribute("text-anchor","middle"),c.appendChild(u),c.appendChild(v),c}return u}})}};function Lq(e,t,r,o){return["M",e[0],e[1],"A",r[2],r[2],0,0,o<0?0:1,t[0],t[1]].join(" ")}function y0(e,t){let{start:r,end:o}=e,n=H.dist(r.point,o.point),i=H.med(r.point,o.point),l=n/2*t,u=H.uni(H.vec(r.point,o.point));return H.toFixed(Math.abs(l)<10?i:H.add(i,H.mul(H.per(u),l)))}function Sq(e,t,r,o,n,i){let l=M.rng(e),u=ht(t).strokeWidth,s=n?H.nudge(r,o,u):r,c=i?H.nudge(o,r,u):o,d=Yr([s,c],{size:u,thinning:.618+l()*.2,easing:m0.easeOutQuad,simulatePressure:!0,streamline:0,last:!0});return M.getSvgPathFromStroke(d)}function Rq(e,t,r,o,n,i,l,u,s,c){let d=M.rng(e),h=ht(t).strokeWidth,C=n?H.rotWith(r,l,h/s):r,E=i?H.rotWith(o,l,-(h/s)):o,v=H.angle(l,C),_=H.angle(l,E),y=[],x=8+Math.floor(Math.abs(s)/20*1+d()/2);for(let D=0;D<x;D++){let F=c(D/x),k=M.lerpAngles(v,_,F);y.push(H.toFixed(H.nudgeAtAngle(l,k,u)))}let S=Yr([C,...y,E],{size:1+h,thinning:.618+d()*.2,easing:m0.easeOutQuad,simulatePressure:!1,streamline:0,last:!0});return M.getSvgPathFromStroke(S)}function so(e,t,r){return M.circleFromThreePoints(e,r,t)}function da(e,t,r,o,n){let i=Pn(e,t*.618,r,o).points;if(!i)return W.warn("Could not find an intersection for the arrow head."),{left:e,right:e};let l=n?i[0]:i[1],u=l?H.nudge(H.rotWith(l,e,Math.PI/6),e,t*-.382):e,s=l?H.nudge(H.rotWith(l,e,-Math.PI/6),e,t*-.382):e;return{left:u,right:s}}function ha(e,t,r){let o=Z0(e,r,e,t).points;if(!o)return W.warn("Could not find an intersection for the arrow head."),{left:e,right:e};let n=o[0],i=n?H.rotWith(n,e,Math.PI/6):e,l=n?H.rotWith(n,e,-Math.PI/6):e;return{left:i,right:l}}function l2(e,t,r,o,n){let{left:i,right:l}=da(e,t,r,o,n);return`M ${i} L ${e} ${l}`}function s2(e,t,r){let{left:o,right:n}=ha(e,t,r);return`M ${o} L ${e} ${n}`}function Iq(e,t,r,o,n,i){let{strokeWidth:l}=ht(e,!1),u=H.dist(t,o),s=Math.min(u/3,l*8),c=[];if(H.dist(r,H.toFixed(H.med(t,o)))<1)c.push(`M ${t} L ${o}`),n&&c.push(s2(t,o,s)),i&&c.push(s2(o,t,s));else{let d=so(t,r,o),h=[d[0],d[1]],C=d[2],E=_n(h,C,t,o);c.push(`M ${t} A ${C} ${C} 0 0 ${E>0?"1":"0"} ${o}`),n&&c.push(l2(t,s,h,C,E<0)),i&&c.push(l2(o,s,h,C,E>=0))}return c.join(" ")}function x0(e,t,r){if(H.dist2(t,H.med(e,r))<=4)return[e,r];let o=[],n=so(e,t,r),i=[n[0],n[1]],l=n[2],u=H.angle(i,e),s=H.angle(i,r);for(let c=0;c<20;c++){let d=c/19,h=M.lerpAngles(u,s,d);o.push(H.nudgeAtAngle(i,h,l))}return o}function Mq(e,t,r){if(r===e||r===t)return!0;let o=Math.PI*2,n=(t-e+o)%o,i=(r-e+o)%o;return n<=Math.PI!=i>n}function _n(e,t,r,o){let n=M.getSweep(e,r,o);return t*(2*Math.PI)*(n/(2*Math.PI))}function L0({left:e,middle:t,right:r,stroke:o,strokeWidth:n}){return a.createElement("g",null,a.createElement("path",{className:"tl-stroke-hitarea",d:`M ${e} L ${t} ${r}`}),a.createElement("path",{d:`M ${e} L ${t} ${r}`,fill:"none",stroke:o,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}))}var Dq=a.memo(function({id:e,style:t,start:r,bend:o,end:n,arrowBend:i,decorationStart:l,decorationEnd:u,isDraw:s,isDarkMode:c}){let d=H.dist(r,n);if(d<2)return null;let h=ht(t,c),{strokeWidth:C}=h,E=1+C*1.618,v=so(r,o,n),_=[v[0],v[1]],y=v[2],x=_n(_,y,r,n),S=M.rng(e),D=m0[S()>0?"easeInOutSine":"easeInOutCubic"],F=s?Rq(e,t,r,n,l,u,_,y,x,D):Lq(r,n,v,i),{strokeDasharray:k,strokeDashoffset:P}=M.getPerfectDashProps(Math.abs(x),E,t.dash,2,!1),A=Math.min(d/3,C*8),Z=l?da(r,A,_,y,x<0):null,oe=u?da(n,A,_,y,x>=0):null;return a.createElement(a.Fragment,null,a.createElement("path",{className:"tl-stroke-hitarea",d:F}),a.createElement("path",{d:F,fill:s?h.stroke:"none",stroke:h.stroke,strokeWidth:s?0:E,strokeDasharray:k,strokeDashoffset:P,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none"}),Z&&a.createElement(L0,{left:Z.left,middle:r,right:Z.right,stroke:h.stroke,strokeWidth:E}),oe&&a.createElement(L0,{left:oe.left,middle:n,right:oe.right,stroke:h.stroke,strokeWidth:E}))}),kq=a.memo(function({id:e,style:t,start:r,end:o,decorationStart:n,decorationEnd:i,isDraw:l,isDarkMode:u}){let s=H.dist(r,o);if(s<2)return null;let c=ht(t,u),{strokeWidth:d}=c,h=1+d*1.618,C=l?Sq(e,t,r,o,n,i):"M"+H.toFixed(r)+"L"+H.toFixed(o),{strokeDasharray:E,strokeDashoffset:v}=M.getPerfectDashProps(s,d*1.618,t.dash,2,!1),_=Math.min(s/3,d*8),y=n?ha(r,o,_):null,x=i?ha(o,r,_):null;return a.createElement(a.Fragment,null,a.createElement("path",{className:"tl-stroke-hitarea",d:C}),a.createElement("path",{d:C,fill:c.stroke,stroke:c.stroke,strokeWidth:l?h/2:h,strokeDasharray:E,strokeDashoffset:v,strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"stroke"}),y&&a.createElement(L0,{left:y.left,middle:r,right:y.right,stroke:c.stroke,strokeWidth:h}),x&&a.createElement(L0,{left:x.left,middle:o,right:x.right,stroke:c.stroke,strokeWidth:h}))}),Pq=class extends st{constructor(){super(...arguments),g(this,"type","arrow"),g(this,"hideBounds",!0),g(this,"canEdit",!0),g(this,"pathCache",new WeakMap),g(this,"getShape",e=>{var t,r,o,n;return I({id:"id",type:"arrow",name:"Arrow",parentId:"page",childIndex:1,point:[0,0],rotation:0,bend:0,handles:{start:I({id:"start",index:0,point:[0,0],canBind:!0},(t=e.handles)==null?void 0:t.start),end:I({id:"end",index:1,point:[1,1],canBind:!0},(r=e.handles)==null?void 0:r.end),bend:I({id:"bend",index:2,point:[.5,.5]},(o=e.handles)==null?void 0:o.bend)},decorations:(n=e.decorations)!=null?n:{end:"arrow"},style:I(z(I({},or),{isFilled:!1}),e.style),label:"",labelPoint:[.5,.5]},e)}),g(this,"Component",st.Component(({shape:e,isEditing:t,isGhost:r,meta:o,events:n,onShapeChange:i,onShapeBlur:l},u)=>{var s,c;let{id:d,label:h="",handles:{start:C,bend:E,end:v},decorations:_={},style:y}=e,x=(c=(s=h?.trim())==null?void 0:s.length)!=null?c:0>0,S=w.dist(E.point,w.toFixed(w.med(C.point,v.point)))<1,D=wr(y),F=ht(y,o.isDarkMode),k=x||t?wn(h,D):[0,0],P=this.getBounds(e),A=a.useMemo(()=>{let{start:_e,bend:ye,end:Ke}=e.handles;if(S)return w.dist(_e.point,Ke.point);let Ze=so(_e.point,ye.point,Ke.point),ut=Ze.slice(0,2),ie=Ze[2],Ve=_n(ut,ie,_e.point,Ke.point);return Math.abs(Ve)},[e.handles]),Z=Math.max(.5,Math.min(1,Math.max(A/(k[1]+128),A/(k[0]+128)))),oe=a.useMemo(()=>{let _e=this.getBounds(e);return w.sub(e.handles.bend.point,w.toFixed([_e.width/2,_e.height/2]))},[e,Z]),be=a.useCallback(_e=>{i?.({id:d,label:_e})},[i]),ce=S?kq:Dq;return a.createElement($q,I({ref:u},n),a.createElement(w0,{font:D,text:h,color:F.stroke,offsetX:oe[0],offsetY:oe[1],scale:Z,isEditing:t,onChange:be,onBlur:l}),a.createElement(P1,{id:e.id+"_svg"},a.createElement("defs",null,a.createElement("mask",{id:e.id+"_clip"},a.createElement("rect",{x:-100,y:-100,width:P.width+200,height:P.height+200,fill:"white"}),a.createElement("rect",{x:P.width/2-k[0]/2*Z+oe[0],y:P.height/2-k[1]/2*Z+oe[1],width:k[0]*Z,height:k[1]*Z,rx:4*Z,ry:4*Z,fill:"black",opacity:1}))),a.createElement("g",{pointerEvents:"none",opacity:r?.3:1,mask:x||t?`url(#${e.id}_clip)`:""},a.createElement(ce,{id:d,style:y,start:C.point,end:v.point,bend:E.point,arrowBend:e.bend,decorationStart:_?.start,decorationEnd:_?.end,isDraw:y.dash==="draw",isDarkMode:o.isDarkMode}))))})),g(this,"Indicator",st.Indicator(({shape:e,bounds:t})=>{var r,o;let{style:n,decorations:i,label:l,handles:{start:u,bend:s,end:c}}=e,d=(o=(r=l?.trim())==null?void 0:r.length)!=null?o:0>0,h=wr(n),C=d?wn(l,h):[0,0],E=w.dist(s.point,w.toFixed(w.med(u.point,c.point)))<1,v=a.useMemo(()=>{let{start:x,bend:S,end:D}=e.handles;if(E)return w.dist(x.point,D.point);let F=so(x.point,S.point,D.point),k=F.slice(0,2),P=F[2],A=_n(k,P,x.point,D.point);return Math.abs(A)},[e.handles]),_=Math.max(.5,Math.min(1,Math.max(v/(C[1]+128),v/(C[0]+128)))),y=a.useMemo(()=>{let x=this.getBounds(e);return w.sub(e.handles.bend.point,[x.width/2,x.height/2])},[e,_]);return a.createElement(a.Fragment,null,d&&a.createElement(dq,{id:e.id,scale:_,offset:y,bounds:t,labelSize:C}),a.createElement("path",{d:Iq(n,u.point,s.point,c.point,i?.start,i?.end),mask:d?`url(#${e.id}_clip)`:""}),d&&a.createElement("rect",{x:t.width/2-C[0]/2*_+y[0],y:t.height/2-C[1]/2*_+y[1],width:C[0]*_,height:C[1]*_,rx:4*_,ry:4*_,fill:"transparent"}))})),g(this,"getBounds",e=>{let t=M.getFromCache(this.boundsCache,e,()=>{let{handles:{start:r,bend:o,end:n}}=e;return M.getBoundsFromPoints(x0(r.point,o.point,n.point))});return M.translateBounds(t,e.point)}),g(this,"getRotatedBounds",e=>{let{handles:{start:t,bend:r,end:o}}=e,n=x0(t.point,r.point,o.point),{minX:i,minY:l,maxX:u,maxY:s}=M.getBoundsFromPoints(n);return e.rotation!==0&&(n=n.map(c=>w.rotWith(c,[(i+u)/2,(l+s)/2],e.rotation||0))),M.translateBounds(M.getBoundsFromPoints(n),e.point)}),g(this,"getCenter",e=>{let{start:t,end:r}=e.handles;return w.add(e.point,w.med(t.point,r.point))}),g(this,"shouldRender",(e,t)=>t.decorations!==e.decorations||t.handles!==e.handles||t.style!==e.style||t.label!==e.label),g(this,"hitTestPoint",(e,t)=>{let{handles:{start:r,bend:o,end:n}}=e,i=w.sub(t,e.point),l=x0(r.point,o.point,n.point);for(let u=1;u<l.length;u++)if(w.distanceToLineSegment(l[u-1],l[u],i)<1)return!0;return!1}),g(this,"hitTestLineSegment",(e,t,r)=>{let{handles:{start:o,bend:n,end:i}}=e,l=w.sub(t,e.point),u=w.sub(r,e.point),s=x0(o.point,n.point,i.point);for(let c=1;c<s.length;c++)if(j1(s[c-1],s[c],l,u).didIntersect)return!0;return!1}),g(this,"hitTestBounds",(e,t)=>{let{start:r,end:o,bend:n}=e.handles,i=w.add(e.point,r.point),l=w.add(e.point,o.point);if(M.pointInBounds(i,t)||M.pointInBounds(l,t))return!0;if(w.isEqual(w.med(r.point,o.point),n.point))return an(i,l,t).length>0;{let[u,s,c]=so(r.point,n.point,o.point),d=w.add(e.point,[u,s]);return kn(d,c,i,l,t).length>0}}),g(this,"transform",(e,t,{initialShape:r,scaleX:o,scaleY:n})=>{let i=this.getBounds(r),l=["start","end"],u=I({},r.handles);l.forEach(d=>{if(d==="bend")return;let[h,C]=u[d].point,E=h/i.width,v=C/i.height;u[d]=z(I({},u[d]),{point:[t.width*(o<0?1-E:E),t.height*(n<0?1-v:v)]})});let s=o>0&&n<0||o<0&&n>0?-r.bend:r.bend,c=y0(u,s);return u.bend.point=c,{point:w.toFixed([t.minX,t.minY]),handles:u,bend:s}}),g(this,"onDoubleClickHandle",(e,t)=>{var r,o;switch(t){case"bend":return{bend:0,handles:z(I({},e.handles),{bend:z(I({},e.handles.bend),{point:y0(e.handles,e.bend)})})};case"start":return{decorations:z(I({},e.decorations),{start:(r=e.decorations)!=null&&r.start?void 0:"arrow"})};case"end":return{decorations:z(I({},e.decorations),{end:(o=e.decorations)!=null&&o.end?void 0:"arrow"})}}return this}),g(this,"onHandleChange",(e,t)=>{let r=M.deepMerge(e.handles,t),o=e.bend;if(r=M.deepMerge(r,{start:{point:w.toFixed(r.start.point)},end:{point:w.toFixed(r.end.point)}}),w.isEqual(r.start.point,r.end.point))return;if("bend"in t){let{start:s,end:c,bend:d}=r,h=w.dist(s.point,c.point),C=w.med(s.point,c.point),E=w.angle(s.point,c.point),v=w.uni(w.vec(s.point,c.point)),_=w.add(C,w.mul(w.per(v),h)),y=w.sub(C,w.mul(w.per(v),h)),x=w.nearestPointOnLineSegment(_,y,d.point,!0),S=w.dist(C,x)/(h/2);o=M.clamp(S,-.99,.99);let D=w.angle(s.point,x);w.isEqual(C,y0(r,o))?o=0:Mq(E,E+Math.PI,D)&&(o*=-1)}let n={point:e.point,bend:o,handles:z(I({},r),{bend:z(I({},r.bend),{point:y0(r,o)})})},i=e.point,l=this.getBounds(I({},n)),u=w.sub([l.minX,l.minY],i);return w.isEqual(u,[0,0])||(Object.values(n.handles).forEach(s=>{s.point=w.toFixed(w.sub(s.point,u))}),n.point=w.toFixed(w.add(n.point,u))),n}),g(this,"getSvgElement",(e,t)=>{var r,o,n,i,l;let u=(r=document.getElementById(e.id+"_svg"))==null?void 0:r.cloneNode(!0);if(!!u){if((i=(n=(o=e.label)==null?void 0:o.trim())==null?void 0:n.length)!=null?i:0>0){let s=e,c=document.createElementNS("http://www.w3.org/2000/svg","g"),d=wr(e.style),h=wn(e.label,d),C=E0(e.style.size,e.style.font)*((l=e.style.scale)!=null?l:1),E=Ho(e.style.font).slice(1,-1),v=C0(s.label,C,E,"start",h[0],!1),_,{start:y,bend:x,end:S}=e.handles;if(w.dist(x.point,w.toFixed(w.med(y.point,S.point)))<1)_=w.dist(y.point,S.point);else{let Z=so(y.point,x.point,S.point),oe=Z.slice(0,2),be=Z[2],ce=_n(oe,be,y.point,S.point);_=Math.abs(ce)}let D=Math.max(.5,Math.min(1,Math.max(_/(h[1]+128),_/(h[0]+128)))),F=this.getBounds(e),k=w.sub(e.handles.bend.point,[F.width/2,F.height/2]),P=F.width/2-h[0]/2*D+k[0],A=F.height/2-h[1]/2*D+k[1];return v.setAttribute("transform",`translate(${P}, ${A})`),v.setAttribute("fill",ht(e.style,t).stroke),v.setAttribute("transform-origin","center center"),c.setAttribute("text-align","center"),c.setAttribute("text-anchor","middle"),c.appendChild(u),c.appendChild(v),c}return u}})}},$q=de("div",{width:"100%",height:"100%"}),Bq={easing:e=>Math.sin(e*Math.PI/2),simulatePressure:!0},Hq={easing:e=>e*e,simulatePressure:!1};function fa(e){let t=ht(e.style);return z(I({size:1+t.strokeWidth*1.5,thinning:.65,streamline:.65,smoothing:.65},e.points[1][2]===.5?Bq:Hq),{last:e.isComplete})}function Aq(e){return e.points.length<2?"":M.getSvgPathFromStroke(Hr(e.points,fa(e)).map(t=>t.point))}function u2(e,t){return Hr(e.points,t)}function Tq(e){if(e.points.length<2)return"";let t=fa(e),r=u2(e,t);return M.getSvgPathFromStroke(Qo(r,t))}function c2(e){let{points:t}=e;if(t.length<2)return"M 0 0 L 0 0";let r=fa(e),o=u2(e,r),n=t[t.length-1];return H.isEqual(o[0].point,n)||o.push({point:n}),M.getSvgPathFromStrokePoints(o)}var Oq=class extends st{constructor(){super(...arguments),g(this,"type","draw"),g(this,"pointsBoundsCache",new WeakMap([])),g(this,"shapeBoundsCache",new Map),g(this,"rotatedCache",new WeakMap([])),g(this,"pointCache",{}),g(this,"canClone",!0),g(this,"getShape",e=>M.deepMerge({id:"id",type:"draw",name:"Draw",parentId:"page",childIndex:1,point:[0,0],rotation:0,style:or,points:[],isComplete:!1},e)),g(this,"Component",st.Component(({shape:e,meta:t,isSelected:r,isGhost:o,events:n},i)=>{let{points:l,style:u,isComplete:s}=e,c=a.useMemo(()=>Aq(e),[l,u.size]),d=a.useMemo(()=>u.dash==="draw"?Tq(e):c2(e),[l,u.size,u.dash,s]),h=ht(u,t.isDarkMode),{stroke:C,fill:E,strokeWidth:v}=h,_=this.getBounds(e);if(_.width<=v/2&&_.height<=v/2){let F=1+v;return a.createElement(P1,I({ref:i,id:e.id+"_svg"},n),a.createElement("circle",{r:F,fill:C,stroke:C,pointerEvents:"all",opacity:o?.3:1}))}let y=u.isFilled&&l.length>3&&w.dist(l[0],l[l.length-1])<v*2;if(e.style.dash==="draw")return a.createElement(P1,I({ref:i,id:e.id+"_svg"},n),a.createElement("g",{opacity:o?.3:1},a.createElement("path",{className:y||r?"tl-fill-hitarea":"tl-stroke-hitarea",d}),y&&a.createElement("path",{d:c,stroke:"none",fill:E,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),a.createElement("path",{d,fill:C,stroke:C,strokeWidth:v/2,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})));let x={draw:"none",solid:"none",dotted:`0.1 ${v*4}`,dashed:`${v*4} ${v*4}`}[u.dash],S={draw:"none",solid:"none",dotted:"0",dashed:"0"}[u.dash],D=1+v*1.5;return a.createElement(P1,I({ref:i,id:e.id+"_svg"},n),a.createElement("g",{opacity:o?.3:1},a.createElement("path",{className:y&&r?"tl-fill-hitarea":"tl-stroke-hitarea",d}),a.createElement("path",{d,fill:y?E:"none",stroke:"none",strokeWidth:Math.min(4,v*2),strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"}),a.createElement("path",{d,fill:"none",stroke:C,strokeWidth:D,strokeDasharray:x,strokeDashoffset:S,strokeLinejoin:"round",strokeLinecap:"round",pointerEvents:"none"})))})),g(this,"Indicator",st.Indicator(({shape:e})=>{let{points:t}=e,r=a.useMemo(()=>c2(e),[t]),o=this.getBounds(e);return o.width<4&&o.height<4?a.createElement("circle",{x:o.width/2,y:o.height/2,r:1}):a.createElement("path",{d:r})})),g(this,"transform",(e,t,{initialShape:r,scaleX:o,scaleY:n})=>{let i=M.getFromCache(this.boundsCache,r,()=>M.getBoundsFromPoints(r.points)),l=r.points.map(([c,d,h])=>[t.width*(o<0?1-c/i.width:c/i.width),t.height*(n<0?1-d/i.height:d/i.height),h]),u=M.getBoundsFromPoints(e.points),s=w.sub([t.minX,t.minY],[u.minX,u.minY]);return{points:l,point:s}}),g(this,"getBounds",e=>{let t=!this.pointsBoundsCache.has(e.points),r=this.pointCache[e.id]!==e.point;if(t){let o=M.getBoundsFromPoints(e.points);this.pointsBoundsCache.set(e.points,o),this.shapeBoundsCache.set(e.id,M.translateBounds(o,e.point)),this.pointCache[e.id]=e.point}else r&&!t&&(this.pointCache[e.id]=e.point,this.shapeBoundsCache.set(e.id,M.translateBounds(this.pointsBoundsCache.get(e.points),e.point)));return this.shapeBoundsCache.get(e.id)}),g(this,"shouldRender",(e,t)=>t.points!==e.points||t.style!==e.style||t.isComplete!==e.isComplete),g(this,"hitTestPoint",(e,t)=>{let r=w.sub(t,e.point);return M.pointInPolyline(r,e.points)}),g(this,"hitTestLineSegment",(e,t,r)=>{let{points:o,point:n}=e,i=w.sub(t,n),l=w.sub(r,n),u=this.getBounds(e);if(u.width<8&&u.height<8)return w.distanceToLineSegment(t,r,M.getBoundsCenter(u))<5;if(an(i,l,u)){for(let s=1;s<o.length;s++)if(j1(o[s-1],o[s],i,l).didIntersect)return!0}return!1}),g(this,"hitTestBounds",(e,t)=>{if(!e.rotation){let n=this.getBounds(e);return M.boundsContain(t,n)||(M.boundsContain(n,t)||U0(n,t).length>0)&&Tn(M.translateBounds(t,w.neg(e.point)),e.points).length>0}let r=this.getRotatedBounds(e),o=M.getFromCache(this.rotatedCache,e,()=>{let n=M.getBoundsCenter(M.getBoundsFromPoints(e.points));return e.points.map(i=>w.rotWith(i,n,e.rotation||0))});return M.boundsContain(t,r)||Tn(M.translateBounds(t,w.neg(e.point)),o).length>0})}},Fq=a.memo(function({radius:e,style:t,isSelected:r,isDarkMode:o}){let{stroke:n,strokeWidth:i,fill:l}=ht(t,o),u=1+i*1.618,s=Math.max(0,e[0]-u/2),c=Math.max(0,e[1]-u/2),d=M.perimeterOfEllipse(s,c),{strokeDasharray:h,strokeDashoffset:C}=M.getPerfectDashProps(d<64?d*2:d,i*1.618,t.dash,4);return a.createElement(a.Fragment,null,a.createElement("ellipse",{className:t.isFilled||r?"tl-fill-hitarea":"tl-stroke-hitarea",cx:e[0],cy:e[1],rx:e[0],ry:e[1]}),a.createElement("ellipse",{cx:e[0],cy:e[1],rx:s,ry:c,fill:l,stroke:n,strokeWidth:u,strokeDasharray:h,strokeDashoffset:C,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))});function d2(e,t,r){let{strokeWidth:o}=ht(r),n=M.rng(e),i=t[0]+n()*o*2,l=t[1]+n()*o*2,u=M.perimeterOfEllipse(i,l),s=[],c=Math.PI+Math.PI*n(),d=Math.abs(n()),h=Math.max(16,u/10);for(let C=0;C<h;C++){let E=m0.easeInOutSine(C/(h+1)),v=c*2+Math.PI*(2+d)*E,_=Math.cos(v),y=Math.sin(v);s.push([i*_+t[0],l*y+t[1],E+.5+n()/2])}return Hr(s,{size:1+o*2,thinning:.618,end:{taper:u/8},start:{taper:u/12},streamline:0,simulatePressure:!0})}function jq(e,t,r){let{strokeWidth:o}=ht(r),n=M.rng(e),i=t[0]+n()*o*2,l=t[1]+n()*o*2,u=M.perimeterOfEllipse(i,l);return M.getSvgPathFromStroke(Qo(d2(e,t,r),{size:2+o*2,thinning:.618,end:{taper:u/8},start:{taper:u/12},streamline:0,simulatePressure:!0}))}function h2(e,t,r){return M.getSvgPathFromStrokePoints(d2(e,t,r))}var Vq=a.memo(function({id:e,radius:t,style:r,isSelected:o,isDarkMode:n}){let{stroke:i,strokeWidth:l,fill:u}=ht(r,n),s=jq(e,t,r);return a.createElement(a.Fragment,null,a.createElement("ellipse",{className:r.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",cx:t[0],cy:t[1],rx:t[0],ry:t[1]}),r.isFilled&&a.createElement("path",{d:h2(e,t,r),stroke:"none",fill:u,pointerEvents:"none"}),a.createElement("path",{d:s,fill:i,stroke:i,strokeWidth:l,pointerEvents:"none",strokeLinecap:"round",strokeLinejoin:"round"}))}),Zq=class extends st{constructor(){super(...arguments),g(this,"type","ellipse"),g(this,"canBind",!0),g(this,"canClone",!0),g(this,"canEdit",!0),g(this,"getShape",e=>M.deepMerge({id:"id",type:"ellipse",name:"Ellipse",parentId:"page",childIndex:1,point:[0,0],radius:[1,1],rotation:0,style:or,label:"",labelPoint:[.5,.5]},e)),g(this,"Component",st.Component(({shape:e,isGhost:t,isSelected:r,isBinding:o,isEditing:n,meta:i,bounds:l,events:u,onShapeChange:s,onShapeBlur:c},d)=>{let{id:h,radius:C,style:E,label:v="",labelPoint:_=na}=e,y=wr(e.style),x=ht(E,i.isDarkMode),S=x.strokeWidth,D=1+S*1.618,F=Math.max(0,C[0]-D/2),k=Math.max(0,C[1]-D/2),P=E.dash==="draw"?Vq:Fq,A=a.useCallback(Z=>s?.({id:h,label:Z}),[s]);return a.createElement(zq,I({ref:d},u),a.createElement(w0,{isEditing:n,onChange:A,onBlur:c,font:y,text:v,color:x.stroke,offsetX:(_[0]-.5)*l.width,offsetY:(_[1]-.5)*l.height}),a.createElement(P1,{id:e.id+"_svg",opacity:t?.3:1},o&&a.createElement("ellipse",{className:"tl-binding-indicator",cx:C[0],cy:C[1],rx:F,ry:k,strokeWidth:this.bindingDistance}),a.createElement(P,{id:h,radius:C,style:E,isSelected:r,isDarkMode:i.isDarkMode})))})),g(this,"Indicator",st.Indicator(({shape:e})=>{let{id:t,radius:r,style:o}=e,n=ht(o).strokeWidth,i=1+n*1.618,l=Math.max(0,r[0]-i/2),u=Math.max(0,r[1]-i/2);return o.dash==="draw"?a.createElement("path",{d:h2(t,r,o)}):a.createElement("ellipse",{cx:r[0],cy:r[1],rx:l,ry:u})})),g(this,"hitTestPoint",(e,t)=>M.pointInBounds(t,this.getRotatedBounds(e))&&M.pointInEllipse(t,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0)),g(this,"hitTestLineSegment",(e,t,r)=>Ar(t,r,this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0).didIntersect),g(this,"getBounds",e=>M.getFromCache(this.boundsCache,e,()=>M.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],0))),g(this,"getRotatedBounds",e=>M.getRotatedEllipseBounds(e.point[0],e.point[1],e.radius[0],e.radius[1],e.rotation)),g(this,"hitTestBounds",(e,t)=>{let r=this.getBounds(e);return M.boundsContained(r,t)||W0(this.getCenter(e),e.radius[0],e.radius[1],e.rotation||0,t).length>0}),g(this,"shouldRender",(e,t)=>t.radius!==e.radius||t.style!==e.style||t.label!==e.label),g(this,"getCenter",e=>w.add(e.point,e.radius)),g(this,"getBindingPoint",(e,t,r,o,n,i)=>{{let l=this.getExpandedBounds(e),u=this.getCenter(e),s,c;if(!M.pointInEllipse(r,u,e.radius[0]+this.bindingDistance,e.radius[1]+this.bindingDistance))return;if(i)w.dist(r,this.getCenter(e))<12?s=[.5,.5]:s=w.divV(w.sub(r,[l.minX,l.minY]),[l.width,l.height]),c=0;else{let d=nn(o,n,u,e.radius[0],e.radius[1],e.rotation||0).points.sort((C,E)=>w.dist(C,o)-w.dist(E,o))[0];if(d||(d=Ar(r,u,u,e.radius[0],e.radius[1],e.rotation||0).points.sort((C,E)=>w.dist(C,r)-w.dist(E,r))[0]),!d)return;let h=w.med(r,d);if(w.distanceToLineSegment(r,h,this.getCenter(e))<12?s=[.5,.5]:s=w.divV(w.sub(h,[l.minX,l.minY]),[l.width,l.height]),M.pointInEllipse(r,u,e.radius[0],e.radius[1],e.rotation||0))c=this.bindingDistance/2;else{let C=Ar(r,u,u,e.radius[0],e.radius[1],e.rotation||0).points[0];if(!C)return;c=Math.max(this.bindingDistance/2,w.dist(r,C))}}return{point:s,distance:c}}}),g(this,"transform",(e,t,{scaleX:r,scaleY:o,initialShape:n})=>{let{rotation:i=0}=n;return{point:[t.minX,t.minY],radius:[t.width/2,t.height/2],rotation:r<0&&o>=0||o<0&&r>=0?-(i||0):i||0}}),g(this,"transformSingle",(e,t)=>({point:w.toFixed([t.minX,t.minY]),radius:w.div([t.width,t.height],2)}))}},zq=de("div",{width:"100%",height:"100%"}),Nq=class extends st{constructor(){super(...arguments),g(this,"type","group"),g(this,"canBind",!0),g(this,"getShape",e=>M.deepMerge({id:"id",type:"group",name:"Group",parentId:"page",childIndex:1,point:[0,0],size:[100,100],rotation:0,children:[],style:or},e)),g(this,"Component",st.Component(({shape:e,isBinding:t,isGhost:r,isHovered:o,isSelected:n,events:i},l)=>{let{id:u,size:s}=e,c=2,d=Math.max(0,s[0]-c/2),h=Math.max(0,s[1]-c/2),C=[[[c/2,c/2],[d,c/2],d-c/2],[[d,c/2],[d,h],h-c/2],[[d,h],[c/2,h],d-c/2],[[c/2,h],[c/2,c/2],h-c/2]].map(([E,v],_)=>a.createElement("line",{key:u+"_"+_,x1:E[0],y1:E[1],x2:v[0],y2:v[1]}));return a.createElement(P1,I({ref:l},i),t&&a.createElement("rect",{className:"tl-binding-indicator",strokeWidth:this.bindingDistance}),a.createElement("g",{opacity:r?.3:1},a.createElement("rect",{x:0,y:0,width:s[0],height:s[1],fill:"transparent",pointerEvents:"all"}),a.createElement(f2,{stroke:"black",opacity:o||n?1:0,strokeLinecap:"round",pointerEvents:"stroke"},C)))})),g(this,"Indicator",st.Indicator(({shape:e})=>{let{id:t,size:r}=e,o=2,n=Math.max(0,r[0]-o/2),i=Math.max(0,r[1]-o/2),l=[[[o/2,o/2],[n,o/2],n-o/2],[[n,o/2],[n,i],i-o/2],[[n,i],[o/2,i],n-o/2],[[o/2,i],[o/2,o/2],i-o/2]].map(([u,s],c)=>a.createElement("line",{key:t+"_"+c,x1:u[0],y1:u[1],x2:s[0],y2:s[1]}));return a.createElement(f2,{strokeLinecap:"round",pointerEvents:"stroke"},l)})),g(this,"getBounds",e=>$o(e,this.boundsCache)),g(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style)}},f2=de("g",{strokeWidth:"calc(1.5px * var(--tl-scale))",strokeDasharray:"calc(1px * var(--tl-scale)), calc(3px * var(--tl-scale))"}),Wq=class extends st{constructor(){super(...arguments),g(this,"type","image"),g(this,"canBind",!0),g(this,"canClone",!0),g(this,"isAspectRatioLocked",!0),g(this,"showCloneHandles",!1),g(this,"getShape",e=>M.deepMerge({id:"image",type:"image",name:"Image",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:z(I({},or),{isFilled:!0}),assetId:"assetId"},e)),g(this,"Component",st.Component(({shape:e,asset:t={src:""},isBinding:r,isGhost:o,meta:n,events:i,onShapeChange:l},u)=>{let{size:s,style:c}=e,{bindingDistance:d}=this,h=a.useRef(null),C=a.useRef(null);return a.useLayoutEffect(()=>{let E=C.current;if(!E)return;let[v,_]=s;E.style.width=`${v}px`,E.style.height=`${_}px`},[s]),a.createElement(Gn,I({ref:u},i),r&&a.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:`calc(${-d}px * var(--tl-zoom))`,left:`calc(${-d}px * var(--tl-zoom))`,width:`calc(100% + ${d*2}px * var(--tl-zoom))`,height:`calc(100% + ${d*2}px * var(--tl-zoom))`,backgroundColor:"var(--tl-selectFill)"}}),a.createElement(Uq,{ref:C,isDarkMode:n.isDarkMode,isFilled:c.isFilled,isGhost:o},a.createElement(Kq,{id:e.id+"_image",ref:h,src:t.src,alt:"tl_image_asset",draggable:!1})))})),g(this,"Indicator",st.Indicator(({shape:e})=>{let{size:[t,r]}=e;return a.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,r)})})),g(this,"getBounds",e=>$o(e,this.boundsCache)),g(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style),g(this,"transform",b0),g(this,"transformSingle",_0),g(this,"getSvgElement",e=>{let t=this.getBounds(e),r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttribute("width",`${t.width}`),r.setAttribute("height",`${t.height}`),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r})}},Uq=(0,Do.zo)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),Kq=(0,Do.zo)("img",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2});function Gq({strokeWidth:e,size:t}){return a.createElement("rect",{className:"tl-binding-indicator",x:e,y:e,width:Math.max(0,t[0]-e/2),height:Math.max(0,t[1]-e/2),strokeWidth:16*2})}var Xq=a.memo(function({id:e,style:t,size:r,isSelected:o,isDarkMode:n}){let{stroke:i,strokeWidth:l,fill:u}=ht(t,n),s=1+l*1.618,c=Math.max(0,r[0]-s/2),d=Math.max(0,r[1]-s/2),h=[[[s/2,s/2],[c,s/2],c-s/2],[[c,s/2],[c,d],d-s/2],[[c,d],[s/2,d],c-s/2],[[s/2,d],[s/2,s/2],d-s/2]].map(([C,E,v],_)=>{let{strokeDasharray:y,strokeDashoffset:x}=M.getPerfectDashProps(v,l*1.618,t.dash);return a.createElement("line",{key:e+"_"+_,x1:C[0],y1:C[1],x2:E[0],y2:E[1],strokeDasharray:y,strokeDashoffset:x})});return a.createElement(a.Fragment,null,a.createElement("rect",{className:o||t.isFilled?"tl-fill-hitarea":"tl-stroke-hitarea",x:s/2,y:s/2,width:c,height:d,strokeWidth:16}),t.isFilled&&a.createElement("rect",{x:s/2,y:s/2,width:c,height:d,fill:u,pointerEvents:"none"}),a.createElement("g",{pointerEvents:"none",stroke:i,strokeWidth:s,strokeLinecap:"round"},h))});function Yq(e,t,r){let o=ht(t),n=M.rng(e),i=o.strokeWidth,l=Math.max(0,r[0]),u=Math.max(0,r[1]),s=Array.from(Array(4)).map(()=>[n()*i*.75,n()*i*.75]),c=H.add([i/2,i/2],s[0]),d=H.add([l-i/2,i/2],s[1]),h=H.add([l-i/2,u-i/2],s[2]),C=H.add([i/2,u-i/2],s[3]),E=Math.round(Math.abs(n()*2*4)),v=Math.min(l/4,i*2),_=Math.min(u/4,i*2),y=Math.max(8,Math.floor(l/16)),x=Math.max(8,Math.floor(u/16)),S=M.rotateArray([H.pointsBetween(H.add(c,[v,0]),H.sub(d,[v,0]),y),H.pointsBetween(H.add(d,[0,_]),H.sub(h,[0,_]),x),H.pointsBetween(H.sub(h,[v,0]),H.add(C,[v,0]),y),H.pointsBetween(H.sub(C,[0,_]),H.add(c,[0,_]),x)],E);return{points:[...S.flat(),...S[0]].slice(5,Math.floor((E%2===0?y:x)/-2)+3)}}function p2(e,t,r){let{points:o}=Yq(e,t,r),{strokeWidth:n}=ht(t);return{points:o,options:{size:n,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function qq(e,t,r){let{points:o,options:n}=p2(e,t,r),i=Yr(o,n);return M.getSvgPathFromStroke(i)}function g2(e,t,r){let{points:o,options:n}=p2(e,t,r);return M.getSvgPathFromStrokePoints(Hr(o,n))}var Jq=a.memo(function({id:e,style:t,size:r,isSelected:o,isDarkMode:n}){let{isFilled:i}=t,{stroke:l,strokeWidth:u,fill:s}=ht(t,n),c=qq(e,t,r),d=g2(e,t,r);return a.createElement(a.Fragment,null,a.createElement("path",{className:t.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",d}),i&&a.createElement("path",{d,fill:s,pointerEvents:"none"}),a.createElement("path",{d:c,fill:l,stroke:l,strokeWidth:u,pointerEvents:"none"}))}),Qq=class extends st{constructor(){super(...arguments),g(this,"type","rectangle"),g(this,"canBind",!0),g(this,"canClone",!0),g(this,"canEdit",!0),g(this,"getShape",e=>M.deepMerge({id:"id",type:"rectangle",name:"Rectangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:or,label:"",labelPoint:[.5,.5]},e)),g(this,"Component",st.Component(({shape:e,isEditing:t,isBinding:r,isSelected:o,isGhost:n,meta:i,bounds:l,events:u,onShapeBlur:s,onShapeChange:c},d)=>{let{id:h,size:C,style:E,label:v="",labelPoint:_=na}=e,y=wr(E),x=ht(E,i.isDarkMode),S=E.dash==="draw"?Jq:Xq,D=a.useCallback(F=>c?.({id:h,label:F}),[c]);return a.createElement(eJ,I({ref:d},u),a.createElement(w0,{isEditing:t,onChange:D,onBlur:s,font:y,text:v,color:x.stroke,offsetX:(_[0]-.5)*l.width,offsetY:(_[1]-.5)*l.height}),a.createElement(P1,{id:e.id+"_svg",opacity:n?.3:1},r&&a.createElement(Gq,{strokeWidth:x.strokeWidth,size:C}),a.createElement(S,{id:h,style:E,size:C,isSelected:o,isDarkMode:i.isDarkMode})))})),g(this,"Indicator",st.Indicator(({shape:e})=>{let{id:t,style:r,size:o}=e,n=ht(r,!1).strokeWidth;return r.dash==="draw"?a.createElement("path",{d:g2(t,r,o)}):a.createElement("rect",{x:n,y:n,rx:1,ry:1,width:Math.max(1,o[0]-n*2),height:Math.max(1,o[1]-n*2)})})),g(this,"getBounds",e=>$o(e,this.boundsCache)),g(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label),g(this,"transform",b0),g(this,"transformSingle",_0)}},eJ=de("div",{width:"100%",height:"100%"}),tJ=class extends st{constructor(){super(...arguments),g(this,"type","sticky"),g(this,"canBind",!0),g(this,"canEdit",!0),g(this,"canClone",!0),g(this,"hideResizeHandles",!0),g(this,"showCloneHandles",!0),g(this,"getShape",e=>M.deepMerge({id:"id",type:"sticky",name:"Sticky",parentId:"page",childIndex:1,point:[0,0],size:[200,200],text:"",rotation:0,style:ca},e)),g(this,"Component",st.Component(({shape:e,meta:t,events:r,isGhost:o,isBinding:n,isEditing:i,onShapeBlur:l,onShapeChange:u},s)=>{let c=bq(e.style),{color:d,fill:h}=n2(e.style,t.isDarkMode),C=a.useRef(null),E=a.useRef(null),v=a.useRef(null),_=a.useRef(!1),y=a.useCallback(A=>{A.stopPropagation()},[]),x=a.useCallback(A=>{u?.({id:e.id,type:e.type,text:W.normalizeText(A)})},[e.id]),S=a.useCallback(A=>{x(A.currentTarget.value)},[u,x]),D=a.useCallback(A=>{if(A.key==="Escape"){A.preventDefault(),A.stopPropagation(),l?.();return}if(A.key==="Tab"&&e.text.length===0){A.preventDefault();return}if(!(A.key==="Meta"||A.metaKey))A.stopPropagation();else if(A.key==="z"&&A.metaKey){A.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),A.stopPropagation(),A.preventDefault();return}(A.metaKey||A.ctrlKey)&&A.key==="="&&A.preventDefault(),A.key==="Tab"&&(A.preventDefault(),A.shiftKey?i1.unindent(A.currentTarget):i1.indent(A.currentTarget),u?.(z(I({},e),{text:W.normalizeText(A.currentTarget.value)})))},[e,u]),F=a.useCallback(A=>{A.currentTarget.setSelectionRange(0,0),l?.()},[]),k=a.useCallback(A=>{!i||!_.current||A.currentTarget.select()},[i]);a.useEffect(()=>{if(i){_.current=!0;let A=E.current;A.focus(),A.select()}},[i]),a.useEffect(()=>{let A=v.current,{size:Z}=e,{offsetHeight:oe}=A,be=pa-nr*2,ce=Z[1]-nr*2;if(oe===ce)return;if(oe>be){u?.({id:e.id,size:[Z[0],oe+nr*2]});return}if(oe<be&&Z[1]>pa){u?.({id:e.id,size:[Z[0],pa]});return}let _e=E.current;_e?.focus()},[e.text,e.size[1],e.style]);let P={font:c,color:d,textShadow:t.isDarkMode?"0.5px 0.5px 2px rgba(255, 255, 255,.25)":"0.5px 0.5px 2px rgba(255, 255, 255,.5)"};return a.createElement(Gn,I({ref:s},r),a.createElement(rJ,{ref:C,isDarkMode:t.isDarkMode,isGhost:o,style:I({backgroundColor:h},P)},n&&a.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),a.createElement(oJ,{ref:v,isEditing:i,alignment:e.style.textAlign},e.text,"\u200B"),i&&a.createElement(nJ,{ref:E,onPointerDown:y,value:e.text,onChange:S,onKeyDown:D,onFocus:k,onBlur:F,tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,spellCheck:!0,alignment:e.style.textAlign,onContextMenu:_1,onCopy:_1,onPaste:_1,onCut:_1})))})),g(this,"Indicator",st.Indicator(({shape:e})=>{let{size:[t,r]}=e;return a.createElement("rect",{x:0,y:0,rx:3,ry:3,width:Math.max(1,t),height:Math.max(1,r)})})),g(this,"getBounds",e=>$o(e,this.boundsCache)),g(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.text!==e.text),g(this,"transform",(e,t,{scaleX:r,scaleY:o,transformOrigin:n})=>({point:w.toFixed([t.minX+(t.width-e.size[0])*(r<0?1-n[0]:n[0]),t.minY+(t.height-e.size[1])*(o<0?1-n[1]:n[1])])})),g(this,"transformSingle",e=>e),g(this,"getSvgElement",(e,t)=>{var r,o;let n=this.getBounds(e),i=n2(e.style,t),l=o2(e.style.size)*((r=e.style.scale)!=null?r:1),u=Ho(e.style.font).slice(1,-1),s=(o=e.style.textAlign)!=null?o:"start",c=C0(e.text,l,u,s,n.width-nr*2,!0);c.setAttribute("fill",i.color),c.setAttribute("transform",`translate(${nr}, ${nr})`);let d=document.createElementNS("http://www.w3.org/2000/svg","g"),h=document.createElementNS("http://www.w3.org/2000/svg","rect");return h.setAttribute("width",n.width+""),h.setAttribute("height",n.height+""),h.setAttribute("fill",i.fill),h.setAttribute("rx","3"),h.setAttribute("ry","3"),d.appendChild(h),d.appendChild(c),d})}},nr=16,pa=200,rJ=de("div",{pointerEvents:"all",position:"relative",backgroundColor:"rgba(255, 220, 100)",fontFamily:"sans-serif",height:"100%",width:"100%",padding:nr+"px",borderRadius:"3px",perspective:"800px",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isDarkMode:{true:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"},false:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}}}),m2={whiteSpace:"pre-wrap",overflowWrap:"break-word",letterSpacing:lo},oJ=de("div",I({position:"absolute",top:nr,left:nr,width:`calc(100% - ${nr*2}px)`,height:"fit-content",font:"inherit",pointerEvents:"none",userSelect:"none",variants:{isEditing:{true:{opacity:1},false:{opacity:1}},alignment:{start:{textAlign:"left"},middle:{textAlign:"center"},end:{textAlign:"right"},justify:{textAlign:"justify"}}}},m2)),nJ=de("textarea",z(I({width:"100%",height:"100%",border:"none",overflow:"hidden",background:"none",outline:"none",textAlign:"left",font:"inherit",padding:0,color:"transparent",verticalAlign:"top",resize:"none",caretColor:"black"},m2),{variants:{alignment:{start:{textAlign:"left"},middle:{textAlign:"center"},end:{textAlign:"right"},justify:{textAlign:"justify"}}},"&:focus":{outline:"none",border:"none"}})),iJ=class extends st{constructor(){super(...arguments),g(this,"type","text"),g(this,"isAspectRatioLocked",!0),g(this,"canEdit",!0),g(this,"canBind",!0),g(this,"canClone",!0),g(this,"bindingDistance",16/2),g(this,"getShape",e=>M.deepMerge({id:"id",type:"text",name:"Text",parentId:"page",childIndex:1,point:[0,0],rotation:0,text:" ",style:ca},e)),g(this,"texts",new Map),g(this,"Component",st.Component(({shape:e,isBinding:t,isGhost:r,isEditing:o,onShapeBlur:n,onShapeChange:i,meta:l,events:u},s)=>{let{text:c,style:d}=e,h=ht(d,l.isDarkMode),C=wr(e.style),E=a.useRef(null),v=a.useRef(!1),_=a.useRef(c);a.useLayoutEffect(()=>{if(c!==_.current){let k=[0,0];this.texts.set(e.id,c);let P=this.getBounds(e),A=this.getBounds(e);switch(e.style.textAlign){case"start":break;case"middle":{k=w.div([A.width-P.width,0],2);break}case"end":{k=[A.width-P.width,0];break}}_.current=c,i?.(z(I({},e),{id:e.id,point:w.sub(e.point,k),text:c}))}},[c]);let y=a.useCallback(k=>{let P=[0,0],A=W.normalizeText(k.currentTarget.value),Z=this.getBounds(e);this.texts.set(e.id,A);let oe=this.getBounds(z(I({},e),{text:A}));switch(e.style.textAlign){case"start":break;case"middle":{P=w.div([oe.width-Z.width,0],2);break}case"end":{P=[oe.width-Z.width,0];break}}_.current=A,i?.(z(I({},e),{id:e.id,point:w.sub(e.point,P),text:A}))},[e.id,e.point]),x=a.useCallback(k=>{if(k.key==="Escape"){k.preventDefault(),k.stopPropagation(),n?.();return}if(k.key==="Tab"&&e.text.length===0){k.preventDefault();return}if(k.key==="Enter"&&(k.metaKey||k.ctrlKey)){k.preventDefault(),k.stopPropagation(),E.current.blur();return}if(!(k.key==="Meta"||k.metaKey))k.stopPropagation();else if(k.key==="z"&&k.metaKey){k.shiftKey?document.execCommand("redo",!1):document.execCommand("undo",!1),k.stopPropagation(),k.preventDefault();return}(k.metaKey||k.ctrlKey)&&k.key==="="&&k.preventDefault(),k.key==="Tab"&&(k.preventDefault(),k.shiftKey?i1.unindent(k.currentTarget):i1.indent(k.currentTarget),i?.(z(I({},e),{text:W.normalizeText(k.currentTarget.value)})))},[e,i]),S=a.useCallback(k=>{k.currentTarget.setSelectionRange(0,0),n?.()},[]),D=a.useCallback(k=>{!o||!v.current||document.activeElement===k.currentTarget&&k.currentTarget.select()},[o]),F=a.useCallback(k=>{o&&k.stopPropagation()},[o]);return a.useEffect(()=>{o?(this.texts.set(e.id,c),requestAnimationFrame(()=>{v.current=!0;let k=E.current;k&&(k.focus(),k.select())})):n?.()},[o]),a.createElement(Gn,I({ref:s},u),a.createElement(lJ,{isGhost:r,isEditing:o,onPointerDown:F},a.createElement(sJ,{style:{font:C,color:h.stroke,textAlign:aq(d.textAlign)}},t&&a.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),o?a.createElement(uJ,{ref:E,style:{font:C,color:h.stroke},name:"text",tabIndex:-1,autoComplete:"false",autoCapitalize:"false",autoCorrect:"false",autoSave:"false",autoFocus:!0,placeholder:"",spellCheck:"true",wrap:"off",dir:"auto",datatype:"wysiwyg",defaultValue:c,color:h.stroke,onFocus:D,onChange:y,onKeyDown:x,onBlur:S,onPointerDown:F,onContextMenu:_1,onCopy:_1,onPaste:_1,onCut:_1}):c,"\u200B")))})),g(this,"Indicator",st.Indicator(({shape:e})=>{let{width:t,height:r}=this.getBounds(e);return a.createElement("rect",{x:0,y:0,width:t,height:r})})),g(this,"getBounds",e=>{let t=M.getFromCache(this.boundsCache,e,()=>{var r;if(!Wr)return{minX:0,minY:0,maxX:10,maxY:10,width:10,height:10};Wr.parentNode||document.body.appendChild(Wr),Wr.style.font=wr(e.style),Wr.textContent=(r=this.texts.get(e.id))!=null?r:e.text;let o=Wr.offsetWidth||1,n=Wr.offsetHeight||1;return{minX:0,maxX:o,minY:0,maxY:n,width:o,height:n}});return M.translateBounds(t,e.point)}),g(this,"shouldRender",(e,t)=>t.text!==e.text||t.style.scale!==e.style.scale||t.style!==e.style),g(this,"transform",(e,t,{initialShape:r,scaleX:o,scaleY:n})=>{let{rotation:i=0,style:{scale:l=1}}=r,u=l*Math.abs(Math.min(o,n));return{point:[t.minX,t.minY],rotation:o<0&&n>=0||n<0&&o>=0?-(i||0):i,style:z(I({},r.style),{scale:u})}}),g(this,"transformSingle",(e,t,{initialShape:r,scaleX:o,scaleY:n})=>{let{style:{scale:i=1}}=r;return{point:w.toFixed([t.minX,t.minY]),style:z(I({},r.style),{scale:i*Math.max(Math.abs(n),Math.abs(o))})}}),g(this,"onDoubleClickBoundsHandle",e=>{let t=this.getCenter(e),r=this.getCenter(z(I({},e),{style:z(I({},e.style),{scale:1})}));return{style:z(I({},e.style),{scale:1}),point:w.toFixed(w.add(e.point,w.sub(t,r)))}}),g(this,"getSvgElement",(e,t)=>{var r,o;let n=this.getBounds(e),i=ht(e.style,t),l=E0(e.style.size,e.style.font)*((r=e.style.scale)!=null?r:1),u=Ho(e.style.font).slice(1,-1),s=(o=e.style.textAlign)!=null?o:"start",c=C0(e.text,l,u,s,n.width,!1);return c.setAttribute("fill",i.stroke),c})}},Wr;function aJ(){var e;(e=document.getElementById("__textMeasure"))==null||e.remove();let t=document.createElement("pre");return t.id="__textMeasure",Object.assign(t.style,{whiteSpace:"pre",width:"auto",border:"1px solid transparent",padding:"4px",margin:"0px",letterSpacing:lo,opacity:"0",position:"absolute",top:"-500px",left:"0px",zIndex:"9999",pointerEvents:"none",userSelect:"none",alignmentBaseline:"mathematical",dominantBaseline:"mathematical"}),t.tabIndex=-1,document.body.appendChild(t),t}typeof window<"u"&&(Wr=aJ());var lJ=de("div",{width:"100%",height:"100%",variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isEditing:{false:{pointerEvents:"all",userSelect:"all"},true:{pointerEvents:"none",userSelect:"none"}}}}),C2={whiteSpace:"pre-wrap",overflowWrap:"break-word"},sJ=de("div",I({position:"absolute",width:"100%",height:"100%",padding:"4px",zIndex:1,minHeight:1,minWidth:1,lineHeight:1,letterSpacing:lo,outline:0,fontWeight:"500",backfaceVisibility:"hidden",userSelect:"none",pointerEvents:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none",isEditing:{false:{},true:{pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"}}},C2)),uJ=de("textarea",z(I({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%",border:"none",padding:"4px",resize:"none",textAlign:"inherit",minHeight:"inherit",minWidth:"inherit",lineHeight:"inherit",letterSpacing:"inherit",outline:0,fontWeight:"inherit",overflow:"hidden",backfaceVisibility:"hidden",display:"inline-block",pointerEvents:"all",background:"$boundsBg",userSelect:"text",WebkitUserSelect:"text"},C2),{"&:focus":{outline:"none",border:"none"}}));function uo(e,t=0,r=0){let[o,n]=e,i=[[o/2,0],[o,n],[0,n]];return t&&(i=fq(i,t)),r&&(i=i.map(l=>H.rotWith(l,[o/2,n/2],r))),i}function v2(e){let[t,r]=e,o=[[t/2,0],[t,r],[0,r]];return[(o[0][0]+o[1][0]+o[2][0])/3,(o[0][1]+o[1][1]+o[2][1])/3]}function cJ(e,t,r){let[o,n]=t,i=M.rng(e),l=Array.from(Array(3)).map(()=>[i()*r*.75,i()*r*.75]),u=[H.add([o/2,0],l[0]),H.add([o,n],l[1]),H.add([0,n],l[2])],s=Math.round(Math.abs(i()*2*3)),c=M.rotateArray([H.pointsBetween(u[0],u[1],32),H.pointsBetween(u[1],u[2],32),H.pointsBetween(u[2],u[0],32)],s);return{points:[...c.flat(),...c[0]]}}function E2(e,t,r){let{strokeWidth:o}=ht(r),{points:n}=cJ(e,t,o);return{points:n,options:{size:o,thinning:.65,streamline:.3,smoothing:1,simulatePressure:!1,last:!0}}}function dJ(e,t,r){let{points:o,options:n}=E2(e,t,r),i=Yr(o,n);return M.getSvgPathFromStroke(i)}function hJ(e,t,r){let{points:o,options:n}=E2(e,t,r);return M.getSvgPathFromStrokePoints(Hr(o,n))}var fJ=a.memo(function({id:e,size:t,style:r,isSelected:o,isDarkMode:n}){let{stroke:i,strokeWidth:l,fill:u}=ht(r,n),s=1+l*1.618,c=uo(t),d=M.pointsToLineSegments(c,!0).map(([C,E],v)=>{let{strokeDasharray:_,strokeDashoffset:y}=M.getPerfectDashProps(H.dist(C,E),l*1.618,r.dash);return a.createElement("line",{key:e+"_"+v,x1:C[0],y1:C[1],x2:E[0],y2:E[1],stroke:i,strokeWidth:s,strokeLinecap:"round",strokeDasharray:_,strokeDashoffset:y})}),h=c.join();return a.createElement(a.Fragment,null,a.createElement("polygon",{className:r.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",points:h}),r.isFilled&&a.createElement("polygon",{fill:u,points:h,pointerEvents:"none"}),a.createElement("g",{pointerEvents:"stroke"},d))}),pJ=a.memo(function({id:e,size:t,style:r,isSelected:o,isDarkMode:n}){let{stroke:i,strokeWidth:l,fill:u}=ht(r,n),s=dJ(e,t,r),c=hJ(e,t,r);return a.createElement(a.Fragment,null,a.createElement("path",{className:r.isFilled||o?"tl-fill-hitarea":"tl-stroke-hitarea",d:c}),r.isFilled&&a.createElement("path",{d:c,fill:u,pointerEvents:"none"}),a.createElement("path",{d:s,fill:i,stroke:i,strokeWidth:l,pointerEvents:"none"}))});function gJ({size:e}){let t=uo(e).join();return a.createElement("polygon",{className:"tl-binding-indicator",points:t,strokeWidth:16*2})}var mJ=class extends st{constructor(){super(...arguments),g(this,"type","triangle"),g(this,"canBind",!0),g(this,"canClone",!0),g(this,"canEdit",!0),g(this,"getShape",e=>M.deepMerge({id:"id",type:"triangle",name:"Triangle",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:or,label:"",labelPoint:[.5,.5]},e)),g(this,"Component",st.Component(({shape:e,bounds:t,isBinding:r,isEditing:o,isSelected:n,isGhost:i,meta:l,events:u,onShapeChange:s,onShapeBlur:c},d)=>{let{id:h,label:C="",size:E,style:v,labelPoint:_=na}=e,y=wr(v),x=ht(v,l.isDarkMode),S=v.dash==="draw"?pJ:fJ,D=a.useCallback(k=>s?.({id:h,label:k}),[s]),F=a.useMemo(()=>{let k=H.div(E,2);return(v2(E)[1]-k[1])*.72},[E]);return a.createElement(CJ,I({ref:d},u),a.createElement(w0,{font:y,text:C,color:x.stroke,offsetX:(_[0]-.5)*t.width,offsetY:F+(_[1]-.5)*t.height,isEditing:o,onChange:D,onBlur:c}),a.createElement(P1,{id:e.id+"_svg",opacity:i?.3:1},r&&a.createElement(gJ,{size:E}),a.createElement(S,{id:h,style:v,size:E,isSelected:n,isDarkMode:l.isDarkMode})))})),g(this,"Indicator",st.Indicator(({shape:e})=>{let{size:t}=e;return a.createElement("polygon",{points:uo(t).join()})})),g(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.label!==e.label),g(this,"getBounds",e=>$o(e,this.boundsCache)),g(this,"getExpandedBounds",e=>M.getBoundsFromPoints(uo(e.size,this.bindingDistance).map(t=>H.add(t,e.point)))),g(this,"hitTestLineSegment",(e,t,r)=>Jr(t,r,this.getPoints(e)).didIntersect),g(this,"hitTestBounds",(e,t)=>M.boundsContained(this.getBounds(e),t)||K0(t,this.getPoints(e)).length>0),g(this,"getBindingPoint",(e,t,r,o,n,i)=>{let l=this.getExpandedBounds(e);if(!M.pointInBounds(r,l))return;let u=uo(e.size).map(x=>H.add(x,e.point)),s=uo(e.size,this.bindingDistance).map(x=>H.add(x,e.point)),c=M.pointsToLineSegments(u,!0).map(([x,S])=>H.distanceToLineSegment(x,S,r)).sort((x,S)=>x-S)[0];if(!(M.pointInPolygon(r,s)||c<this.bindingDistance))return;let d=M.pointsToLineSegments(s.concat([s[0]])).map(x=>qr(o,n,x[0],x[1])).filter(x=>x.didIntersect).flatMap(x=>x.points);if(!d.length)return;let h=H.add(v2(e.size),e.point),C=d.sort((x,S)=>H.dist(S,o)-H.dist(x,o))[0],E=H.med(r,C),v,_;i?(v=H.dist(r,h)<16/2?h:r,_=0):(H.distanceToLineSegment(r,E,h)<16/2?v=h:v=E,M.pointInPolygon(r,u)?_=this.bindingDistance:_=Math.max(this.bindingDistance,c));let y=H.divV(H.sub(v,[l.minX,l.minY]),[l.width,l.height]);return{point:H.clampV(y,0,1),distance:_}}),g(this,"transform",b0),g(this,"transformSingle",_0)}getPoints(e){let{rotation:t=0,point:[r,o],size:[n,i]}=e;return[[r+n/2,o],[r,o+i],[r+n,o+i]].map(l=>H.rotWith(l,this.getCenter(e),t))}},CJ=de("div",{width:"100%",height:"100%"}),vJ=class extends st{constructor(){super(...arguments),g(this,"type","video"),g(this,"canBind",!0),g(this,"canEdit",!0),g(this,"canClone",!0),g(this,"isAspectRatioLocked",!0),g(this,"showCloneHandles",!1),g(this,"isStateful",!0),g(this,"getShape",e=>M.deepMerge({id:"video",type:"video",name:"Video",parentId:"page",childIndex:1,point:[0,0],size:[1,1],rotation:0,style:or,assetId:"assetId",isPlaying:!0,currentTime:0},e)),g(this,"Component",st.Component(({shape:e,asset:t={src:""},isBinding:r,isEditing:o,isGhost:n,meta:i,events:l,onShapeChange:u},s)=>{let c=a.useRef(null),d=a.useRef(null),{currentTime:h=0,size:C,isPlaying:E,style:v}=e;a.useLayoutEffect(()=>{let S=d.current;if(!S)return;let[D,F]=C;S.style.width=`${D}px`,S.style.height=`${F}px`},[C]),a.useLayoutEffect(()=>{let S=c.current;!S||(E?S.play():S.pause())},[E]),a.useLayoutEffect(()=>{let S=c.current;!S||h!==S.currentTime&&(S.currentTime=h)},[h]);let _=a.useCallback(()=>{u?.({id:e.id,isPlaying:!0})},[]),y=a.useCallback(()=>{u?.({id:e.id,isPlaying:!1})},[]),x=a.useCallback(()=>{let S=c.current;!S||!o||u==null||u({id:e.id,currentTime:S.currentTime})},[o]);return a.createElement(Gn,I({ref:s},l),r&&a.createElement("div",{className:"tl-binding-indicator",style:{position:"absolute",top:-this.bindingDistance,left:-this.bindingDistance,width:`calc(100% + ${this.bindingDistance*2}px)`,height:`calc(100% + ${this.bindingDistance*2}px)`,backgroundColor:"var(--tl-selectFill)"}}),a.createElement(EJ,{ref:d,isDarkMode:i.isDarkMode,isGhost:n,isFilled:v.isFilled},a.createElement(wJ,{ref:c,id:e.id+"_video",muted:!0,loop:!0,playsInline:!0,disableRemotePlayback:!0,disablePictureInPicture:!0,controls:o,autoPlay:E,onPlay:_,onPause:y,onTimeUpdate:x},a.createElement("source",{src:t.src}))))})),g(this,"Indicator",st.Indicator(({shape:e})=>{let{size:[t,r]}=e;return a.createElement("rect",{x:0,y:0,rx:2,ry:2,width:Math.max(1,t),height:Math.max(1,r)})})),g(this,"getBounds",e=>$o(e,this.boundsCache)),g(this,"shouldRender",(e,t)=>t.size!==e.size||t.style!==e.style||t.isPlaying!==e.isPlaying),g(this,"getSvgElement",e=>{let t=this.getBounds(e),r=document.createElementNS("http://www.w3.org/2000/svg","image");return r.setAttribute("width",`${t.width}`),r.setAttribute("height",`${t.height}`),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r}),g(this,"transform",b0),g(this,"transformSingle",_0)}},EJ=(0,Do.zo)("div",{pointerEvents:"all",position:"relative",fontFamily:"sans-serif",fontSize:"2em",height:"100%",width:"100%",borderRadius:"3px",perspective:"800px",overflow:"hidden",p:{userSelect:"none"},img:{userSelect:"none"},variants:{isGhost:{false:{opacity:1},true:{transition:"opacity .2s",opacity:.3}},isFilled:{true:{},false:{}},isDarkMode:{true:{},false:{}}},compoundVariants:[{isFilled:!0,isDarkMode:!0,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.3), 1px 1px 4px rgba(0,0,0,.3), 1px 1px 2px rgba(0,0,0,.3)"}},{isFilled:!0,isDarkMode:!1,css:{boxShadow:"2px 3px 12px -2px rgba(0,0,0,.2), 1px 1px 4px rgba(0,0,0,.16),  1px 1px 2px rgba(0,0,0,.16)"}}]}),wJ=(0,Do.zo)("video",{position:"absolute",top:0,left:0,width:"100%",height:"100%",maxWidth:"100%",minWidth:"100%",pointerEvents:"none",objectFit:"cover",userSelect:"none",borderRadius:2}),w2=new Qq,b2=new mJ,_2=new Zq,y2=new Oq,ga=new Pq,bJ=new iJ,_J=new Nq,ma=new tJ,yJ=new Wq,xJ=new vJ,Ao={rectangle:w2,triangle:b2,ellipse:_2,draw:y2,arrow:ga,text:bJ,group:_J,sticky:ma,image:yJ,video:xJ},LJ=e=>typeof e=="string"?Ao[e]:Ao[e.type],x2=!1,ke=class{static getShapeUtil(e){return LJ(e)}static getSelectedShapes(e,t){let r=ke.getPage(e,t);return ke.getSelectedIds(e,t).map(o=>r.shapes[o])}static screenToWorld(e,t){let r=ke.getPageState(e,e.appState.currentPageId).camera;return w.sub(w.div(t,r.zoom),r.point)}static getCameraZoom(e){return M.clamp(e,.1,5)}static getPage(e,t){return e.document.pages[t]}static getPageState(e,t){return e.document.pageStates[t]}static getSelectedIds(e,t){return ke.getPageState(e,t).selectedIds}static getShapes(e,t){return Object.values(ke.getPage(e,t).shapes)}static getCamera(e,t){return ke.getPageState(e,t).camera}static getShape(e,t,r){return ke.getPage(e,r).shapes[t]}static getCenter(e){return ke.getShapeUtil(e).getCenter(e)}static getBounds(e){return ke.getShapeUtil(e).getBounds(e)}static getRotatedBounds(e){return ke.getShapeUtil(e).getRotatedBounds(e)}static getSelectedBounds(e){return M.getCommonBounds(ke.getSelectedShapes(e,e.appState.currentPageId).map(t=>ke.getShapeUtil(t).getBounds(t)))}static getParentId(e,t,r){return ke.getShape(e,t,r).parentId}static getDocumentBranch(e,t,r){let o=ke.getShape(e,t,r);return o.children===void 0?[t]:[t,...o.children.flatMap(n=>ke.getDocumentBranch(e,n,r))]}static getSelectedBranchSnapshot(e,t,r){let o=ke.getPage(e,t),n=ke.getSelectedIds(e,t).flatMap(i=>ke.getDocumentBranch(e,i,t).map(l=>o.shapes[l])).filter(i=>!i.isLocked).map(M.deepClone);return r!==void 0?n.map(i=>I({id:i.id},r(i))):n}static getSelectedShapeSnapshot(e,t,r){let o=ke.getSelectedShapes(e,t).filter(n=>!n.isLocked).map(M.deepClone);return r!==void 0?o.map(n=>I({id:n.id},r(n))):o}static getAllEffectedShapeIds(e,t,r){let o=ke.getPage(e,r),n=new Set(t);return t.forEach(i=>{let l=o.shapes[i];function u(c){c.children!==void 0&&c.children.filter(d=>!n.has(d)).forEach(d=>{n.add(d),u(o.shapes[d])})}u(l);function s(c){let d=c.parentId;d!==o.id&&(n.has(d)||(n.add(d),s(o.shapes[d])))}s(l),n.forEach(c=>{Object.values(o.bindings).filter(d=>d.fromId===c||d.toId===c).forEach(d=>n.add(d.fromId===c?d.toId:d.fromId))})}),Array.from(n.values())}static getLinkedShapeIds(e,t,r,o=!0){let n=ke.getSelectedIds(e,t),i=ke.getPage(e,t),l=new Set(n),u=new Set,s=[...n],c=new Set(Object.values(i.shapes).filter(d=>{var h;return d.type==="arrow"&&(d.handles.start.bindingId||((h=d.handles)==null?void 0:h.end.bindingId))}));for(;s.length;){let d=s.pop();if(!(d&&c.size))break;u.has(d)||(u.add(d),c.forEach(h=>{var C,E;let{handles:{start:{bindingId:v},end:{bindingId:_}}}=h,y=v?i.bindings[v]:null,x=_?i.bindings[_]:null,S=!1;y&&y.toId===d?(r==="center"?S=!0:((C=h.decorations)==null?void 0:C.start)&&x?S=r==="left":S=r==="right",S&&(o&&l.add(h.id),l.add(d),x&&(l.add(x.toId),s.push(x.toId)))):x&&x.toId===d&&(r==="center"?S=!0:((E=h.decorations)==null?void 0:E.end)&&y?S=r==="left":S=r==="right",S&&(o&&l.add(h.id),l.add(d),y&&(l.add(y.toId),s.push(y.toId)))),(!y||l.has(y.toId))&&(!x||l.has(x.toId))&&c.delete(h)}))}return Array.from(l.values())}static getChildIndexAbove(e,t,r){let o=e.document.pages[r],n=o.shapes[t],i;if(n.parentId===o.id)i=Object.values(o.shapes).filter(s=>s.parentId===o.id).sort((s,c)=>s.childIndex-c.childIndex);else{let s=o.shapes[n.parentId];if(!s.children)throw Error("No children in parent!");i=s.children.map(c=>o.shapes[c]).sort((c,d)=>c.childIndex-d.childIndex)}let l=i.indexOf(n),u=i[l+1];return u?u.childIndex:n.childIndex+1}static getBeforeShape(e,t){return Object.fromEntries(Object.keys(t).map(r=>[r,e[r]]))}static mutateShapes(e,t,r,o,n=!1){let i={},l={};t.forEach((s,c)=>{let d=ke.getShape(e,s,o);if(d.isLocked)return;d?.type==="group"&&(t.length===1||n)&&d.children.forEach((C,E)=>{let v=ke.getShape(e,C,o);if(v.isLocked)return;let _=r(v,E);_&&(i[C]=ke.getBeforeShape(v,_),l[C]=_)});let h=r(d,c);h&&(i[s]=ke.getBeforeShape(d,h),l[s]=h)});let u=M.deepMerge(e,{document:{pages:{[e.appState.currentPageId]:{shapes:l}}}});return{before:i,after:l,data:u}}static createShapes(e,t,r){let o={document:{pages:{[r]:{shapes:I({},Object.fromEntries(t.flatMap(i=>{let l=[[i.id,void 0]];if(i.parentId!==r){let u=ke.getShape(e,i.parentId,r);if(!u.children)throw Error("No children in parent!");l.push([u.id,{children:u.children}])}return l})))}}}},n={document:{pages:{[r]:{shapes:{shapes:I({},Object.fromEntries(t.flatMap(i=>{let l=[[i.id,i]];if(i.parentId!==r){let u=ke.getShape(e,i.parentId,r);if(!u.children)throw Error("No children in parent!");l.push([u.id,{children:[...u.children,i.id]}])}return l})))}}}}};return{before:o,after:n}}static deleteShapes(e,t,r){r=r||e.appState.currentPageId;let o=ke.getPage(e,r),n=typeof t[0]=="string"?t:t.map(u=>u.id),i={document:{pages:{[r]:{shapes:I({},Object.fromEntries(n.flatMap(u=>{let s=o.shapes[u],c=[[s.id,s]];if(s.parentId!==r){let d=o.shapes[s.parentId];if(!d.children)throw Error("No children in parent!");c.push([d.id,{children:d.children}])}return c}))),bindings:I({},Object.fromEntries(Object.values(o.bindings).filter(u=>n.includes(u.fromId)||n.includes(u.toId)).map(u=>[u.id,u])))}}}},l={document:{pages:{[r]:{shapes:I({},Object.fromEntries(n.flatMap(u=>{let s=o.shapes[u],c=[[s.id,void 0]];if(s.parentId!==o.id){let d=o.shapes[s.parentId];if(!d.children)throw Error("No children in parent!");c.push([d.id,{children:d.children.filter(h=>h!==s.id)}])}return c})))}}}};return{before:i,after:l}}static onSessionComplete(e){var t,r;let o=(r=(t=ke.getShapeUtil(e)).onSessionComplete)==null?void 0:r.call(t,e);return o?I(I({},e),o):e}static onChildrenChange(e,t,r){var o,n;if(!t.children)return;let i=(n=(o=ke.getShapeUtil(t)).onChildrenChange)==null?void 0:n.call(o,t,t.children.map(l=>ke.getShape(e,l,r)));return i?I(I({},t),i):t}static updateArrowBindings(e,t){var r,o,n,i,l,u;let s={start:y1(t.handles.start),end:y1(t.handles.end)},c={isBound:!1,handle:t.handles.start,point:w.add(t.handles.start.point,t.point)},d={isBound:!1,handle:t.handles.end,point:w.add(t.handles.end.point,t.point)};if(t.handles.start.bindingId){let h=((r=t.decorations)==null?void 0:r.start)!==void 0,C=t.handles.start,E=e.bindings[t.handles.start.bindingId];if(!E)throw Error("Could not find a binding to match the start handle's bindingId: "+t.handles.start.bindingId);let v=e.shapes[E.toId],_=ke.getShapeUtil(v),y=_.getBounds(v),x=_.getExpandedBounds(v),S=h?M.expandBounds(y,E.distance):y,{minX:D,minY:F,width:k,height:P}=x,A=w.add([D,F],w.mulV([k,P],w.rotWith(E.point,[.5,.5],v.rotation||0)));c={isBound:!0,hasDecoration:h,binding:E,handle:C,point:A,util:_,target:v,bounds:y,expandedBounds:x,intersectBounds:S,center:_.getCenter(v)}}if(t.handles.end.bindingId){let h=((o=t.decorations)==null?void 0:o.end)!==void 0,C=t.handles.end,E=e.bindings[t.handles.end.bindingId];if(!E)throw Error("Could not find a binding to match the end handle's bindingId");let v=e.shapes[E.toId],_=ke.getShapeUtil(v),y=_.getBounds(v),x=_.getExpandedBounds(v),S=h?M.expandBounds(y,E.distance):y,{minX:D,minY:F,width:k,height:P}=x,A=w.add([D,F],w.mulV([k,P],w.rotWith(E.point,[.5,.5],v.rotation||0)));d={isBound:!0,hasDecoration:h,binding:E,handle:C,point:A,util:_,target:v,bounds:y,expandedBounds:x,intersectBounds:S,center:_.getCenter(v)}}for(let h of["end","start"]){let C=h==="start"?c:d,E=h==="start"?d:c;if(C.isBound)if(!C.binding.distance)s[h].point=w.sub(C.point,t.point);else{let v=w.uni(w.sub(C.point,E.point));switch(C.target.type){case"ellipse":{let _=nn(E.point,v,C.center,C.target.radius[0]+(C.hasDecoration?C.binding.distance:0),C.target.radius[1]+(C.hasDecoration?C.binding.distance:0),C.target.rotation||0).points.sort((y,x)=>w.dist(y,E.point)-w.dist(x,E.point));_[0]!==void 0&&(s[h].point=w.toFixed(w.sub(_[0],t.point)));break}case"triangle":{let _=C.target.point,y=uo(C.target.size,C.hasDecoration?16:0,C.target.rotation).map(S=>w.add(S,_)),x=M.pointsToLineSegments(y,!0).map(([S,D])=>qr(E.point,v,S,D)).filter(S=>S.didIntersect).flatMap(S=>S.points).sort((S,D)=>w.dist(S,E.point)-w.dist(D,E.point));x[0]!==void 0&&(s[h].point=w.toFixed(w.sub(x[0],t.point)));break}default:{let _=pr(E.point,v,C.intersectBounds,C.target.rotation).filter(x=>x.didIntersect).map(x=>x.points[0]).sort((x,S)=>w.dist(x,E.point)-w.dist(S,E.point));if(!_[0])continue;let y;if(E.isBound&&(y=pr(E.point,v,E.intersectBounds,E.target.rotation).filter(x=>x.didIntersect).map(x=>x.points[0]).sort((x,S)=>w.dist(x,E.point)-w.dist(S,E.point))[0]),E.isBound&&(_.length<2||y&&_[0]&&Math.ceil(w.dist(_[0],y))<16*2.5||M.boundsContain(C.expandedBounds,E.expandedBounds)||M.boundsCollide(C.expandedBounds,E.expandedBounds))){let x=w.uni(w.sub(E.point,C.point)),S=pr(C.point,x,C.bounds,C.target.rotation).filter(D=>D.didIntersect).map(D=>D.points[0]);if(!S[0])continue;s[h].point=w.toFixed(w.sub(S[0],t.point)),s[h==="start"?"end":"start"].point=w.toFixed(w.add(w.sub(S[0],t.point),w.mul(x,Math.min(w.dist(S[0],E.point),16*2.5*(M.boundsContain(E.bounds,C.intersectBounds)?-1:1)))))}else if(!E.isBound&&(_[0]&&w.dist(_[0],E.point)<16*2.5||M.pointInBounds(E.point,C.intersectBounds))){let x=w.uni(w.sub(C.center,E.point));return(i=(n=ke.getShapeUtil(t)).onHandleChange)==null?void 0:i.call(n,t,{[h]:z(I({},t.handles[h]),{point:w.toFixed(w.add(w.sub(E.point,t.point),w.mul(x,16*2.5)))})})}else _[0]&&(s[h].point=w.toFixed(w.sub(_[0],t.point)))}}}}return(u=(l=ke.getShapeUtil(t)).onHandleChange)==null?void 0:u.call(l,t,s)}static transform(e,t,r){let o=ke.getShapeUtil(e).transform(e,t,r);return o?I(I({},e),o):e}static transformSingle(e,t,r){let o=ke.getShapeUtil(e).transformSingle(e,t,r);return o?I(I({},e),o):e}static getRotatedShapeMutation(e,t,r,o){var n,i;let l=w.sub(t,e.point),u=w.rotWith(t,r,o),s=w.toFixed(w.sub(u,l));if(e.handles!==void 0)return(i=(n=this.getShapeUtil(e)).onHandleChange)==null?void 0:i.call(n,z(I({},e),{point:s}),Object.fromEntries(Object.entries(e.handles).map(([d,h])=>{let C=w.toFixed(w.rotWith(h.point,l,o));return[d,z(I({},h),{point:C})]})));let c=M.clampRadians((e.rotation||0)+o);return{point:s,rotation:c}}static updateParents(e,t,r){let o=ke.getPage(e,t);if(r.length===0)return;let{shapes:n}=ke.getPage(e,t),i=Array.from(new Set(r.map(l=>n[l].parentId).values())).filter(l=>l!==o.id);for(let l of i){let u=n[l];if(!u.children)throw Error("A shape is parented to a shape without a children array.");ke.onChildrenChange(e,u,t)}ke.updateParents(e,t,i)}static getBinding(e,t,r){return ke.getPage(e,r).bindings[t]}static getBindings(e,t){let r=ke.getPage(e,t);return Object.values(r.bindings)}static getBindableShapeIds(e){return ke.getShapes(e,e.appState.currentPageId).filter(t=>ke.getShapeUtil(t).canBind).sort((t,r)=>r.childIndex-t.childIndex).map(t=>t.id)}static getBindingsWithShapeIds(e,t,r){return Array.from(new Set(ke.getBindings(e,r).filter(o=>t.includes(o.toId)||t.includes(o.fromId))).values())}static getRelatedBindings(e,t,r){let o=new Set(t),n=ke.getPage(e,r),i=Object.values(n.bindings),l=new Set(i.filter(c=>o.has(c.toId)||o.has(c.fromId))),u=l.size,s=-1;for(;s!==0;)l.forEach(c=>{let d=c.fromId;for(let h of i)h.fromId===d&&l.add(h),h.toId===d&&l.add(h)}),s=l.size-u,u=l.size;return Array.from(l.values())}static normalizeText(e){return e.replace(ke.fixNewLines,`
`).split(`
`).map(t=>t||" ").join(`
`)}static assertShapeHasProperty(e,t){if(e[t]===void 0)throw new Error}static warn(e){x2&&console.warn(e)}static error(e){x2&&console.error(e)}static getSvgString(e,t=1){let r=e.cloneNode(!0);return e.setAttribute("width",+e.getAttribute("width")*t+""),e.setAttribute("height",+e.getAttribute("height")*t+""),new XMLSerializer().serializeToString(r).replaceAll("&#10;      ","").replaceAll(/((\s|")[0-9]*\.[0-9]{2})([0-9]*)(\b|"|\))/g,"$1")}static getSvgAsDataUrl(e,t=1){let r=ke.getSvgString(e,t);return`data:image/svg+xml;base64,${window.btoa(unescape(r))}`}static getImageForSvg(e){return Te(this,arguments,function*(t,r="png",o={}){let{scale:n=2,quality:i=1}=o,l=ke.getSvgString(t,n),u=+t.getAttribute("width"),s=+t.getAttribute("height");if(!l)return;let c=yield new Promise(d=>{let h=new Image;h.crossOrigin="anonymous";let C=`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(l)))}`;h.onload=()=>{let E=document.createElement("canvas"),v=E.getContext("2d");E.width=u,E.height=s,v.drawImage(h,0,0,u,s),URL.revokeObjectURL(C),d(E)},h.onerror=()=>{console.warn("Could not convert that SVG to an image.")},h.src=C});return yield new Promise(d=>c.toBlob(h=>d(h),"image/"+r,i))})}},W=ke;g(W,"copyStringToClipboard",e=>{try{navigator.clipboard&&navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"})})])}catch{let r=document.createElement("textarea");r.setAttribute("position","fixed"),r.setAttribute("top","0"),r.setAttribute("readonly","true"),r.setAttribute("contenteditable","true"),r.style.position="fixed",r.value=e,document.body.appendChild(r),r.focus(),r.select();try{let o=document.createRange();o.selectNodeContents(r);let n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(o),r.setSelectionRange(0,r.value.length)),document.execCommand("copy")}catch{}finally{document.body.removeChild(r)}}}),g(W,"flattenShape",(e,t)=>{var r;return[t,...((r=t.children)!=null?r:[]).map(o=>ke.getShape(e,o,e.appState.currentPageId)).sort((o,n)=>o.childIndex-n.childIndex).flatMap(o=>ke.flattenShape(e,o))]}),g(W,"flattenPage",(e,t)=>Object.values(e.document.pages[t].shapes).sort((r,o)=>r.childIndex-o.childIndex).reduce((r,o)=>[...r,...ke.flattenShape(e,o)],[])),g(W,"getTopChildIndex",(e,t)=>{let r=ke.getShapes(e,t);return r.length===0?1:r.filter(o=>o.parentId===t).sort((o,n)=>n.childIndex-o.childIndex)[0].childIndex+1}),g(W,"fixNewLines",/\r?\n|\r/g);var SJ=e=>e.room,RJ=function(){let e=dt(),t=e.useStore(SJ),[r,o]=a.useState(!1),n=a.useRef(0),i=a.useCallback(()=>{o(!0),W.copyStringToClipboard(window.location.href),clearTimeout(n.current),n.current=setTimeout(()=>o(!1),1200)},[]),l=a.useCallback(()=>{o(!0);let c=window.location.href.split("/");c[c.length-2]="v",c[c.length-1]=M.lns(c[c.length-1]),W.copyStringToClipboard(c.join("/")),clearTimeout(n.current),n.current=setTimeout(()=>o(!1),1200)},[]),u=a.useCallback(()=>Te(this,null,function*(){e.isDirty?e.fileSystemHandle?window.confirm("Do you want to save changes to your current project?")&&(yield e.saveProject()):window.confirm("Do you want to save your current project?")&&(yield e.saveProject()):e.fileSystemHandle||window.confirm("Do you want to save your current project?")&&(yield e.saveProject())}),[]),s=a.useCallback(()=>Te(this,null,function*(){var c;let d=M.deepClone(e.document);e.setIsLoading(!0);try{if(e.callbacks.onAssetUpload)for(let C in d.assets){let E=d.assets[C];if(E.src.includes("base64")){let v=IJ(E.src,((c=E.fileName)!=null?c:E.type==="video")?"image.png":"image.mp4"),_=yield e.callbacks.onAssetUpload(e,v,C);_?E.src=_:E.src=""}}let h=yield fetch("/api/create",{method:"POST",mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({roomId:M.uniqueId(),pageId:e.currentPageId,document:d})}).then(C=>C.json());h?.url?window.location.href=h.url:W.warn(h?.message)}catch(h){W.warn(h.message)}e.setIsLoading(!1)}),[]);return a.createElement(ot.fC,{dir:"ltr"},a.createElement(Ks,{id:"TD-MultiplayerMenuIcon",isActive:!!t},a.createElement(rq,null)),a.createElement(ao,{variant:"menu",id:"TD-MultiplayerMenu",side:"bottom",align:"start",sideOffset:4},a.createElement(Ye,{id:"TD-Multiplayer-CopyInviteLink",onClick:i,disabled:!t},a.createElement(ge,{id:"copy.invite.link"}),a.createElement(z1,null,r?a.createElement(o0,null):a.createElement(Nl,null))),a.createElement(Ye,{id:"TD-Multiplayer-CopyReadOnlyLink",onClick:l,disabled:!t},a.createElement(ge,{id:"copy.readonly.link"}),a.createElement(z1,null,r?a.createElement(o0,null):a.createElement(Nl,null))),a.createElement(Pt,null),a.createElement(Ye,{id:"TD-Multiplayer-CreateMultiplayerProject",onClick:u},a.createElement("a",{href:"https://tldraw.com/r"},a.createElement(ge,{id:"create.multiplayer.project"}))),a.createElement(Ye,{id:"TD-Multiplayer-CopyToMultiplayerProject",onClick:s},a.createElement(ge,{id:"copy.multiplayer.project"}))))};function IJ(e,t){var r,o;let n=e.split(","),i=(o=(r=n[0])==null?void 0:r.match(/:(.*?);/))==null?void 0:o[1],l=window.atob(n[1]),u=l.length,s=new Uint8Array(u);for(;u--;)s[u]=l.charCodeAt(u);return new File([s],t,{type:i})}var MJ=e=>Object.keys(e.document.pages).length>1;function DJ({page:e,onOpen:t,onClose:r}){let o=dt(),n=h1(),[i,l]=a.useState(!1),[u,s]=a.useState(e.name||"Page"),c=o.useStore(MJ),d=a.useRef(null),h=a.useCallback(()=>{l(!1)},[]),C=a.useCallback(()=>{o.duplicatePage(e.id)},[o]),E=a.useCallback(()=>{window.confirm("Are you sure you want to delete this page?")&&o.deletePage(e.id)},[o]),v=a.useCallback(P=>{if(l(P),P){t?.();return}},[o]);function _(P){P.stopPropagation()}let y=a.useRef(e.name||"Page"),x=a.useRef(y.current),S=a.useCallback(P=>{let A=P.target.value.trimStart();x.current=A,s(A)},[]),D=a.useCallback(P=>{switch(P.key){case"Enter":{x.current===y.current||(y.current=x.current,o.renamePage(e.id,x.current.trim())),l(!1);break}case"Escape":{if(x.current===y.current){l(!1);return}x.current=y.current,s(y.current),requestAnimationFrame(()=>{let A=d.current;A&&(A.focus(),A.setSelectionRange(0,A.value.length))});break}}},[]),F=a.useRef(!1);a.useEffect(()=>(i?(F.current=!0,y.current=e.name||"Page",x.current=y.current,requestAnimationFrame(()=>{let P=d.current;P&&(P.focus(),P.setSelectionRange(0,P.value.length))})):F.current&&r?.(),()=>{x.current!==y.current&&(y.current=x.current,o.renamePage(e.id,x.current))}),[i]);let k=Zr();return a.createElement(ji,{open:i,onOpenChange:v},a.createElement(Q3,{asChild:!0,"data-shy":"true"},a.createElement(ta,{bp:B1},a.createElement(z1,null,a.createElement(Y5,null)))),a.createElement(Vi,{container:k.current},a.createElement(PJ,{onPointerDown:h}),a.createElement(kJ,{dir:"ltr",onKeyDown:_,onKeyUp:_},a.createElement(Us,{ref:d,placeholder:n.formatMessage({id:"page.name"}),value:u,onChange:S,onKeyDown:D,icon:a.createElement(Pi,null)}),a.createElement(Pt,null),a.createElement(L2,{onSelect:C},a.createElement(ge,{id:"duplicate"})),a.createElement(L2,{disabled:!c,onSelect:E},a.createElement(ge,{id:"delete"})),a.createElement(Pt,null),a.createElement(ws,{asChild:!0},a.createElement(n1,null,a.createElement(ge,{id:"cancel"}))))))}var kJ=de(Zi,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:240,maxWidth:"fit-content",maxHeight:"85vh",marginTop:"-5vh",pointerEvents:"all",backgroundColor:"$panel",padding:"$1",borderRadius:"$2",font:"$ui",zIndex:999999,"&:focus":{outline:"none"}}),PJ=de(a0,{backgroundColor:"rgba(0, 0, 0, .15)",position:"absolute",pointerEvents:"all",inset:0,zIndex:999998});function L2(e){var t=e,{onSelect:r}=t,o=$1(t,["onSelect"]);return a.createElement(l0,{asChild:!0,onClick:r,onSelect:r},a.createElement(n1,I({},o)))}var $J=e=>Object.values(e.document.pages).sort((t,r)=>(t.childIndex||0)-(r.childIndex||0)),BJ=e=>e.document.pages[e.appState.currentPageId].name,HJ=e=>e.document.pages[e.appState.currentPageId].id;function AJ(){let e=dt(),t=h1(),r=a.useRef(!1),[o,n]=a.useState(!1);a.useEffect(()=>{r.current!==o&&(r.current=o)},[o]);let i=a.useCallback(()=>{n(!1)},[n]),l=a.useCallback(s=>{r.current!==s&&n(s)},[n]),u=e.useStore(BJ);return a.createElement(ot.fC,{dir:"ltr",open:o,onOpenChange:l},a.createElement(ot.xz,{dir:"ltr",asChild:!0,id:"TD-Page"},a.createElement(it,{variant:"text"},u||t.formatMessage({id:"page"}))),a.createElement(ao,{variant:"menu",align:"start",sideOffset:4},o&&a.createElement(TJ,{onClose:i})))}function TJ({onClose:e}){let t=dt(),r=h1(),o=t.useStore($J),n=t.useStore(HJ),i=r.formatMessage({id:"page"}),l=a.useCallback(()=>{let _=i+" "+(Object.keys(t.document.pages).length+1);t.createPage(void 0,_)},[t]),u=a.useCallback(_=>{e(),t.changePage(_)},[t]),[s,c]=a.useState(null),[d,h]=a.useState(null),C=a.useCallback(_=>{c(_.currentTarget.id),h(o.findIndex(y=>y.id===_.currentTarget.id)),_.dataTransfer.effectAllowed="move"},[]),E=a.useCallback(_=>{_.preventDefault();let y=o.findIndex(S=>S.id===_.currentTarget.id),x=_.currentTarget.getBoundingClientRect();y=(_.clientY-x.top)/x.height<.5?y:y+1,h(y)},[s,o]),v=a.useCallback(()=>{s!==null&&d!==null&&t.movePage(s,d),c(null),h(null)},[s,d]);return a.createElement(a.Fragment,null,a.createElement(ot.Ee,{dir:"ltr",value:n,onValueChange:u},o.map((_,y)=>a.createElement(OJ,{key:_.id,isDropAbove:y===d&&y===0,isDropBelow:d!==null&&y===d-1},a.createElement(ot.Rk,{title:_.name||i,value:_.id,key:_.id,id:_.id,asChild:!0,onDragOver:E,onDragStart:C,onDrop:v,draggable:!0},a.createElement(FJ,null,a.createElement("span",{id:_.id},_.name||i),a.createElement(ot.wU,null,a.createElement(z1,null,a.createElement(o0,null))))),a.createElement(DJ,{page:_,onClose:e})))),a.createElement(Pt,null),a.createElement(ot.ck,{onSelect:l,asChild:!0},a.createElement(n1,null,a.createElement("span",null,a.createElement(ge,{id:"create.page"})),a.createElement(z1,null,a.createElement(i3,null)))))}var OJ=de("div",{position:"relative",display:"grid",gridTemplateColumns:"1fr auto",gridAutoFlow:"column",margin:0,'& > *[data-shy="true"]':{opacity:0},'&:hover > *[data-shy="true"]':{opacity:1},variants:{isDropAbove:{true:{"&::after":{content:"",display:"block",position:"absolute",top:0,width:"100%",height:"1px",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}},isDropBelow:{true:{"&::after":{content:"",display:"block",position:"absolute",width:"100%",height:"1px",top:"100%",backgroundColor:"$selected",zIndex:999,pointerEvents:"none"}}}}}),FJ=de(n1,{minWidth:128}),jJ=e=>e.appState.currentStyle,VJ=e=>e.document.pageStates[e.appState.currentPageId].selectedIds,ZJ=Object.keys(ca),S2={draw:a.createElement(tY,null),solid:a.createElement(rY,null),dashed:a.createElement(JX,null),dotted:a.createElement(eY,null)},zJ={small:a.createElement(nY,null),medium:a.createElement(iY,null),large:a.createElement(aY,null)},NJ={start:a.createElement(y3,null),middle:a.createElement(E3,null),end:a.createElement(L3,null),justify:a.createElement(b3,null)},WJ=e=>e.settings.isDarkMode?"dark":"light",UJ=e=>e.settings.keepStyleMenuOpen,KJ=e=>{let{activeTool:t,currentPageId:r}=e.appState;switch(t){case"select":{let o=e.document.pages[r],n=!1,i=!1;for(let l of e.document.pageStates[r].selectedIds)"text"in o.shapes[l]&&(n=!0),"label"in o.shapes[l]&&(i=!0);return n?"text":i?"label":""}case"text":return"text";case"rectangle":return"label";case"ellipse":return"label";case"triangle":return"label";case"arrow":return"label";case"line":return"label"}return!1},GJ=a.memo(function(){let e=dt(),t=e.useStore(WJ),r=e.useStore(UJ),o=e.useStore(KJ),n=e.useStore(jJ),i=e.useStore(VJ),[l,u]=a.useState(n),s=a.useRef(n);a.useEffect(()=>{let{appState:{currentStyle:y},page:x,selectedIds:S}=e,D={};if(S.length<=0)D=y;else{let F=new Set([]);e.selectedIds.map(k=>x.shapes[k]).forEach(k=>{ZJ.forEach(P=>{if(!F.has(P))if(D[P]===void 0)D[P]=k.style[P];else{if(D[P]===k.style[P])return;D[P]=k.style[P],F.add(P)}})})}JSON.stringify(D)!==JSON.stringify(s.current)&&(s.current=D,u(D))},[n,i]);let c=a.useCallback(y=>{e.setSetting("keepStyleMenuOpen",y)},[]),d=a.useCallback(y=>{e.style({isFilled:y})},[]),h=a.useCallback(y=>{e.style({dash:y})},[]),C=a.useCallback(y=>{e.style({size:y})},[]),E=a.useCallback(y=>{e.style({font:y})},[]),v=a.useCallback(y=>{e.style({textAlign:y})},[]),_=a.useCallback(y=>{e.setMenuOpen(y)},[e]);return a.createElement(ot.fC,{dir:"ltr",onOpenChange:_,open:r?!0:void 0,modal:!1},a.createElement(ot.xz,{asChild:!0,id:"TD-Styles"},a.createElement(it,{variant:"text"},a.createElement(ge,{id:"styles"}),a.createElement(YJ,{style:{color:bn[t][l.color]}},l.isFilled&&a.createElement(Gs,{size:16,stroke:"none",fill:ua[t][l.color]}),S2[l.dash]))),a.createElement(ao,{id:"language-menu",side:"bottom",align:"end",sideOffset:4,alignOffset:4},a.createElement(yn,{variant:"tall",id:"TD-Styles-Color-Container"},a.createElement("span",null,a.createElement(ge,{id:"style.menu.color"})),a.createElement(XJ,null,Object.keys(bn.light).map(y=>a.createElement(ot.ck,{key:y,onSelect:Rt,asChild:!0,id:`TD-Styles-Color-Swatch-${y}`},a.createElement(it,{variant:"icon",isActive:l.color===y,onClick:()=>e.style({color:y})},a.createElement(Gs,{size:18,strokeWidth:2.5,fill:l.isFilled?ua[t][y]:"transparent",stroke:bn.light[y]})))))),a.createElement(W1,{variant:"styleMenu",checked:!!l.isFilled,onCheckedChange:d,id:"TD-Styles-Fill"},a.createElement(ge,{id:"style.menu.fill"})),a.createElement(yn,{id:"TD-Styles-Dash-Container"},a.createElement(ge,{id:"style.menu.dash"}),a.createElement(S0,{dir:"ltr",value:l.dash,onValueChange:h},Object.values(Ts).map(y=>a.createElement(f0,{key:y,isActive:y===l.dash,value:y,onSelect:Rt,bp:B1,id:`TD-Styles-Dash-${y}`},S2[y])))),a.createElement(yn,{id:"TD-Styles-Size-Container"},a.createElement(ge,{id:"style.menu.size"}),a.createElement(S0,{dir:"ltr",value:l.size,onValueChange:C},Object.values(As).map(y=>a.createElement(f0,{key:y,isActive:y===l.size,value:y,onSelect:Rt,bp:B1,id:`TD-Styles-Dash-${y}`},zJ[y])))),(o==="text"||o==="label")&&a.createElement(a.Fragment,null,a.createElement(Pt,null),a.createElement(yn,{id:"TD-Styles-Font-Container"},a.createElement(ge,{id:"style.menu.font"}),a.createElement(S0,{dir:"ltr",value:l.font,onValueChange:E},Object.values(Fs).map(y=>a.createElement(f0,{key:y,isActive:y===l.font,value:y,onSelect:Rt,bp:B1,id:`TD-Styles-Font-${y}`},a.createElement(qJ,{fontStyle:y},"Aa"))))),o==="text"&&a.createElement(yn,{id:"TD-Styles-Align-Container"},a.createElement(ge,{id:"style.menu.align"}),a.createElement(S0,{dir:"ltr",value:l.textAlign,onValueChange:v},Object.values(Os).map(y=>a.createElement(f0,{key:y,isActive:y===l.textAlign,value:y,onSelect:Rt,bp:B1,id:`TD-Styles-Align-${y}`},NJ[y]))))),a.createElement(Pt,null),a.createElement(W1,{variant:"styleMenu",checked:r,onCheckedChange:c,id:"TD-Styles-Keep-Open"},a.createElement(ge,{id:"style.menu.keep.open"}))))}),XJ=de("div",{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:0}),yn=de("div",{position:"relative",width:"100%",background:"none",border:"none",cursor:"pointer",minHeight:"32px",outline:"none",color:"$text",fontFamily:"$ui",fontWeight:400,fontSize:"$1",padding:"$2 0 $2 $3",borderRadius:4,userSelect:"none",margin:0,display:"flex",gap:"$3",flexDirection:"row",alignItems:"center",justifyContent:"space-between",variants:{variant:{tall:{alignItems:"flex-start",padding:"0 0 0 $3","& > span":{paddingTop:"$4"}}}}}),S0=de(ot._x,{display:"flex",flexDirection:"row",gap:"$1"}),YJ=de("div",{display:"grid","& > *":{gridColumn:1,gridRow:1}}),qJ=de("div",{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"$3",variants:{fontStyle:{script:{fontFamily:"Caveat Brush"},sans:{fontFamily:"Recursive"},serif:{fontFamily:"Georgia"},mono:{fontFamily:"Recursive Mono"}}}}),JJ=e=>e.document.pageStates[e.appState.currentPageId].camera.zoom,QJ=function(){let e=dt(),t=e.useStore(JJ);return a.createElement(ot.fC,{dir:"ltr"},a.createElement(ot.xz,{dir:"ltr",asChild:!0,id:"TD-Zoom"},a.createElement(eQ,{onDoubleClick:e.resetZoom,variant:"text"},Math.round(t*100),"%")),a.createElement(ao,{align:"end"},a.createElement(Ye,{onSelect:Rt,onClick:e.zoomIn,kbd:"#+",id:"TD-Zoom-Zoom_In"},a.createElement(ge,{id:"zoom.in"})),a.createElement(Ye,{onSelect:Rt,onClick:e.zoomOut,kbd:"#\u2212",id:"TD-Zoom-Zoom_Out"},a.createElement(ge,{id:"zoom.out"})),a.createElement(Ye,{onSelect:Rt,onClick:e.resetZoom,kbd:"\u21E70",id:"TD-Zoom-Zoom_To_100%"},a.createElement(ge,{id:"zoom.to"})," 100%"),a.createElement(Ye,{onSelect:Rt,onClick:e.zoomToFit,kbd:"\u21E71",id:"TD-Zoom-To_Fit"},a.createElement(ge,{id:"zoom.to.fit"})),a.createElement(Ye,{onSelect:Rt,onClick:e.zoomToSelection,kbd:"\u21E72",id:"TD-Zoom-To_Selection"},a.createElement(ge,{id:"zoom.to.selection"}))))},eQ=de(it,{minWidth:56});function tQ({readOnly:e,showPages:t,showMenu:r,showStyles:o,showZoom:n,showMultiplayerMenu:i}){let l=dt();return a.createElement(rQ,null,(r||t)&&a.createElement(g0,{side:"left",id:"TD-MenuPanel"},r&&a.createElement(tq,{readOnly:e}),i&&a.createElement(RJ,null),t&&a.createElement(AJ,null)),a.createElement(oQ,null),(o||n)&&a.createElement(g0,{side:"right"},l.readOnly?a.createElement(nQ,null,"Read Only"):a.createElement(a.Fragment,null,a.createElement(it,null,a.createElement(Xs,{onClick:l.undo})),a.createElement(it,null,a.createElement(Xs,{onClick:l.redo,flipHorizontal:!0}))),n&&a.createElement(QJ,null),o&&!e&&a.createElement(GJ,null)))}var rQ=de("div",{width:"100%",position:"absolute",top:0,left:0,right:0,display:"flex",flexDirection:"row",pointerEvents:"none","& > *":{pointerEvents:"all"}}),oQ=de("div",{flexGrow:2,pointerEvents:"none"}),nQ=de("div",{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"$ui",fontSize:"$1",paddingLeft:"$4",paddingRight:"$1",userSelect:"none"}),iQ=a.memo(tQ);function aQ(e){a.useEffect(()=>{let t=!1,r=!1,o=e.current;if(!o)return;let n=s=>{s.key===" "&&!r&&(r=!0,t?o.setAttribute("style","cursor: grabbing !important"):o.setAttribute("style","cursor: grab !important"))},i=s=>{s.key===" "&&(r=!1,o.setAttribute("style","cursor: initial"))},l=s=>{t=!0,s.button===1&&o.setAttribute("style","cursor: grabbing !important"),s.button===0&&r&&o.setAttribute("style","cursor: grabbing !important")},u=()=>{t=!1,r?o.setAttribute("style","cursor: grab !important"):o.setAttribute("style","cursor: initial")};return o.addEventListener("keydown",n),o.addEventListener("keyup",i),o.addEventListener("pointerdown",l),o.addEventListener("pointerup",u),()=>{o.removeEventListener("keydown",n),o.removeEventListener("keyup",i),o.removeEventListener("pointerdown",l),o.removeEventListener("pointerup",u)}},[e.current])}var R2="tldraw_clipboard";function lQ(){return Te(this,null,function*(){return c0(R2)})}function sQ(e){return Te(this,null,function*(){return vn(R2,e)})}var uQ=class{constructor(e,t,r,o){g(this,"_idbId"),g(this,"initialState"),g(this,"store"),g(this,"pointer",-1),g(this,"_state"),g(this,"_status","loading"),g(this,"stack",[]),g(this,"_snapshot"),g(this,"useStore"),g(this,"ready"),g(this,"isPaused",!1),g(this,"persist",(n,i)=>{if(this._status==="ready"&&(this.onPersist&&this.onPersist(this._state,n,i),this._idbId))return vn(this._idbId,this._state).catch(l=>console.error(l))}),g(this,"applyPatch",(n,i)=>{let l=this._state,u=M.deepMerge(this._state,n),s=this.cleanup(u,l,n,i);return this.onStateWillChange&&this.onStateWillChange(s,i),this._state=s,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,i),this}),g(this,"migrate",n=>n),g(this,"cleanup",(n,i,l,u)=>n),g(this,"onStateWillChange"),g(this,"onStateDidChange"),g(this,"patchState",(n,i)=>(this.applyPatch(n,i),this.onPatch&&this.onPatch(this._state,n,i),this)),g(this,"replaceState",(n,i)=>{let l=this.cleanup(n,this._state,n,i);return this.onStateWillChange&&this.onStateWillChange(l,"replace"),this._state=l,this.store.setState(this._state,!0),this.onStateDidChange&&this.onStateDidChange(this._state,"replace"),this}),g(this,"setState",(n,i=n.id)=>(this.pointer<this.stack.length-1&&(this.stack=this.stack.slice(0,this.pointer+1)),this.stack.push(z(I({},n),{id:i})),this.pointer=this.stack.length-1,this.applyPatch(n.after,i),this.onCommand&&this.onCommand(this._state,n,i),this.persist(n.after,i),this)),g(this,"onReady"),g(this,"onPatch"),g(this,"onCommand"),g(this,"onPersist"),g(this,"onReplace"),g(this,"onReset"),g(this,"onResetHistory"),g(this,"onUndo"),g(this,"onRedo"),g(this,"reset",()=>(this.onStateWillChange&&this.onStateWillChange(this.initialState,"reset"),this._state=this.initialState,this.store.setState(this._state,!0),this.resetHistory(),this.persist({},"reset"),this.onStateDidChange&&this.onStateDidChange(this._state,"reset"),this.onReset&&this.onReset(this._state),this)),g(this,"replaceHistory",(n,i=n.length-1)=>(this.stack=n,this.pointer=i,this.onReplace&&this.onReplace(this._state),this)),g(this,"resetHistory",()=>(this.stack=[],this.pointer=-1,this.onResetHistory&&this.onResetHistory(this._state),this)),g(this,"undo",()=>{if(!this.isPaused){if(!this.canUndo)return this;let n=this.stack[this.pointer];this.pointer--,this.applyPatch(n.before,"undo"),this.persist(n.before,"undo")}return this.onUndo&&this.onUndo(this._state),this}),g(this,"redo",()=>{if(!this.isPaused){if(!this.canRedo)return this;this.pointer++;let n=this.stack[this.pointer];this.applyPatch(n.after,"redo"),this.persist(n.after,"undo")}return this.onRedo&&this.onRedo(this._state),this}),g(this,"setSnapshot",()=>(this._snapshot=I({},this._state),this)),g(this,"forceUpdate",()=>{this.store.setState(this._state,!0)}),this._idbId=t,this._state=y1(e),this._snapshot=y1(e),this.initialState=y1(e),this.store=Ds(()=>this._state),this.useStore=mc(this.store),this.ready=new Promise(n=>{let i="none";this._idbId?(i="restored",c0(this._idbId).then(l=>Te(this,null,function*(){if(l){let u=l;if(r){let c=yield c0(t+"_version");c&&c<r&&(u=o?o(l,e,c):e,i="migrated")}yield vn(t+"_version",r||-1);let s=this._state.appState.isEmptyCanvas;u=this.migrate(u),this._state=y1(u),this._snapshot=y1(u),this._state.appState.isEmptyCanvas=s,this.store.setState(this._state,!0)}else yield vn(t+"_version",r||-1);this._status="ready",n(i)})).catch(l=>console.error(l))):(this._status="ready",n(i))}).then(n=>(this.onReady&&this.onReady(n),n))}pause(){this.isPaused=!0}resume(){this.isPaused=!1}get canUndo(){return this.pointer>-1}get canRedo(){return this.pointer<this.stack.length-1}get state(){return this._state}get status(){return this._status}get snapshot(){return this._snapshot}};function cQ(e,t,r){let{currentPageId:o}=e,n=t.map(C=>e.getShape(C)),i=n.map(C=>({id:C.id,point:[...C.point],bounds:W.getBounds(C)})),l=M.getCommonBounds(i.map(({bounds:C})=>C)),u=l.minX+l.width/2,s=l.minY+l.height/2,c=Object.fromEntries(i.map(({id:C,point:E,bounds:v})=>[C,{prev:E,next:{top:[E[0],l.minY],centerVertical:[E[0],s-v.height/2],bottom:[E[0],l.maxY-v.height],left:[l.minX,E[1]],centerHorizontal:[u-v.width/2,E[1]],right:[l.maxX-v.width,E[1]]}[r]}])),{before:d,after:h}=W.mutateShapes(e.state,t,C=>c[C.id]?{point:c[C.id].next}:C,o,!1);return n.forEach(C=>{if(C.type==="group"){let E=w.sub(h[C.id].point,d[C.id].point);C.children.forEach(v=>{let _=e.getShape(v);d[_.id]={point:_.point},h[_.id]={point:w.add(_.point,E)}}),delete d[C.id],delete h[C.id]}}),{id:"align",before:{document:{pages:{[o]:{shapes:d}},pageStates:{[o]:{selectedIds:t}}}},after:{document:{pages:{[o]:{shapes:h}},pageStates:{[o]:{selectedIds:t}}}}}}function dQ(e,t){return{id:"change_page",before:{appState:{currentPageId:e.currentPageId}},after:{appState:{currentPageId:t}}}}function hQ(e,t){var r;let o=e,n=new Set(t);for(;n.has(o);)o=(r=/^.*(\d+)$/.exec(o))!=null&&r[1]?o.replace(/(\d+)(?=\D?)$/,i=>(+i+1).toString()):`${o} 1`;return o}function fQ(e,t,r){let o={shapes:{},bindings:{}},n={shapes:{},bindings:{}},i=[],l=new Set,u=new Set;t.filter(c=>!W.getShape(e,c,r).isLocked).forEach(c=>{l.add(c);let d=W.getShape(e,c,r);o.shapes[c]=d,n.shapes[c]=void 0,d.children!==void 0&&d.children.forEach(h=>{l.add(h);let C=W.getShape(e,h,r);o.shapes[h]=C,n.shapes[h]=void 0}),d.parentId!==r&&i.push(W.getShape(e,d.parentId,r)),d.assetId&&u.add(d.assetId)}),i.forEach(c=>{var d;t.includes(c.id)||(l.add(c.id),o.shapes[c.id]={children:c.children},n.shapes[c.id]={children:c.children.filter(h=>!t.includes(h))},((d=n.shapes[c.id])==null?void 0:d.children.length)===0&&(n.shapes[c.id]=void 0,o.shapes[c.id]=W.getShape(e,c.id,r)))});let s=W.getPage(e,r);return Object.values(s.bindings).filter(c=>l.has(c.fromId)||l.has(c.toId)).forEach(c=>{for(let d of[c.toId,c.fromId])if(n.shapes[d]===void 0){o.bindings[c.id]=c,n.bindings[c.id]=void 0;let h=s.shapes[d];h&&h.handles&&Object.values(h.handles).filter(C=>C.bindingId===c.id).forEach(C=>{var E,v,_,y,x,S;o.shapes[d]=z(I({},o.shapes[d]),{handles:z(I({},(E=o.shapes[d])==null?void 0:E.handles),{[C.id]:z(I({},(_=(v=o.shapes[d])==null?void 0:v.handles)==null?void 0:_[C.id]),{bindingId:c.id})})}),l.has(d)||(n.shapes[d]=z(I({},n.shapes[d]),{handles:z(I({},(y=n.shapes[d])==null?void 0:y.handles),{[C.id]:z(I({},(S=(x=n.shapes[d])==null?void 0:x.handles)==null?void 0:S[C.id]),{bindingId:void 0})})}))})}}),Object.values(e.document.pages).flatMap(c=>Object.values(c.shapes)).forEach(c=>{"assetId"in c&&c.assetId&&!l.has(c.id)&&u.delete(c.assetId)}),{before:o,after:n,assetsToRemove:Array.from(u)}}function pQ(e,t,r=M.uniqueId(),o="Page"){let{currentPageId:n}=e,i=Object.values(e.state.document.pages).sort((d,h)=>{var C,E;return((C=d.childIndex)!=null?C:0)-((E=h.childIndex)!=null?E:0)}),l=i[i.length-1],u=l?.childIndex?l?.childIndex+1:1,s={id:r,name:hQ(o,i.map(d=>{var h;return(h=d.name)!=null?h:""})),childIndex:u,shapes:{},bindings:{}},c={id:r,selectedIds:[],camera:{point:t,zoom:1},editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0};return{id:"create_page",before:{appState:{currentPageId:n},document:{pages:{[r]:void 0},pageStates:{[r]:void 0}}},after:{appState:{currentPageId:s.id},document:{pages:{[r]:s},pageStates:{[r]:c}}}}}function I2(e,t,r=[]){let{currentPageId:o}=e,n={},i={};t.forEach(s=>{n[s.id]=void 0,i[s.id]=s});let l={},u={};return r.forEach(s=>{l[s.id]=void 0,u[s.id]=s}),{id:"create",before:{document:{pages:{[o]:{shapes:n,bindings:l}},pageStates:{[o]:{selectedIds:[...e.selectedIds]}}}},after:{document:{pages:{[o]:{shapes:i,bindings:u}},pageStates:{[o]:{selectedIds:t.map(s=>s.id)}}}}}}function gQ(e,t){let{currentPageId:r,document:{pages:o,pageStates:n}}=e,i=Object.values(o).sort((s,c)=>(s.childIndex||0)-(c.childIndex||0)),l=i.findIndex(s=>s.id===t),u;return t===r?l===i.length-1?u=i[i.length-2].id:u=i[l+1].id:u=r,{id:"delete_page",before:{appState:{currentPageId:t},document:{pages:{[t]:I({},o[t])},pageStates:{[t]:I({},n[t])}}},after:{appState:{currentPageId:u},document:{pages:{[t]:void 0},pageStates:{[t]:void 0}}}}}var mQ=(e,t)=>{let r=I({},e);return t.forEach(o=>r[o]=void 0),r};function M2(e,t,r=e.currentPageId){let{pageState:o,selectedIds:n,document:{assets:i}}=e,{before:l,after:u,assetsToRemove:s}=fQ(e.state,t,r),c=mQ(i,s);return{id:"delete",before:{document:{assets:i,pages:{[r]:l},pageStates:{[r]:{selectedIds:[...e.selectedIds]}}}},after:{document:{assets:c,pages:{[r]:u},pageStates:{[r]:{selectedIds:n.filter(d=>!t.includes(d)),hoveredId:o.hoveredId&&t.includes(o.hoveredId)?void 0:o.hoveredId}}}}}}function CQ(e,t,r){let{currentPageId:o}=e,n=t.map(s=>e.getShape(s)),i=Object.fromEntries(vQ(n,r).map(s=>[s.id,s])),{before:l,after:u}=W.mutateShapes(e.state,t.filter(s=>i[s]!==void 0),s=>{var c;return{point:(c=i[s.id])==null?void 0:c.next}},o);return n.forEach(s=>{if(s.type==="group"){let c=H.sub(u[s.id].point,l[s.id].point);s.children.forEach(d=>{let h=e.getShape(d);l[h.id]={point:h.point},u[h.id]={point:H.add(h.point,c)}}),delete l[s.id],delete u[s.id]}}),{id:"distribute",before:{document:{pages:{[o]:{shapes:l}},pageStates:{[o]:{selectedIds:t}}}},after:{document:{pages:{[o]:{shapes:u}},pageStates:{[o]:{selectedIds:t}}}}}}function vQ(e,t){let r=e.map(l=>{let u=W.getShapeUtil(l);return{id:l.id,point:[...l.point],bounds:u.getBounds(l),center:u.getCenter(l)}}),o=r.length,n=M.getCommonBounds(r.map(({bounds:l})=>l)),i=[];switch(t){case"horizontal":{let l=r.reduce((u,s)=>u+s.bounds.width,0);if(l>n.width){let u=r.sort((C,E)=>C.bounds.minX-E.bounds.minX)[0],s=r.sort((C,E)=>E.bounds.maxX-C.bounds.maxX)[0],c=r.filter(C=>C!==u&&C!==s).sort((C,E)=>C.center[0]-E.center[0]),d=(s.center[0]-u.center[0])/(o-1),h=u.center[0]+d;c.forEach(({id:C,point:E,bounds:v},_)=>{i.push({id:C,prev:E,next:[h+d*_-v.width/2,v.minY]})})}else{let u=r.sort((d,h)=>d.center[0]-h.center[0]),s=n.minX,c=(n.width-l)/(o-1);u.forEach(({id:d,point:h,bounds:C})=>{i.push({id:d,prev:h,next:[s,C.minY]}),s+=C.width+c})}break}case"vertical":{let l=r.reduce((u,s)=>u+s.bounds.height,0);if(l>n.height){let u=r.sort((C,E)=>C.bounds.minY-E.bounds.minY)[0],s=r.sort((C,E)=>E.bounds.maxY-C.bounds.maxY)[0],c=r.filter(C=>C!==u&&C!==s).sort((C,E)=>C.center[1]-E.center[1]),d=(s.center[1]-u.center[1])/(o-1),h=u.center[1]+d;c.forEach(({id:C,point:E,bounds:v},_)=>{i.push({id:C,prev:E,next:[v.minX,h+d*_-v.height/2]})})}else{let u=r.sort((d,h)=>d.center[1]-h.center[1]),s=n.minY,c=(n.height-l)/(o-1);u.forEach(({id:d,point:h,bounds:C})=>{i.push({id:d,prev:h,next:[C.minX,s]}),s+=C.height+c})}break}}return i}function EQ(e,t){let{currentPageId:r,pageState:{camera:o}}=e,n=e.document.pages[t],i=M.uniqueId(),l=z(I({},n),{id:i,name:n.name+" Copy",shapes:Object.fromEntries(Object.entries(n.shapes).map(([u,s])=>[u,z(I({},s),{parentId:s.parentId===n.id?i:s.parentId})]))});return{id:"duplicate_page",before:{appState:{currentPageId:r},document:{pages:{[i]:void 0},pageStates:{[i]:void 0}}},after:{appState:{currentPageId:i},document:{pages:{[i]:l},pageStates:{[i]:z(I({},n),{id:i,selectedIds:[],camera:I({},o),editingId:void 0,bindingId:void 0,hoveredId:void 0,pointedId:void 0})}}}}}function wQ(e,t,r){let{selectedIds:o,currentPageId:n,page:i,shapes:l}=e,u={shapes:{},bindings:{}},s={shapes:{},bindings:{}},c={},d=t.map(E=>e.getShape(E)).filter(E=>!t.includes(E.parentId));d.forEach(E=>{let v=M.uniqueId();if(u.shapes[v]=void 0,s.shapes[v]=z(I({},M.deepClone(E)),{id:v,childIndex:W.getChildIndexAbove(e.state,E.id,n)}),E.children&&(s.shapes[v].children=[]),E.parentId!==n){let _=e.getShape(E.parentId);u.shapes[_.id]=z(I({},u.shapes[_.id]),{children:_.children}),s.shapes[_.id]=z(I({},s.shapes[_.id]),{children:[...(s.shapes[_.id]||_).children,v]})}c[E.id]=v}),d.forEach(E=>{E.children&&E.children.forEach(v=>{var _,y;let x=e.getShape(v),S=M.uniqueId(),D=c[E.id];u.shapes[S]=void 0,s.shapes[S]=z(I({},M.deepClone(x)),{id:S,parentId:D,childIndex:W.getChildIndexAbove(e.state,x.id,n)}),c[v]=S,(y=(_=s.shapes[c[E.id]])==null?void 0:_.children)==null||y.push(S)})});let h=new Set(Object.keys(c));Object.values(i.bindings).filter(E=>h.has(E.fromId)||h.has(E.toId)).forEach(E=>{if(h.has(E.fromId))if(h.has(E.toId)){let v=M.uniqueId(),_=z(I({},M.deepClone(E)),{id:v,fromId:c[E.fromId],toId:c[E.toId]});u.bindings[v]=void 0,s.bindings[v]=_;let y=s.shapes[_.fromId];Object.values(y.handles).forEach(x=>{x.bindingId===E.id&&(x.bindingId=v)})}else{let v=s.shapes[c[E.fromId]];Object.values(v.handles).forEach(_=>{_.bindingId===E.id&&(_.bindingId=void 0)})}});let C=Object.values(s.shapes);if(r){let E=M.getCommonBounds(C.map(_=>W.getBounds(_))),v=M.getBoundsCenter(E);C.forEach(_=>{!_.point||(_.point=w.sub(r,w.sub(v,_.point)))})}else{let E=[16,16];C.forEach(v=>{!v.point||(v.point=w.add(v.point,E))})}return C.forEach(E=>{E.isLocked&&(E.isLocked=!1)}),{id:"duplicate",before:{document:{pages:{[n]:u},pageStates:{[n]:{selectedIds:o}}}},after:{document:{pages:{[n]:s},pageStates:{[n]:{selectedIds:Array.from(h.values()).map(E=>c[E])}}}}}}function D2(e,t,r){let{selectedIds:o,currentPageId:n,page:{shapes:i}}=e,l=t.map(h=>W.getBounds(i[h])),u=t.length===1&&i[t[0]].type==="group",s=M.getCommonBounds(l),{before:c,after:d}=W.mutateShapes(e.state,t,h=>{let C=W.getBounds(h),E=h.parentId!==n;switch(r){case"horizontal":{if(E&&!u){let _=W.getBounds(i[h.parentId]),y=M.getRelativeTransformedBoundingBox(s,s,_,!0,!1).minX-_.minX;return W.getShapeUtil(h).transform(h,z(I({},C),{minX:C.minX+y,maxX:C.maxX+y}),{type:E1.TopLeft,scaleX:1,scaleY:1,initialShape:h,transformOrigin:[.5,.5]})}let v=M.getRelativeTransformedBoundingBox(s,s,C,!0,!1);return W.getShapeUtil(h).transform(h,v,{type:E1.TopLeft,scaleX:-1,scaleY:1,initialShape:h,transformOrigin:[.5,.5]})}case"vertical":{if(E&&!u){let _=W.getBounds(i[h.parentId]),y=M.getRelativeTransformedBoundingBox(s,s,_,!1,!0).minY-_.minY;return W.getShapeUtil(h).transform(h,z(I({},C),{minY:C.minY+y,maxY:C.maxY+y}),{type:E1.TopLeft,scaleX:1,scaleY:1,initialShape:h,transformOrigin:[.5,.5]})}let v=M.getRelativeTransformedBoundingBox(s,s,C,!1,!0);return W.getShapeUtil(h).transform(h,v,{type:E1.TopLeft,scaleX:1,scaleY:-1,initialShape:h,transformOrigin:[.5,.5]})}}},n,!0);return{id:"flip",before:{document:{pages:{[n]:{shapes:c}},pageStates:{[n]:{selectedIds:o}}}},after:{document:{pages:{[n]:{shapes:d}},pageStates:{[n]:{selectedIds:t}}}}}}function bQ(e,t,r,o){var n,i;if(t.length<2)return;let l={},u={},s={},c={},d=[...t],h=[],C=[],E=[];for(let P of t){let A=e.getShape(P);if(!A.isLocked)if(A.children===void 0)h.push(A);else{let Z=A.children.filter(oe=>!e.getShape(oe).isLocked);E.push(A),d.push(...Z),h.push(...Z.map(oe=>e.getShape(oe)).filter(Boolean))}}if(h.every(P=>P.parentId===h[0].parentId)&&h[0].parentId!==o&&((n=e.getShape(h[0].parentId).children)==null?void 0:n.length)===d.length)return;let v=W.flattenPage(e.state,o),_=Object.fromEntries(h.map(P=>[P.id,v.indexOf(P)])),y=h.sort((P,A)=>_[P.id]-_[A.id]),x=o,S=(y.filter(P=>P.parentId===o)[0]||y[0]).childIndex,D=M.getCommonBounds(h.map(P=>W.getBounds(P)));for(l[r]=void 0,u[r]=W.getShapeUtil("group").create({id:r,childIndex:S,parentId:x,point:[D.minX,D.minY],size:[D.width,D.height],children:y.map(P=>P.id)}),y.forEach((P,A)=>{if(P.parentId!==o){let Z=e.getShape(P.parentId);E.push(Z)}l[P.id]=z(I({},l[P.id]),{parentId:P.parentId,childIndex:P.childIndex}),u[P.id]=z(I({},u[P.id]),{parentId:r,childIndex:A+1})});E.length>0;){let P=E.pop();if(!P)break;let A=(((i=l[P.id])==null?void 0:i.children)||P.children).filter(Z=>Z&&!(d.includes(Z)||C.includes(Z)));A.length===0?(l[P.id]=P,u[P.id]=void 0,P.parentId!==o&&(C.push(P.id),E.push(e.getShape(P.parentId)))):(l[P.id]=z(I({},l[P.id]),{children:P.children}),u[P.id]=z(I({},u[P.id]),{children:A}))}let{bindings:F}=e,k=new Set(C);return F.forEach(P=>{for(let A of[P.toId,P.fromId])if(k.has(A)){s[P.id]=P,c[P.id]=void 0;let Z=e.getShape(A);Z.handles&&Object.values(Z.handles).filter(oe=>oe.bindingId===P.id).forEach(oe=>{var be,ce;l[A]=z(I({},l[A]),{handles:z(I({},(be=l[A])==null?void 0:be.handles),{[oe.id]:{bindingId:P.id}})}),C.includes(A)||(u[A]=z(I({},u[A]),{handles:z(I({},(ce=u[A])==null?void 0:ce.handles),{[oe.id]:{bindingId:void 0}})}))})}}),{id:"group",before:{document:{pages:{[o]:{shapes:l,bindings:s}},pageStates:{[o]:{selectedIds:t}}}},after:{document:{pages:{[o]:{shapes:u,bindings:s}},pageStates:{[o]:{selectedIds:[r]}}}}}}function _Q(e,t,r,o,n){let{page:i}=e,l={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},u={before:{shapes:{},bindings:{}},after:{shapes:{},bindings:{}}},s=new Set,c=new Set;t.map(S=>e.getShape(S,o)).filter(S=>!S.isLocked).forEach(S=>{s.add(S.id),c.add(S),S.children!==void 0&&S.children.forEach(D=>{s.add(D),c.add(e.getShape(D,o))})});let d=W.getTopChildIndex(e.state,n),h=Array.from(c.values());h.forEach((S,D)=>{if(l.before.shapes[S.id]=S,l.after.shapes[S.id]=void 0,u.before.shapes[S.id]=void 0,u.after.shapes[S.id]=S,!s.has(S.parentId)&&(u.after.shapes[S.id]=z(I({},S),{parentId:n,childIndex:d+D}),S.parentId!==o)){let F=e.getShape(S.parentId,o);l.before.shapes[F.id]={children:F.children},l.after.shapes[F.id]={children:F.children.filter(k=>k!==S.id)}}}),Object.values(i.bindings).filter(S=>s.has(S.fromId)||s.has(S.toId)).forEach(S=>{l.before.bindings[S.id]=S,l.after.bindings[S.id]=void 0;let D=e.getShape(S.fromId,o);if(s.has(S.fromId)&&s.has(S.toId))u.before.bindings[S.id]=void 0,u.after.bindings[S.id]=S;else if(s.has(S.fromId)){let F=e.getShape(S.fromId,o),k=Object.values(D.handles).find(A=>A.bindingId===S.id).id,P=u.after.shapes[F.id];P.handles=z(I({},P.handles),{[k]:z(I({},P.handles[k]),{bindingId:void 0})})}else{let F=e.getShape(S.fromId,o),k=Object.values(D.handles).find(P=>P.bindingId===S.id);l.before.shapes[F.id]={handles:{[k.id]:{bindingId:S.id}}},l.after.shapes[F.id]={handles:{[k.id]:{bindingId:void 0}}}}});let C=e.state.document.pageStates[n],E=M.getCommonBounds(h.map(S=>W.getBounds(S))),v=W.getCameraZoom(r.width<r.height?(r.width-128)/E.width:(r.height-128)/E.height),_=(r.width-E.width*v)/2/v,y=(r.height-E.height*v)/2/v,x=w.toFixed(w.add([-E.minX,-E.minY],[_,y]));return{id:"move_to_page",before:{appState:{currentPageId:o},document:{pages:{[o]:l.before,[n]:u.before},pageStates:{[o]:{selectedIds:t},[n]:{selectedIds:C.selectedIds,camera:C.camera}}}},after:{appState:{currentPageId:n},document:{pages:{[o]:l.after,[n]:u.after},pageStates:{[o]:{selectedIds:[]},[n]:{selectedIds:t,camera:{zoom:v,point:x}}}}}}}function yQ(e,t,r){let{pages:o}=e.document,n=o[t],i=Object.values(o).sort((s,c)=>{var d,h;return((d=s.childIndex)!=null?d:0)-((h=c.childIndex)!=null?h:0)}),l=i.indexOf(n),u=[...i];return u.splice(l,1),u.splice(r>l?r-1:r,0,n),{id:"move_page",before:{document:{pages:Object.fromEntries(i.map(s=>[s.id,{childIndex:s.childIndex}]))}},after:{document:{pages:Object.fromEntries(u.map((s,c)=>[s.id,{childIndex:c}]))}}}}function R0(e,t,r){let{currentPageId:o,page:n}=e,i=new Set(t.map(d=>e.getShape(d).parentId)),l={before:{},after:{}},u,s,c;return Array.from(i.values()).forEach(d=>{let h=[];if(d===n.id)h=Object.values(n.shapes).sort((v,_)=>v.childIndex-_.childIndex);else{let v=e.getShape(d);if(!v.children)throw Error("No children in parent!");h=v.children.map(_=>e.getShape(_)).sort((_,y)=>_.childIndex-y.childIndex)}let C=h.map(v=>v.id),E=t.filter(v=>C.includes(v)).map(v=>C.indexOf(v)).sort((v,_)=>v-_);if(E.length!==C.length)switch(r){case"toBack":{for(let v=0;v<C.length;v++)if(!E.includes(v)){u=v;break}s=h[u].childIndex,c=s/(E.length+1),l=W.mutateShapes(e.state,E.map(v=>h[v].id).reverse(),(v,_)=>({childIndex:s-(_+1)*c}),o);break}case"toFront":{for(let v=C.length-1;v>=0;v--)if(!E.includes(v)){u=v;break}s=h[u].childIndex,c=1,l=W.mutateShapes(e.state,E.map(v=>h[v].id),(v,_)=>({childIndex:s+(_+1)}),o);break}case"backward":{let v={};for(let _=C.length-1;_>=0;_--)if(E.includes(_)){for(let y=_;y>=0;y--)if(!E.includes(y)){let x=h[y].childIndex,S,D;y===0?(S=x/2,D=x/2/(_-y+1)):(S=h[y-1].childIndex,D=(x-S)/(_-y+1),S+=D);for(let F=0;F<_-y;F++)v[h[y+F+1].id]=S+D*F;break}}Object.values(v).length>0&&(l=W.mutateShapes(e.state,E.map(_=>h[_].id),_=>({childIndex:v[_.id]}),o));break}case"forward":{let v={};for(let _=0;_<C.length;_++)if(E.includes(_)){for(let y=_;y<C.length;y++)if(!E.includes(y)){s=h[y].childIndex;let x=y===C.length-1?1:(h[y+1].childIndex-s)/(y-_+1);for(let S=0;S<y-_;S++)v[h[_+S].id]=s+x*(S+1);break}}Object.values(v).length>0&&(l=W.mutateShapes(e.state,E.map(_=>h[_].id),_=>({childIndex:v[_.id]}),o));break}}}),{id:"move",before:{document:{pages:{[o]:{shapes:l.before}},pageStates:{[o]:{selectedIds:t}}}},after:{document:{pages:{[o]:{shapes:l.after}},pageStates:{[o]:{selectedIds:t}}}}}}function xQ(e,t,r){let{page:o}=e;return{id:"rename_page",before:{document:{pages:{[t]:{name:o.name}}}},after:{document:{pages:{[t]:{name:r}}}}}}function k2(e,t,r){let{currentPageId:o}=e,{before:n,after:i}=W.mutateShapes(e.state,t,l=>{var u,s;return(s=(u=e.getShapeUtil(l)).onDoubleClickBoundsHandle)==null?void 0:s.call(u,l)},r);return{id:"reset_bounds",before:{document:{pages:{[o]:{shapes:n}},pageStates:{[o]:{selectedIds:t}}}},after:{document:{pages:{[o]:{shapes:i}},pageStates:{[o]:{selectedIds:t}}}}}}var LQ=Math.PI*2;function SQ(e,t,r=-LQ/4){let{currentPageId:o}=e,n={},i={},l=t.flatMap(s=>{let c=e.getShape(s);return c.children?c.children.map(d=>e.getShape(d)):c}).filter(s=>!s.isLocked),u=M.getBoundsCenter(M.getCommonBounds(l.map(s=>W.getBounds(s))));return l.forEach(s=>{let c=W.getRotatedShapeMutation(s,W.getCenter(s),u,r);!c||(n[s.id]=W.getBeforeShape(s,c),i[s.id]=c)}),{id:"rotate",before:{document:{pages:{[o]:{shapes:n}},pageStates:{[o]:{selectedIds:t}}}},after:{document:{pages:{[o]:{shapes:i}},pageStates:{[o]:{selectedIds:t}}}}}}function RQ(e,t,r){let{currentPageId:o,selectedIds:n}=e,i=t.map(h=>e.getShape(h)),l=i.map(h=>W.getBounds(h)),u=M.getCommonBounds(l),s=t.flatMap(h=>{let C=e.getShape(h);return C.children?C.children:C.id}).filter(h=>!e.getShape(h).isLocked),{before:c,after:d}=W.mutateShapes(e.state,s,h=>{let C=W.getBounds(h);switch(r){case"horizontal":{let E=z(I({},C),{minX:u.minX,maxX:u.maxX,width:u.width});return W.getShapeUtil(h).transformSingle(h,E,{type:E1.TopLeft,scaleX:E.width/C.width,scaleY:1,initialShape:h,transformOrigin:[.5,.5]})}case"vertical":{let E=z(I({},C),{minY:u.minY,maxY:u.maxY,height:u.height});return W.getShapeUtil(h).transformSingle(h,E,{type:E1.TopLeft,scaleX:1,scaleY:E.height/C.height,initialShape:h,transformOrigin:[.5,.5]})}}},o);return i.forEach(h=>{h.type==="group"&&(delete c[h.id],delete d[h.id])}),{id:"stretch",before:{document:{pages:{[o]:{shapes:c}},pageStates:{[o]:{selectedIds:n}}}},after:{document:{pages:{[o]:{shapes:d}},pageStates:{[o]:{selectedIds:t}}}}}}function IQ(e,t,r){let{currentPageId:o,selectedIds:n}=e,i=t.flatMap(s=>W.getDocumentBranch(e.state,s,o)).filter(s=>!e.getShape(s).isLocked),l={},u={};return i.map(s=>e.getShape(s)).filter(s=>!s.isLocked).forEach(s=>{l[s.id]={style:I({},Object.fromEntries(Object.keys(r).map(c=>[c,s.style[c]])))},u[s.id]={style:r},s.type==="text"&&(l[s.id].point=s.point,u[s.id].point=w.toFixed(w.add(s.point,w.sub(e.getShapeUtil(s).getCenter(s),e.getShapeUtil(s).getCenter(z(I({},s),{style:I(I({},s.style),r)}))))))}),{id:"style",before:{document:{pages:{[o]:{shapes:l}},pageStates:{[o]:{selectedIds:n}}},appState:{currentStyle:I({},e.appState.currentStyle)}},after:{document:{pages:{[o]:{shapes:u}},pageStates:{[o]:{selectedIds:t}}},appState:{currentStyle:r}}}}function MQ(e,t,r){let{currentPageId:o,selectedIds:n}=e,i=Object.fromEntries(t.map(u=>{var s;return[u,{decorations:{[r]:(s=e.getShape(u).decorations)==null?void 0:s[r]}}]})),l=Object.fromEntries(t.filter(u=>!e.getShape(u).isLocked).map(u=>{var s;return[u,{decorations:{[r]:(s=e.getShape(u).decorations)!=null&&s[r]?void 0:"arrow"}}]}));return{id:"toggle_decorations",before:{document:{pages:{[o]:{shapes:i}},pageStates:{[o]:{selectedIds:n}}}},after:{document:{pages:{[o]:{shapes:l}},pageStates:{[o]:{selectedIds:t}}}}}}function Ca(e,t,r){let{currentPageId:o}=e,n=t.map(s=>e.getShape(s)).filter(s=>r==="isLocked"?!0:!s.isLocked),i=n.every(s=>s[r]),l={},u={};return n.forEach(s=>{l[s.id]={[r]:s[r]},u[s.id]={[r]:!i}}),{id:"toggle",before:{document:{pages:{[o]:{shapes:l}},pageStates:{[o]:{selectedIds:t}}}},after:{document:{pages:{[o]:{shapes:u}},pageStates:{[o]:{selectedIds:t}}}}}}function DQ(e,t,r){let{currentPageId:o,selectedIds:n}=e;e.rotationInfo.selectedIds=[...n];let i={shapes:{},bindings:{}},l={shapes:{},bindings:{}},u=t.flatMap(c=>{let d=e.getShape(c);return d.children?d.children:d.id}).filter(c=>!e.getShape(c).isLocked),s=W.mutateShapes(e.state,u,c=>({point:w.toFixed(w.add(c.point,r))}),o);return i.shapes=s.before,l.shapes=s.after,W.getBindings(e.state,o).filter(c=>t.includes(c.fromId)&&!t.includes(c.toId)).forEach(c=>{i.bindings[c.id]=c,l.bindings[c.id]=void 0;for(let d of[c.toId,c.fromId]){let h=e.getShape(d);!h.handles||Object.values(h.handles).filter(C=>C.bindingId===c.id).forEach(C=>{var E,v;i.shapes[d]=z(I({},i.shapes[d]),{handles:z(I({},(E=i.shapes[d])==null?void 0:E.handles),{[C.id]:{bindingId:c.id}})}),l.shapes[d]=z(I({},l.shapes[d]),{handles:z(I({},(v=l.shapes[d])==null?void 0:v.handles),{[C.id]:{bindingId:void 0}})})})}}),{id:"translate",before:{document:{pages:{[o]:i},pageStates:{[o]:{selectedIds:t}}}},after:{document:{pages:{[o]:l},pageStates:{[o]:{selectedIds:t}}}}}}function kQ(e,t,r,o){let{bindings:n}=e,i={},l={},u={},s={},c=t,d=t.filter(h=>!r.find(C=>C.id===h));return r.filter(h=>!h.isLocked).forEach(h=>{let C=[],E=[];i[h.id]=h,l[h.id]=void 0,h.children.forEach(y=>{d.push(y);let x=e.getShape(y,o);C.push(x)});let v=h.childIndex,_=(W.getChildIndexAbove(e.state,h.id,o)-v)/C.length;C.sort((y,x)=>y.childIndex-x.childIndex).forEach((y,x)=>{i[y.id]={parentId:y.parentId,childIndex:y.childIndex},l[y.id]={parentId:o,childIndex:v+_*x}}),n.filter(y=>y.toId===h.id||y.fromId===h.id).forEach(y=>{for(let x of[y.toId,y.fromId])if(l[x]===void 0){u[y.id]=y,s[y.id]=void 0;let S=e.getShape(x,o);S.handles&&Object.values(S.handles).filter(D=>D.bindingId===y.id).forEach(D=>{var F,k;i[x]=z(I({},i[x]),{handles:z(I({},(F=i[x])==null?void 0:F.handles),{[D.id]:{bindingId:y.id}})}),E.includes(x)||(l[x]=z(I({},l[x]),{handles:z(I({},(k=l[x])==null?void 0:k.handles),{[D.id]:{bindingId:void 0}})}))})}})}),{id:"ungroup",before:{document:{pages:{[o]:{shapes:i,bindings:u}},pageStates:{[o]:{selectedIds:c}}}},after:{document:{pages:{[o]:{shapes:l,bindings:u}},pageStates:{[o]:{selectedIds:d}}}}}}function P2(e,t,r){let o=t.map(i=>i.id),n=W.mutateShapes(e.state,o.filter(i=>!e.getShape(i,r).isLocked),(i,l)=>t[l],r);return{id:"update",before:{document:{pages:{[r]:{shapes:n.before}}}},after:{document:{pages:{[r]:{shapes:n.after}}}}}}function PQ(e,t,r){let{currentPageId:o,selectedIds:n}=e,i=t.map(c=>e.getShape(c)).filter(c=>r.isLocked?!0:!c.isLocked),l={},u={},s=Object.keys(r);return i.forEach(c=>{l[c.id]=Object.fromEntries(s.map(d=>[d,c[d]])),u[c.id]=r}),{id:"set_props",before:{document:{pages:{[o]:{shapes:l}},pageStates:{[o]:{selectedIds:n}}}},after:{document:{pages:{[o]:{shapes:u}},pageStates:{[o]:{selectedIds:n}}}}}}function $Q(e,t,r={}){let{currentPageId:o}=e,{point:n,select:i,overwrite:l}=r,u=e.document.pages[o],s={shapes:{},bindings:{}},c={},d={shapes:{},bindings:{}};if(l){for(let C of t.shapes)s.shapes[C.id]=u.shapes[C.id],d.shapes[C.id]=C;if(t.bindings)for(let C of t.bindings)s.bindings[C.id]=u.bindings[C.id],d.bindings[C.id]=C;if(t.assets)for(let C of t.assets)c[C.id]=C}else{let C={},E=W.getTopChildIndex(e.state,o),v=t.shapes.sort((x,S)=>x.childIndex-S.childIndex).map(x=>{let S=M.uniqueId();return C[x.id]=S,z(I({},M.deepClone(x)),{id:S})}),_=new Set;for(;v.length>0;){let x=v.shift();if(!x)break;if(_.add(x.id),x.parentId==="currentPageId")x.parentId=o,x.childIndex=E++;else{x.parentId=C[x.parentId];let S=d.shapes[x.parentId];if(!S){_.has(x.id)&&(x.parentId="currentPageId"),v.push(x);continue}S.children.push(x.id)}x.children&&(x.children=[]),s.shapes[x.id]=void 0,d.shapes[x.id]=x}Object.values(d.shapes).forEach(x=>{x.children&&x.children.length===0&&(delete s.shapes[x.id],delete d.shapes[x.id])}),t.bindings&&t.bindings.forEach(x=>{let S=M.uniqueId();C[x.id]=S;let D=C[x.toId],F=C[x.fromId];if(!D||!F){if(F){let A=d.shapes[F].handles;A&&Object.values(A).forEach(Z=>{Z.bindingId===x.id&&(Z.bindingId=void 0)})}if(D){let A=d.shapes[D].handles;A&&Object.values(A).forEach(Z=>{Z.bindingId===x.id&&(Z.bindingId=void 0)})}return}let k=d.shapes[F].handles;k&&Object.values(k).forEach(A=>{A.bindingId===x.id&&(A.bindingId=S)}),d.shapes[D].handles&&Object.values(d.shapes[D].handles).forEach(A=>{A.bindingId===x.id&&(A.bindingId=S)});let P=z(I({},M.deepClone(x)),{id:S,toId:D,fromId:F});s.bindings[P.id]=void 0,d.bindings[P.id]=P});let y=Object.values(d.shapes);if(y.length>0)if(n){let x=M.getCommonBounds(y.map(D=>W.getBounds(D))),S=M.getBoundsCenter(x);y.forEach(D=>{!D.point||(D.point=w.sub(n,w.sub(S,D.point)))})}else{let x=M.getCommonBounds(y.map(W.getBounds));if(!(M.boundsContain(e.viewport,x)||M.boundsCollide(e.viewport,x))){let S=w.toFixed(e.getPagePoint(e.centerPoint)),D=M.centerBounds(x,S),F=w.sub(M.getBoundsCenter(D),M.getBoundsCenter(x));y.forEach(k=>{k.point=w.toFixed(w.add(k.point,F))})}}if(t.assets)for(let x of t.assets)c[x.id]=x}let h=document.createElement("textarea");return Object.values(d.shapes).forEach(C=>{"text"in C&&(h.innerHTML=C.text,C.text=h.value),"label"in C&&(h.innerHTML=C.label,C.label=h.value)}),h.remove(),{id:"insert",before:{document:{pages:{[o]:s},pageStates:{[o]:{selectedIds:[...e.selectedIds]}}}},after:{document:{pages:{[o]:d},assets:c,pageStates:{[o]:{selectedIds:i?Object.keys(d.shapes):[...e.selectedIds]}}}}}}var $2={};bc($2,{fileToBase64:()=>O2,fileToText:()=>F2,getImageSizeFromSrc:()=>j2,getVideoSizeFromSrc:()=>V2,loadFileHandle:()=>H2,migrate:()=>br,openAssetsFromFileSystem:()=>T2,openFromFileSystem:()=>A2,saveFileHandle:()=>va,saveToFileSystem:()=>Ea});function br(e,t){let{document:r,settings:o}=e,{version:n=0}=r;"assets"in r||(r.assets={});let i=new Set;return Object.values(r.pages).forEach(l=>Object.values(l.shapes).forEach(u=>{let{parentId:s,children:c,assetId:d}=u;d&&i.add(d),s!==l.id&&!l.shapes[s]&&(console.warn("Encountered a shape with a missing parent!"),u.parentId=l.id),u.type==="group"&&c&&c.forEach(h=>{l.shapes[h]||(console.warn("Encountered a parent with a missing child!",u.id,h),c?.splice(c.indexOf(h),1))})})),Object.keys(r.assets).forEach(l=>{i.has(l)||delete r.assets[l]}),n!==t&&(n<14&&Object.values(r.pages).forEach(l=>{Object.values(l.shapes).filter(u=>u.type==="text").forEach(u=>u.style.font==="script")}),n<=13&&Object.values(r.pages).forEach(l=>{Object.values(l.bindings).forEach(u=>{Object.assign(u,u.meta)}),Object.values(l.shapes).forEach(u=>{Object.entries(u.style).forEach(([s,c])=>{typeof c=="string"&&(u.style[s]=c.toLowerCase())}),u.type==="arrow"&&u.decorations&&Object.entries(u.decorations).forEach(([s,c])=>{c==="Arrow"&&(u.decorations=z(I({},u.decorations),{[s]:"arrow"}))})})}),n<=13.1&&(r.name="New Document"),n<15&&(r.assets={}),Object.values(r.pages).forEach(l=>{Object.values(l.shapes).forEach(u=>{n<15.2&&(u.type==="image"||u.type==="video")&&(u.style.isFilled=!0),n<15.3&&(u.type==="rectangle"||u.type==="triangle"||u.type==="ellipse"||u.type==="arrow")&&(u.label=u.text||"",u.labelPoint=[.5,.5])})}),n<15.4&&(o.dockPosition="bottom"),n<15.5&&(o.exportBackground="transparent")),Object.values(r.pageStates).forEach(l=>{l.selectedIds=l.selectedIds.filter(u=>r.pages[l.id].shapes[u]!==void 0),l.bindingId=void 0,l.editingId=void 0,l.hoveredId=void 0,l.pointedId=void 0}),r.version=t,e}var B2={mode:"readwrite"},BQ=e=>Te(void 0,null,function*(){return(yield e.queryPermission(B2))==="granted"||(yield e.requestPermission(B2))==="granted"});function H2(){return Te(this,null,function*(){return typeof Window>"u"||!("_location"in Window)?void 0:(yield c0(`Tldraw_file_handle_${window.location.origin}`))||null})}function va(e){return Te(this,null,function*(){return vn(`Tldraw_file_handle_${window.location.origin}`,e)})}function Ea(e,t,r){return Te(this,null,function*(){let o={name:e.name||"New Document",fileHandle:t??null,document:e,assets:{}},n=JSON.stringify(o),i=new Blob([n],{type:"application/vnd.Tldraw+json"});if(t&&!(yield BQ(t)))return null;let l=!Po&&r?.length?r:`${o.name}`,u=yield bs(i,{fileName:`${l}${ia}`,description:"Tldraw File",extensions:[`${ia}`]},t);return yield va(u),u})}function A2(){return Te(this,null,function*(){var e;let t=yield zi({description:"Tldraw File",extensions:[`${ia}`],multiple:!1});if(!t)return null;let r=yield new Promise(i=>{let l=new FileReader;l.onloadend=()=>{l.readyState===FileReader.DONE&&i(l.result)},l.readAsText(t,"utf8")}),o=JSON.parse(r),n=(e=t.handle)!=null?e:null;return yield va(n),{fileHandle:n,document:o.document}})}function T2(){return Te(this,null,function*(){return zi({description:"Image or Video",extensions:[...Qs,...e2],multiple:!0})})}function O2(e){return new Promise((t,r)=>{if(e){let o=new FileReader;o.readAsDataURL(e),o.onload=()=>t(o.result),o.onerror=n=>r(n),o.onabort=n=>r(n)}})}function F2(e){return new Promise((t,r)=>{if(e){let o=new FileReader;o.readAsText(e),o.onload=()=>t(o.result),o.onerror=n=>r(n),o.onabort=n=>r(n)}})}function j2(e){return new Promise((t,r)=>{let o=new Image;o.onload=()=>t([o.width,o.height]),o.onerror=()=>r(new Error("Could not get image size")),o.src=e})}function V2(e){return new Promise((t,r)=>{let o=document.createElement("video");o.onloadedmetadata=()=>t([o.videoWidth,o.videoHeight]),o.onerror=()=>r(new Error("Could not get video size")),o.src=e})}_c($2,$);var U1=class{constructor(e){this.app=e}},HQ=class extends U1{constructor(e,t,r,o=!1){super(e),g(this,"type","arrow"),g(this,"performanceMode"),g(this,"status","translatingHandle"),g(this,"newStartBindingId",M.uniqueId()),g(this,"draggedBindingId",M.uniqueId()),g(this,"didBind",!1),g(this,"initialShape"),g(this,"handleId"),g(this,"bindableShapeIds"),g(this,"initialBinding"),g(this,"startBindingShapeId"),g(this,"isCreate"),g(this,"start",()=>{}),g(this,"update",()=>{var h,C,E;let{initialShape:v}=this,{currentPoint:_,shiftKey:y,altKey:x,metaKey:S,currentGrid:D,settings:{showGrid:F}}=this.app,k=this.app.getShape(v.id);if(k.isLocked)return;let{handles:P}=v,A=this.handleId;if(!P[A].canBind)return;let Z=w.sub(_,w.add(P[A].point,v.point));if(y){let Ve=x?w.med(P.start.point,P.end.point):P[A==="start"?"end":"start"].point,ze=P[A].point,Xe=w.add(ze,Z),Qt=w.angle(Ve,Xe),Qe=w.rotWith(Xe,Ve,M.snapAngleToSegments(Qt,24)-Qt);Z=w.add(Z,w.sub(Qe,Xe))}let oe=w.add(P[A].point,Z),be={[A]:z(I({},P[A]),{point:F?w.snap(oe,D):w.toFixed(oe),bindingId:void 0})},ce=Ao.arrow,_e=(h=ce.onHandleChange)==null?void 0:h.call(ce,v,be);if(!_e)return;let ye={shape:M.deepMerge(k,_e),bindings:{}},Ke,Ze=ye.shape.handles[this.handleId],ut=ye.shape.handles[this.handleId==="start"?"end":"start"];if(this.startBindingShapeId){let Ve,ze=this.app.page.shapes[this.startBindingShapeId],Xe=W.getShapeUtil(ze),Qt=Xe.getCenter(ze),Qe=ye.shape.handles.start,p1=ye.shape.handles.end,jt=w.add(Qe.point,ye.shape.point);w.isEqual(jt,Qt)&&jt[1]++;let Nt=Qt,x1=Xe.hitTestPoint(ze,_),_r=w.uni(w.sub(jt,Nt)),co=this.app.getBinding(this.newStartBindingId)!==void 0;!S&&!Xe.hitTestPoint(ze,w.add(ye.shape.point,p1.point))&&(Ve=this.findBindingPoint(k,ze,"start",this.newStartBindingId,Qt,Nt,_r,x1)),Ve&&!co?(this.didBind=!0,ye.bindings[this.newStartBindingId]=Ve,ye.shape=M.deepMerge(ye.shape,{handles:{start:{bindingId:Ve.id}}})):!Ve&&co&&(this.didBind=!1,ye.bindings[this.newStartBindingId]=void 0,ye.shape=M.deepMerge(v,{handles:{start:{bindingId:void 0}}}))}if(!S){let Ve=w.add(ut.point,ye.shape.point),ze=w.add(Ze.point,ye.shape.point),Xe=w.uni(w.sub(ze,Ve)),Qt=w.add(ye.shape.point,ye.shape.handles.start.point),Qe=w.add(ye.shape.point,ye.shape.handles.end.point),p1=this.bindableShapeIds.map(jt=>this.app.page.shapes[jt]).sort((jt,Nt)=>Nt.childIndex-jt.childIndex).filter(jt=>{if(jt.isLocked)return!1;let Nt=W.getShapeUtil(jt);return![Qt,Qe].every(x1=>Nt.hitTestPoint(jt,x1))});for(let jt of p1)if(Ke=this.findBindingPoint(k,jt,this.handleId,this.draggedBindingId,ze,Ve,Xe,x),Ke)break}if(Ke)this.didBind=!0,ye.bindings[this.draggedBindingId]=Ke,ye.shape=M.deepMerge(ye.shape,{handles:{[this.handleId]:{bindingId:this.draggedBindingId}}});else{this.didBind=this.didBind||!1;let Ve=k.handles[this.handleId].bindingId;Ve!==void 0&&(ye.bindings[Ve]=void 0,ye.shape=M.deepMerge(ye.shape,{handles:{[this.handleId]:{bindingId:void 0}}}))}let ie=(E=(C=W.getShapeUtil(ye.shape)).onHandleChange)==null?void 0:E.call(C,ye.shape,ye.shape.handles);return{document:{pages:{[this.app.currentPageId]:{shapes:{[k.id]:I(I({},ye.shape),ie??{})},bindings:ye.bindings}},pageStates:{[this.app.currentPageId]:{bindingId:ye.shape.handles[A].bindingId}}}}}),g(this,"cancel",()=>{let{initialShape:h,initialBinding:C,newStartBindingId:E,draggedBindingId:v}=this,_=W.onSessionComplete(this.app.page.shapes[h.id]),y=this.isCreate||w.dist(_.handles.start.point,_.handles.end.point)<4,x={};return x[v]=void 0,C&&(x[C.id]=y?void 0:C),E&&(x[E]=void 0),{document:{pages:{[this.app.currentPageId]:{shapes:{[h.id]:y?void 0:h},bindings:x}},pageStates:{[this.app.currentPageId]:{selectedIds:y?[]:[h.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}}),g(this,"complete",()=>{let{initialShape:h,initialBinding:C,newStartBindingId:E,startBindingShapeId:v,handleId:_}=this,y=W.onSessionComplete(this.app.page.shapes[h.id]),x=y.handles[_].bindingId,S=w.dist(y.handles.start.point,y.handles.end.point);if(!(x||C)&&S<4)return this.cancel();let D={},F={};return C&&(D[C.id]=this.isCreate?void 0:C,F[C.id]=void 0),x&&(D[x]=void 0,F[x]=this.app.page.bindings[x]),v&&(D[E]=void 0,F[E]=this.app.page.bindings[E]),{id:"arrow",before:{document:{pages:{[this.app.currentPageId]:{shapes:{[h.id]:this.isCreate?void 0:h},bindings:D}},pageStates:{[this.app.currentPageId]:{selectedIds:this.isCreate?[]:[h.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}},after:{document:{pages:{[this.app.currentPageId]:{shapes:{[h.id]:y},bindings:F}},pageStates:{[this.app.currentPageId]:{selectedIds:[h.id],bindingId:void 0,hoveredId:void 0,editingId:void 0}}}}}}),g(this,"findBindingPoint",(h,C,E,v,_,y,x,S)=>{let D=W.getShapeUtil(C.type).getBindingPoint(C,h,_,y,x,S);if(D)return{id:v,type:"arrow",fromId:h.id,toId:C.id,handleId:E,point:w.toFixed(D.point),distance:D.distance}});var n,i,l;this.isCreate=o;let{currentPageId:u}=e.state.appState,s=e.state.document.pages[u];this.handleId=r,this.initialShape=y1(s.shapes[t]),this.bindableShapeIds=W.getBindableShapeIds(e.state).filter(h=>!(h===this.initialShape.id||h===this.initialShape.parentId));let c=(n=this.initialShape.handles[r==="start"?"end":"start"])==null?void 0:n.bindingId;if(c){let h=(i=s.bindings[c])==null?void 0:i.toId;h&&(this.bindableShapeIds=this.bindableShapeIds.filter(C=>C!==h))}let{originPoint:d}=this.app;if(this.isCreate)this.startBindingShapeId=(l=this.bindableShapeIds.map(h=>s.shapes[h]).filter(h=>!h.isLocked&&M.pointInBounds(d,W.getShapeUtil(h).getBounds(h))).sort((h,C)=>C.childIndex-h.childIndex)[0])==null?void 0:l.id,this.startBindingShapeId&&this.bindableShapeIds.splice(this.bindableShapeIds.indexOf(this.startBindingShapeId),1);else{let h=this.initialShape.handles[this.handleId].bindingId;h?this.initialBinding=s.bindings[h]:this.initialShape.handles[this.handleId].bindingId=void 0}}},AQ=class extends U1{constructor(e){super(e),g(this,"type","brush"),g(this,"performanceMode"),g(this,"status","brushing"),g(this,"initialSelectedIds"),g(this,"shapesToTest"),g(this,"start",()=>{}),g(this,"update",()=>{let{initialSelectedIds:r,shapesToTest:o,app:{metaKey:n,settings:i,originPoint:l,currentPoint:u}}=this,s=M.getBoundsFromPoints([l,u]),c=i.isCadSelectMode?!n&&l[0]<u[0]:n,d=new Set,h=new Set(r);o.forEach(({id:_,selectId:y})=>{let x=this.app.getShape(_);if(!d.has(y)){let S=this.app.getShapeUtil(x);(c?M.boundsContain(s,S.getBounds(x)):S.hitTestBounds(x,s))?(d.add(y),h.has(y)||h.add(y)):h.has(y)&&h.delete(y)}});let C=this.app.selectedIds,E=h.size!==C.length||C.some(_=>!h.has(_)),v=E?Array.from(h.values()):C;return E?{appState:{selectByContain:c},document:{pageStates:{[this.app.currentPageId]:{brush:s,selectedIds:v}}}}:{appState:{selectByContain:c},document:{pageStates:{[this.app.currentPageId]:{brush:s}}}}}),g(this,"cancel",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:Array.from(this.initialSelectedIds.values())}}}})),g(this,"complete",()=>({appState:{selectByContain:!1},document:{pageStates:{[this.app.currentPageId]:{brush:null,selectedIds:[...this.app.selectedIds]}}}}));let{currentPageId:t}=e;this.initialSelectedIds=new Set(this.app.selectedIds),this.shapesToTest=this.app.shapes.filter(r=>!(r.isLocked||r.isHidden||r.parentId!==t||this.initialSelectedIds.has(r.id)||this.initialSelectedIds.has(r.parentId))).map(r=>({id:r.id,bounds:this.app.getShapeUtil(r).getBounds(r),selectId:r.id})),this.update()}},TQ=class extends U1{constructor(e,t){super(e),g(this,"type","draw"),g(this,"performanceMode"),g(this,"status","creating"),g(this,"topLeft"),g(this,"points"),g(this,"initialShape"),g(this,"lastAdjustedPoint"),g(this,"shiftedPoints",[]),g(this,"shapeId"),g(this,"isLocked"),g(this,"isExtending"),g(this,"lockedDirection"),g(this,"start",()=>{var s;let c=this.app.originPoint,d=[0,0,(s=c[2])!=null?s:.5];this.points.push(d);let h=[Math.min(this.topLeft[0],c[0]),Math.min(this.topLeft[1],c[1])],C=w.sub(h,c);return this.topLeft=h,this.shiftedPoints=this.points.map(E=>w.toFixed(w.sub(E,C)).concat(E[2])),{document:{pages:{[this.app.currentPageId]:{shapes:{[this.shapeId]:{point:this.topLeft,points:this.shiftedPoints}}}},pageStates:{[this.app.currentPageId]:{selectedIds:[this.shapeId]}}}}}),g(this,"update",()=>{let{shapeId:s}=this,{currentPoint:c,originPoint:d,shiftKey:h,zoom:C}=this.app;if(!this.lockedDirection&&this.points.length>1){let v=w.sub(c,d);w.len(v)>3/C&&(this.lockedDirection=Math.abs(v[0])>Math.abs(v[1])?"horizontal":"vertical")}if(h){if(!this.isLocked&&this.points.length>2){if(!this.lockedDirection){let _=w.sub(c,d);w.len(_)>3/C&&(this.lockedDirection=Math.abs(_[0])>Math.abs(_[1])?"horizontal":"vertical")}this.isLocked=!0;let v=[...this.lastAdjustedPoint];this.lockedDirection==="vertical"?v[0]=0:v[1]=0,this.points.push(v.concat(c[2]))}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?c[0]=d[0]:c[1]=d[1]);let E=this.addPoint(c);if(E)return{document:{pages:{[this.app.currentPageId]:{shapes:{[s]:E}}},pageStates:{[this.app.currentPageId]:{selectedIds:[s]}}}}}),g(this,"cancel",()=>{let{shapeId:s}=this,c=this.app.currentPageId;return{document:{pages:{[c]:{shapes:{[s]:this.isExtending?this.initialShape:void 0}}},pageStates:{[c]:{selectedIds:[]}}}}}),g(this,"complete",()=>{let{shapeId:s}=this,c=this.app.currentPageId,d=this.app.getShape(s);return{id:"create_draw",before:{document:{pages:{[c]:{shapes:{[s]:this.isExtending?this.initialShape:void 0}}},pageStates:{[c]:{selectedIds:[]}}}},after:{document:{pages:{[c]:{shapes:{[s]:z(I({},d),{point:w.toFixed(d.point),points:d.points.map(h=>w.toFixed(h)),isComplete:!0})}}},pageStates:{[this.app.currentPageId]:{selectedIds:[]}}}}}}),g(this,"addPoint",s=>{let{originPoint:c}=this.app,d=w.toFixed(w.sub(s,c)).concat(s[2]);if(w.isEqual(this.lastAdjustedPoint,d))return;this.points.push(d),this.lastAdjustedPoint=d;let h=[...this.topLeft],C=[Math.min(this.topLeft[0],s[0]),Math.min(this.topLeft[1],s[1])],E=w.sub(C,c),v;return h[0]!==C[0]||h[1]!==C[1]?(this.topLeft=C,v=this.points.map(_=>w.toFixed(w.sub(_,E)).concat(_[2]))):v=[...this.shiftedPoints,w.sub(d,E).concat(d[2])],this.shiftedPoints=v,{point:this.topLeft,points:v}});var r;let{originPoint:o}=this.app;this.shapeId=t,this.initialShape=this.app.getShape(t),this.topLeft=[...this.initialShape.point];let n=[0,0,(r=o[2])!=null?r:.5],i=w.sub(o,this.topLeft),l=this.initialShape.points.map(s=>w.sub(s,i).concat(s[2]));this.isExtending=l.length>0;let u=[];if(this.isExtending){let s=l[l.length-1];if(s){u.push(s,s);let c=Math.floor(w.dist(s,n)/16);if(c>1)for(let d=0;d<c;d++){let h=d/(c-1);u.push(w.lrp(s,n,h).concat(s[2]))}else u.push(n,n)}}else u.push(n);this.points=[...l,...u],this.shiftedPoints=this.points.map(s=>w.add(s,i).concat(s[2])),this.lastAdjustedPoint=this.points[this.points.length-1]}},OQ=class extends U1{constructor(e,t,r){super(e),g(this,"type","edit"),g(this,"performanceMode"),g(this,"initialShape"),g(this,"initialSelectedIds"),g(this,"currentPageId"),g(this,"isCreating"),g(this,"start",()=>{}),g(this,"update",()=>{}),g(this,"cancel",()=>({document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}})),g(this,"complete",()=>{let o=this.app.getShape(this.initialShape.id);return{id:"edit",before:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:this.isCreating?void 0:this.initialShape}}},pageStates:{[this.currentPageId]:{selectedIds:this.isCreating?[]:this.initialSelectedIds,editingId:void 0}}}},after:{document:{pages:{[this.currentPageId]:{shapes:{[this.initialShape.id]:o}}},pageStates:{[this.currentPageId]:{selectedIds:[o.id],editingId:void 0}}}}}}),this.initialShape=e.getShape(t,e.currentPageId),this.currentPageId=e.currentPageId,this.isCreating=r,this.initialSelectedIds=[...e.selectedIds]}},FQ=class extends U1{constructor(e){super(e),g(this,"type","draw"),g(this,"performanceMode"),g(this,"status","creating"),g(this,"isLocked"),g(this,"lockedDirection"),g(this,"erasedShapes",new Set),g(this,"erasedBindings",new Set),g(this,"initialSelectedShapes"),g(this,"erasableShapes"),g(this,"prevPoint"),g(this,"prevEraseShapesSize",0),g(this,"interval"),g(this,"timestamp1",0),g(this,"timestamp2",0),g(this,"prevErasePoint",[]),g(this,"loop",()=>{let t=Date.now(),r=t-this.timestamp1,o=t-this.timestamp2,{eraseLine:n}=this.app.appState,i=[...n],l=!1;r>16&&this.prevErasePoint!==this.prevPoint&&(l=!0,i=[...n,this.prevPoint],this.prevErasePoint=this.prevPoint),o>32&&i.length>1&&(l=!0,i.splice(0,Math.ceil(i.length*.1)),this.timestamp2=t),l&&this.app.patchState({appState:{eraseLine:i}},"eraseline"),this.interval=requestAnimationFrame(this.loop)}),g(this,"start",()=>{}),g(this,"update",()=>{let{page:t,shiftKey:r,originPoint:o,currentPoint:n,zoom:i}=this.app;if(r){let c=w.sub(n,o);if(!this.isLocked&&w.len(c)>3/i){if(!this.lockedDirection){let d=w.sub(n,o);this.lockedDirection=Math.abs(d[0])>Math.abs(d[1])?"horizontal":"vertical"}this.isLocked=!0}}else this.isLocked&&(this.isLocked=!1);this.isLocked&&(this.lockedDirection==="vertical"?n[0]=o[0]:n[1]=o[1]);let l=w.toFixed(w.add(o,w.sub(n,o))),u=new Set([]);this.erasableShapes.forEach(c=>{if(!this.erasedShapes.has(c)&&this.app.getShapeUtil(c).hitTestLineSegment(c,this.prevPoint,l)&&(this.erasedShapes.add(c),u.add(c.id),c.children!==void 0))for(let d of c.children)this.erasedShapes.add(this.app.getShape(d)),u.add(d)}),Object.values(t.bindings).forEach(c=>{for(let d of[c.toId,c.fromId])u.has(d)&&this.erasedBindings.add(c)}),this.erasedShapes.forEach(c=>{this.app.getShape(c.id)||(this.erasedShapes.delete(c),this.erasableShapes.delete(c),u.delete(c.id))});let s=Array.from(this.erasedShapes.values());if(this.prevPoint=l,s.length!==this.prevEraseShapesSize)return this.prevEraseShapesSize=s.length,{document:{pages:{[t.id]:{shapes:Object.fromEntries(s.map(c=>[c.id,{isGhost:!0}]))}}}}}),g(this,"cancel",()=>{let{page:t}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(o=>{this.app.getShape(o.id)||(this.erasedShapes.delete(o),this.erasableShapes.delete(o))});let r=Array.from(this.erasedShapes.values());return{document:{pages:{[t.id]:{shapes:Object.fromEntries(r.map(o=>[o.id,{isGhost:!1}]))}},pageStates:{[t.id]:{selectedIds:this.initialSelectedShapes.map(o=>o.id)}}},appState:{eraseLine:[]}}}),g(this,"complete",()=>{let{page:t}=this.app;cancelAnimationFrame(this.interval),this.erasedShapes.forEach(s=>{this.app.getShape(s.id)||(this.erasedShapes.delete(s),this.erasableShapes.delete(s))}),this.erasedBindings.forEach(s=>{this.app.getBinding(s.id)||this.erasedBindings.delete(s)});let r=Array.from(this.erasedShapes.values()),o=Array.from(this.erasedBindings.values()),n=r.map(s=>s.id),i=o.map(s=>s.id),l={shapes:Object.fromEntries(r.map(s=>[s.id,s])),bindings:Object.fromEntries(o.map(s=>[s.id,s]))},u={shapes:Object.fromEntries(r.map(s=>[s.id,void 0])),bindings:Object.fromEntries(o.map(s=>[s.id,void 0]))};return this.app.shapes.forEach(s=>{s.handles&&!u.shapes[s.id]&&Object.values(s.handles).forEach(c=>{var d,h;c.bindingId&&i.includes(c.bindingId)&&(l.shapes[s.id]=z(I({},l.shapes[s.id]),{handles:z(I({},(d=l.shapes[s.id])==null?void 0:d.handles),{[c.id]:c})}),n.includes(s.id)||(u.shapes[s.id]=z(I({},u.shapes[s.id]),{handles:z(I({},(h=u.shapes[s.id])==null?void 0:h.handles),{[c.id]:z(I({},c),{bindingId:void 0})})})))})}),{id:"erase",before:{document:{pages:{[t.id]:l},pageStates:{[t.id]:{selectedIds:this.initialSelectedShapes.filter(s=>!!this.app.getShape(s.id)).map(s=>s.id)}}},appState:{eraseLine:[]}},after:{document:{pages:{[t.id]:u},pageStates:{[t.id]:{selectedIds:this.initialSelectedShapes.filter(s=>!!this.app.getShape(s.id)).filter(s=>!n.includes(s.id)).map(s=>s.id)}}},appState:{eraseLine:[]}}}}),this.prevPoint=[...e.originPoint],this.initialSelectedShapes=this.app.selectedIds.map(t=>this.app.getShape(t)),this.erasableShapes=new Set(this.app.shapes.filter(t=>!t.isLocked)),this.interval=this.loop()}},jQ=class extends U1{constructor(e,t){super(e),g(this,"type","grid"),g(this,"performanceMode"),g(this,"status","translating"),g(this,"shape"),g(this,"bounds"),g(this,"initialSelectedIds"),g(this,"initialSiblings"),g(this,"grid",{}),g(this,"columns",1),g(this,"rows",1),g(this,"isCopying",!1),g(this,"start",()=>{}),g(this,"update",()=>{let{currentPageId:o,altKey:n,shiftKey:i,currentPoint:l}=this.app,u={},s={},c=M.getBoundsCenter(this.bounds),d=w.sub(l,c);i&&(Math.abs(d[0])<Math.abs(d[1])?d[0]=0:d[1]=0);let h=this.bounds.width+32,C=this.bounds.height+32,E=Math.ceil(d[0]/h),v=Math.ceil(d[1]/C),_=Math.min(E,0),y=Math.min(v,0),x=Math.max(E,1),S=Math.max(v,1),D=new Set,F=n;F!==this.isCopying&&(Object.values(this.grid).filter(k=>k!==this.shape.id).forEach(k=>u[k]=void 0),this.grid={"0_0":this.shape.id},this.isCopying=F);for(let k=_;k<x;k++)for(let P=y;P<S;P++){let A=`${k}_${P}`;if(D.add(A),this.grid[A]||k===0&&P===0)continue;let Z=this.getClone(w.add(this.shape.point,[k*h,P*C]),F);u[Z.id]=Z,this.grid[A]=Z.id}if(Object.entries(this.grid).forEach(([k,P])=>{D.has(k)||(u[P]=void 0,delete this.grid[k])}),Object.values(u).length!==0)return this.initialSiblings&&(u[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),{document:{pages:{[o]:{shapes:u}},pageStates:{[o]:s}}}}),g(this,"cancel",()=>{let{currentPageId:o}=this.app,n={};return Object.values(this.grid).forEach(i=>{n[i]=void 0}),n[this.shape.id]=z(I({},n[this.shape.id]),{point:this.shape.point}),this.initialSiblings&&(n[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]}),{document:{pages:{[o]:{shapes:n}},pageStates:{[o]:{selectedIds:[this.shape.id]}}}}}),g(this,"complete",()=>{let{currentPageId:o}=this.app,n={},i={},l=[];if(Object.values(this.grid).forEach(u=>{n[u]=void 0,i[u]=this.app.getShape(u),l.push(u)}),n[this.shape.id]=this.shape,this.initialSiblings&&(n[this.shape.parentId]={children:[...this.initialSiblings,this.shape.id]},i[this.shape.parentId]={children:[...this.initialSiblings,...Object.values(this.grid)]}),l.length!==1)return{id:"grid",before:{document:{pages:{[o]:{shapes:n}},pageStates:{[o]:{selectedIds:[],hoveredId:void 0}}}},after:{document:{pages:{[o]:{shapes:i}},pageStates:{[o]:{selectedIds:l,hoveredId:void 0}}}}}}),g(this,"getClone",(o,n)=>{let i=z(I({},this.shape),{id:M.uniqueId(),point:o});return n||i.type==="sticky"&&(i.text=""),i});var r;this.shape=this.app.getShape(t),this.grid["0_0"]=this.shape.id,this.bounds=this.app.getShapeBounds(t),this.initialSelectedIds=[...this.app.selectedIds],this.shape.parentId!==this.app.currentPageId&&(this.initialSiblings=(r=this.app.getShape(this.shape.parentId).children)==null?void 0:r.filter(o=>o!==this.shape.id))}},VQ=class extends U1{constructor(e,t,r,o="move_handle"){super(e),g(this,"type","handle"),g(this,"performanceMode"),g(this,"status","translatingHandle"),g(this,"commandId"),g(this,"topLeft"),g(this,"shiftKey",!1),g(this,"initialShape"),g(this,"handleId"),g(this,"start",()=>{}),g(this,"update",()=>{var i,l;let{initialShape:u,app:{currentPageId:s,currentPoint:c}}=this,d=this.app.getShape(u.id);if(d.isLocked)return;let h=d.handles,C=this.handleId,E=w.sub(c,h[C].point),v={[C]:z(I({},h[C]),{point:w.sub(w.add(h[C].point,E),d.point)})},_=(l=(i=W.getShapeUtil(d)).onHandleChange)==null?void 0:l.call(i,d,v);if(_)return{document:{pages:{[s]:{shapes:{[d.id]:_}}}}}}),g(this,"cancel",()=>{let{initialShape:i,app:{currentPageId:l}}=this;return{document:{pages:{[l]:{shapes:{[i.id]:i}}}}}}),g(this,"complete",()=>{let{initialShape:i,app:{currentPageId:l}}=this;return{id:this.commandId,before:{document:{pages:{[l]:{shapes:{[i.id]:i}}}}},after:{document:{pages:{[l]:{shapes:{[i.id]:W.onSessionComplete(this.app.getShape(this.initialShape.id))}}}}}}});let{originPoint:n}=e;this.topLeft=[...n],this.handleId=r,this.initialShape=this.app.getShape(t),this.commandId=o}},ZQ=class extends U1{constructor(e){super(e),g(this,"type","rotate"),g(this,"status","transforming"),g(this,"performanceMode"),g(this,"delta",[0,0]),g(this,"commonBoundsCenter"),g(this,"initialAngle"),g(this,"initialShapes"),g(this,"changes",{}),g(this,"start",()=>{}),g(this,"update",()=>{let{commonBoundsCenter:i,initialShapes:l,app:{currentPageId:u,currentPoint:s,shiftKey:c}}=this,d={},h=w.angle(i,s)-this.initialAngle;return c&&(h=M.snapAngleToSegments(h,24)),l.forEach(({center:C,shape:E})=>{let{rotation:v=0}=E,_=0;c&&(_=M.snapAngleToSegments(v,24)-v);let y=W.getRotatedShapeMutation(E,C,i,c?h+_:h);y&&(d[E.id]=y)}),this.changes=d,{document:{pages:{[u]:{shapes:d}}}}}),g(this,"cancel",()=>{let{initialShapes:i,app:{currentPageId:l}}=this,u={};return i.forEach(({shape:s})=>u[s.id]=s),{document:{pages:{[l]:{shapes:u}}}}}),g(this,"complete",()=>{let{initialShapes:i,app:{currentPageId:l}}=this,u={},s=this.changes;return i.forEach(({shape:{id:c,point:d,rotation:h,handles:C}})=>{u[c]={point:d,rotation:h,handles:C}}),{id:"rotate",before:{document:{pages:{[l]:{shapes:u}}}},after:{document:{pages:{[l]:{shapes:s}}}}}});let{app:{currentPageId:t,pageState:r,originPoint:o}}=this,n=W.getSelectedBranchSnapshot(e.state,t).filter(i=>!i.isLocked);if(n.length===0)throw Error("No selected shapes!");if(e.rotationInfo.selectedIds===r.selectedIds){if(e.rotationInfo.center===void 0)throw Error("We should have a center for rotation!");this.commonBoundsCenter=e.rotationInfo.center}else this.commonBoundsCenter=M.getBoundsCenter(M.getCommonBounds(n.map(W.getBounds))),e.rotationInfo.selectedIds=r.selectedIds,e.rotationInfo.center=this.commonBoundsCenter;this.initialShapes=n.filter(i=>i.children===void 0).map(i=>({shape:i,center:this.app.getShapeUtil(i).getCenter(i)})),this.initialAngle=w.angle(this.commonBoundsCenter,o)}},zQ=class extends U1{constructor(e,t=E1.BottomRight,r=!1){super(e),this.transformType=t,this.isCreate=r,g(this,"type","transform"),g(this,"performanceMode"),g(this,"status","transforming"),g(this,"scaleX",1),g(this,"scaleY",1),g(this,"initialShapes"),g(this,"initialShapeIds"),g(this,"initialSelectedIds"),g(this,"shapeBounds"),g(this,"hasUnlockedShapes"),g(this,"isAllAspectRatioLocked"),g(this,"initialCommonBounds"),g(this,"snapInfo",{state:"empty"}),g(this,"prevPoint",[0,0]),g(this,"speed",1),g(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(l=>!this.initialShapeIds.includes(l.id)).map(l=>M.getBoundsWithCenter(W.getRotatedBounds(l)))}}),g(this,"update",()=>{let{transformType:l,shapeBounds:u,initialCommonBounds:s,isAllAspectRatioLocked:c,app:{currentPageId:d,pageState:{camera:h},viewport:C,currentPoint:E,previousPoint:v,originPoint:_,shiftKey:y,altKey:x,metaKey:S,currentGrid:D,settings:{isSnapping:F,showGrid:k}}}=this,P={},A=x?w.mul(w.sub(E,_),2):w.sub(E,_),Z=M.getTransformedBoundingBox(s,l,A,0,y||c);x&&(Z=I(I({},Z),M.centerBounds(Z,M.getBoundsCenter(s)))),k&&(Z=I(I({},Z),M.snapBoundsToGrid(Z,D)));let oe=w.dist(E,v)-this.speed;this.speed=this.speed+oe*(oe>1?.5:.15);let be=[];if((F&&!S||!F&&S)&&this.speed*h.zoom<10&&this.snapInfo.state==="ready"){let ce=M.getSnapPoints(M.getBoundsWithCenter(Z),this.snapInfo.bounds.filter(_e=>M.boundsContain(C,_e)||M.boundsCollide(C,_e)),5/h.zoom);ce&&(be=ce.snapLines,Z=M.getTransformedBoundingBox(s,l,w.sub(A,ce.offset),0,y||c))}return this.scaleX=Z.scaleX,this.scaleY=Z.scaleY,u.forEach(({initialShape:ce,initialShapeBounds:_e,transformOrigin:ye})=>{let Ke=M.getRelativeTransformedBoundingBox(Z,s,_e,this.scaleX<0,this.scaleY<0);k&&(Ke=M.snapBoundsToGrid(Ke,D));let Ze=W.transform(this.app.getShape(ce.id),Ke,{type:this.transformType,initialShape:ce,scaleX:this.scaleX,scaleY:this.scaleY,transformOrigin:ye});P[ce.id]=Ze}),{appState:{snapLines:be},document:{pages:{[d]:{shapes:P}}}}}),g(this,"cancel",()=>{let{shapeBounds:l,app:{currentPageId:u}}=this,s={};return this.isCreate?l.forEach(c=>s[c.initialShape.id]=void 0):l.forEach(c=>s[c.initialShape.id]=c.initialShape),{appState:{snapLines:[]},document:{pages:{[u]:{shapes:s}},pageStates:{[u]:{selectedIds:this.isCreate?[]:l.map(c=>c.initialShape.id)}}}}}),g(this,"complete",()=>{let{isCreate:l,shapeBounds:u,hasUnlockedShapes:s,app:{currentPageId:c}}=this;if(!s)return;if(this.isCreate&&w.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let d={},h={},C,E;return l?(C=[],E=[],u.forEach(({initialShape:v})=>{d[v.id]=void 0,h[v.id]=this.app.getShape(v.id)})):(C=this.initialSelectedIds,E=this.initialSelectedIds,u.forEach(({initialShape:v})=>{d[v.id]=v,h[v.id]=this.app.getShape(v.id)})),{id:"transform",before:{appState:{snapLines:[]},document:{pages:{[c]:{shapes:d}},pageStates:{[c]:{selectedIds:C,hoveredId:void 0,editingId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[c]:{shapes:h}},pageStates:{[c]:{selectedIds:E,hoveredId:void 0,editingId:void 0}}}}}}),this.initialSelectedIds=[...this.app.selectedIds],this.app.rotationInfo.selectedIds=[...this.initialSelectedIds],this.initialShapes=W.getSelectedBranchSnapshot(this.app.state,this.app.currentPageId).filter(l=>!l.isLocked),this.initialShapeIds=this.initialShapes.map(l=>l.id),this.hasUnlockedShapes=this.initialShapes.length>0,this.isAllAspectRatioLocked=this.initialShapes.every(l=>l.isAspectRatioLocked||W.getShapeUtil(l).isAspectRatioLocked);let o=Object.fromEntries(this.initialShapes.map(l=>[l.id,W.getBounds(l)])),n=Object.values(o);this.initialCommonBounds=M.getCommonBounds(n);let i=M.getBoundsFromPoints(n.map(M.getBoundsCenter));this.shapeBounds=this.initialShapes.map(l=>{let u=o[l.id],s=M.getBoundsCenter(u),c=(s[0]-i.minX)/i.width,d=(s[1]-i.minY)/i.height;return{initialShape:l,initialShapeBounds:u,transformOrigin:[c,d]}})}},NQ=class extends U1{constructor(e,t,r,o=!1){super(e),g(this,"type","transformSingle"),g(this,"status","transforming"),g(this,"performanceMode"),g(this,"transformType"),g(this,"scaleX",1),g(this,"scaleY",1),g(this,"isCreate"),g(this,"initialShape"),g(this,"initialShapeBounds"),g(this,"initialCommonBounds"),g(this,"snapInfo",{state:"empty"}),g(this,"prevPoint",[0,0]),g(this,"speed",1),g(this,"start",()=>{this.snapInfo={state:"ready",bounds:this.app.shapes.filter(i=>i.id!==this.initialShape.id).map(i=>M.getBoundsWithCenter(W.getRotatedBounds(i)))}}),g(this,"update",()=>{let{transformType:i,initialShape:l,initialShapeBounds:u,app:{settings:{isSnapping:s,showGrid:c},currentPageId:d,pageState:{camera:h},viewport:C,currentPoint:E,previousPoint:v,originPoint:_,currentGrid:y,shiftKey:x,altKey:S,metaKey:D}}=this;if(l.isLocked)return;let F={},k=S?w.mul(w.sub(E,_),2):w.sub(E,_),P=this.app.getShape(l.id),A=W.getShapeUtil(P),Z=M.getTransformedBoundingBox(u,i,k,P.rotation,x||P.isAspectRatioLocked||A.isAspectRatioLocked);S&&(Z=I(I({},Z),M.centerBounds(Z,M.getBoundsCenter(u)))),c&&(Z=I(I({},Z),M.snapBoundsToGrid(Z,y)));let oe=w.dist(E,v)-this.speed;this.speed=this.speed+oe*(oe>1?.5:.15);let be=[];if((s&&!D||!s&&D)&&!l.rotation&&this.speed*h.zoom<10&&this.snapInfo.state==="ready"){let _e=M.getSnapPoints(M.getBoundsWithCenter(Z),this.snapInfo.bounds.filter(ye=>M.boundsContain(C,ye)||M.boundsCollide(C,ye)),5/h.zoom);_e&&(be=_e.snapLines,Z=M.getTransformedBoundingBox(u,i,w.sub(k,_e.offset),P.rotation,x||P.isAspectRatioLocked||A.isAspectRatioLocked))}let ce=W.getShapeUtil(P).transformSingle(P,Z,{initialShape:l,type:this.transformType,scaleX:Z.scaleX,scaleY:Z.scaleY,transformOrigin:[.5,.5]});return ce&&(F[P.id]=ce),c&&ce&&ce.point&&(ce.point=w.snap(ce.point,y)),{appState:{snapLines:be},document:{pages:{[d]:{shapes:F}}}}}),g(this,"cancel",()=>{let{initialShape:i,app:{currentPageId:l}}=this,u={};return this.isCreate?u[i.id]=void 0:u[i.id]=i,{appState:{snapLines:[]},document:{pages:{[l]:{shapes:u}},pageStates:{[l]:{selectedIds:this.isCreate?[]:[i.id]}}}}}),g(this,"complete",()=>{let{initialShape:i,app:{currentPageId:l}}=this;if(i.isLocked)return;if(this.isCreate&&w.dist(this.app.originPoint,this.app.currentPoint)<2)return this.cancel();let u={},s={};return u[i.id]=this.isCreate?void 0:i,s[i.id]=W.onSessionComplete(this.app.getShape(i.id)),{id:"transform_single",before:{appState:{snapLines:[]},document:{pages:{[l]:{shapes:u}},pageStates:{[l]:{selectedIds:this.isCreate?[]:[i.id],editingId:void 0,hoveredId:void 0}}}},after:{appState:{snapLines:[]},document:{pages:{[l]:{shapes:s}},pageStates:{[l]:{selectedIds:[i.id],editingId:void 0,hoveredId:void 0}}}}}}),this.isCreate=o,this.transformType=r;let n=this.app.getShape(t);this.initialShape=n,this.initialShapeBounds=W.getBounds(n),this.initialCommonBounds=W.getRotatedBounds(n),this.app.rotationInfo.selectedIds=[n.id]}},WQ=class extends U1{constructor(e,t=!1,r=!1){super(e),g(this,"performanceMode"),g(this,"type","translate"),g(this,"status","translating"),g(this,"delta",[0,0]),g(this,"prev",[0,0]),g(this,"prevPoint",[0,0]),g(this,"speed",1),g(this,"cloneInfo",{state:"empty"}),g(this,"snapInfo",{state:"empty"}),g(this,"snapLines",[]),g(this,"isCloning",!1),g(this,"isCreate"),g(this,"link"),g(this,"initialIds"),g(this,"hasUnlockedShapes"),g(this,"initialSelectedIds"),g(this,"initialCommonBounds"),g(this,"initialShapes"),g(this,"initialParentChildren"),g(this,"bindingsToDelete"),g(this,"start",()=>{let{bindingsToDelete:s,initialIds:c,app:{currentPageId:d,page:h}}=this,C=[],E=[];if(Object.values(h.shapes).forEach(y=>{let x=M.getBoundsWithCenter(W.getRotatedBounds(y));C.push(x),c.has(y.id)||E.push(x)}),this.snapInfo={state:"ready",bounds:C,others:E},s.length===0)return;let v={},_={};return s.forEach(y=>{v[y.id]=void 0;let x=this.app.getShape(y.fromId);_[y.fromId]={handles:z(I({},x.handles),{[y.handleId]:z(I({},x.handles[y.handleId]),{bindingId:void 0})})}}),{document:{pages:{[d]:{bindings:v,shapes:_}}}}}),g(this,"update",()=>{let{initialParentChildren:s,initialShapes:c,initialCommonBounds:d,bindingsToDelete:h,app:{pageState:{camera:C},settings:{isSnapping:E,showGrid:v},currentPageId:_,viewport:y,selectedIds:x,currentPoint:S,previousPoint:D,originPoint:F,altKey:k,shiftKey:P,metaKey:A,currentGrid:Z}}=this,oe={},be={},ce={},_e=w.sub(S,F),ye=!1;this.isCreate||(k&&!this.isCloning?(this.isCloning=!0,ye=!0):!k&&this.isCloning&&(this.isCloning=!1,ye=!0)),P&&(Math.abs(_e[0])<Math.abs(_e[1])?_e[0]=0:_e[1]=0);let Ke=w.dist(S,D)-this.speed;if(this.speed=this.speed+Ke*(Ke>1?.5:.15),this.snapLines=[],(E&&!A||!E&&A)&&this.speed*C.zoom<10&&this.snapInfo.state==="ready"){let Ze=M.getSnapPoints(M.getBoundsWithCenter(v?M.snapBoundsToGrid(M.translateBounds(d,_e),Z):M.translateBounds(d,_e)),(this.isCloning?this.snapInfo.bounds:this.snapInfo.others).filter(ut=>M.boundsContain(y,ut)||M.boundsCollide(y,ut)),5/C.zoom);Ze&&(this.snapLines=Ze.snapLines,_e=w.sub(_e,Ze.offset))}if(this.prev=_e,this.isCloning)if(ye){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state==="empty")throw Error;let{clones:Ze,clonedBindings:ut}=this.cloneInfo;this.isCloning=!0,h.forEach(ie=>oe[ie.id]=ie),c.forEach(ie=>be[ie.id]={point:ie.point}),Ze.forEach(ie=>{var Ve;if(be[ie.id]=I({},ie),ie.parentId!==_&&!x.includes(ie.parentId)){let ze=((Ve=be[ie.parentId])==null?void 0:Ve.children)||s[ie.parentId];ze.includes(ie.id)||(be[ie.parentId]=z(I({},be[ie.parentId]),{children:[...ze,ie.id]}))}});for(let ie of ut)oe[ie.id]=ie;ce.selectedIds=Ze.map(ie=>ie.id),Ze.forEach(ie=>{be[ie.id]=z(I({},ie),{point:v?w.snap(w.toFixed(w.add(ie.point,_e)),Z):w.toFixed(w.add(ie.point,_e))})})}else{if(this.cloneInfo.state==="empty")throw Error;let{clones:Ze}=this.cloneInfo;Ze.forEach(ut=>{be[ut.id]={point:v?w.snap(w.toFixed(w.add(ut.point,_e)),Z):w.toFixed(w.add(ut.point,_e))}})}else if(ye){if(this.cloneInfo.state==="empty")throw Error;let{clones:Ze,clonedBindings:ut}=this.cloneInfo;this.isCloning=!1,h.forEach(ie=>oe[ie.id]=void 0),Ze.forEach(ie=>{ie.parentId!==_&&(be[ie.parentId]=z(I({},be[ie.parentId]),{children:s[ie.parentId]}))}),Ze.forEach(ie=>be[ie.id]=void 0),c.forEach(ie=>{be[ie.id]={point:v?w.snap(w.toFixed(w.add(ie.point,_e)),Z):w.toFixed(w.add(ie.point,_e))}});for(let ie of ut)oe[ie.id]=void 0;ce.selectedIds=c.map(ie=>ie.id)}else c.forEach(Ze=>{be[Ze.id]={point:v?w.snap(w.toFixed(w.add(Ze.point,_e)),Z):w.toFixed(w.add(Ze.point,_e))}});return{appState:{snapLines:this.snapLines},document:{pages:{[_]:{shapes:be,bindings:oe}},pageStates:{[_]:ce}}}}),g(this,"cancel",()=>{let{initialShapes:s,initialSelectedIds:c,bindingsToDelete:d,app:{currentPageId:h}}=this,C={},E={},v={editingId:void 0,hoveredId:void 0};if(this.isCreate?(s.forEach(({id:_})=>E[_]=void 0),v.selectedIds=[]):(s.forEach(({id:_,point:y,handles:x})=>E[_]=x?z(I({},E[_]),{point:y,handles:x}):z(I({},E[_]),{point:y})),v.selectedIds=c,d.forEach(_=>{C[_.id]=_})),this.cloneInfo.state==="ready"){let{clones:_,clonedBindings:y}=this.cloneInfo;_.forEach(x=>E[x.id]=void 0),y.forEach(x=>C[x.id]=void 0)}return{appState:{snapLines:[]},document:{pages:{[h]:{shapes:E,bindings:C}},pageStates:{[h]:v}}}}),g(this,"complete",()=>{let{initialShapes:s,initialParentChildren:c,bindingsToDelete:d,app:{currentPageId:h}}=this,C={},E={},v={},_={};if(this.isCloning){if(this.cloneInfo.state==="empty"&&this.createCloneInfo(),this.cloneInfo.state!=="ready")throw Error;let{clones:y,clonedBindings:x}=this.cloneInfo;y.forEach(S=>{E[S.id]=void 0,_[S.id]=this.app.getShape(S.id),S.parentId!==h&&(E[S.parentId]=z(I({},E[S.parentId]),{children:c[S.parentId]}),_[S.parentId]=z(I({},_[S.parentId]),{children:this.app.getShape(S.parentId).children}))}),x.forEach(S=>{C[S.id]=void 0,v[S.id]=this.app.getBinding(S.id)})}else s.forEach(y=>{E[y.id]=this.isCreate?void 0:z(I({},E[y.id]),{point:y.point}),_[y.id]=I(I({},_[y.id]),this.isCreate?this.app.getShape(y.id):{point:this.app.getShape(y.id).point})});return d.forEach(y=>{var x,S,D,F,k;C[y.id]=y,E[y.fromId]=z(I({},E[y.fromId]),{id:y.fromId,handles:z(I({},(x=E[y.fromId])==null?void 0:x.handles),{[y.handleId]:z(I({},(D=(S=E[y.fromId])==null?void 0:S.handles)==null?void 0:D[y.handleId]),{bindingId:y.id})})}),_[y.fromId]=z(I({},_[y.fromId]),{id:y.fromId,handles:z(I({},_[y.fromId].handles),{[y.handleId]:z(I({},(k=(F=_[y.fromId])==null?void 0:F.handles)==null?void 0:k[y.handleId]),{bindingId:void 0})})})}),d.forEach(y=>v[y.id]=void 0),{id:"translate",before:{appState:{snapLines:[]},document:{pages:{[h]:{shapes:E,bindings:C}},pageStates:{[h]:{selectedIds:this.isCreate?[]:[...this.initialSelectedIds]}}}},after:{appState:{snapLines:[]},document:{pages:{[h]:{shapes:_,bindings:v}},pageStates:{[h]:{selectedIds:[...this.app.selectedIds]}}}}}}),g(this,"createCloneInfo",()=>{let{initialShapes:s,initialParentChildren:c,app:{selectedIds:d,currentPageId:h,page:C}}=this,E={},v={},_=[],y=[];s.forEach(S=>{let D=M.uniqueId();c[D]=c[S.id],E[S.id]=D;let F=z(I({},M.deepClone(S)),{id:D,parentId:S.parentId,childIndex:W.getChildIndexAbove(this.app.state,S.id,h)});if(F.type==="video"){let k=document.getElementById(S.id+"_video");k&&(F.currentTime=(k.currentTime+16)%k.duration)}y.push(F)}),y.forEach(S=>{S.children!==void 0&&(S.children=S.children.map(D=>E[D]))}),y.forEach(S=>{d.includes(S.parentId)&&(S.parentId=E[S.parentId])});let x=new Set(Object.keys(E));Object.values(C.bindings).filter(S=>x.has(S.fromId)||x.has(S.toId)).forEach(S=>{if(x.has(S.fromId)&&x.has(S.toId)){let D=M.uniqueId(),F=z(I({},M.deepClone(S)),{id:D,fromId:E[S.fromId]||S.fromId,toId:E[S.toId]||S.toId});v[S.id]=D,_.push(F)}}),y.forEach(S=>{if(S.handles&&S.handles)for(let D in S.handles){let F=S.handles[D];F.bindingId=F.bindingId?v[F.bindingId]:void 0}}),y.forEach(S=>{if(C.shapes[S.id])throw Error("uh oh, we didn't clone correctly")}),this.cloneInfo={state:"ready",clones:y,cloneMap:E,clonedBindings:_}}),this.isCreate=t,this.link=r;let{currentPageId:o,selectedIds:n,page:i}=this.app;this.initialSelectedIds=[...n];let l=(r?W.getLinkedShapeIds(this.app.state,o,r,!1):n).map(s=>this.app.getShape(s)).filter(s=>!s.isLocked),u=new Set(l.map(s=>s.id));this.hasUnlockedShapes=l.length>0,this.initialShapes=Array.from(new Set(l.filter(s=>!u.has(s.parentId)).flatMap(s=>s.children?[s,...s.children.map(c=>this.app.getShape(c))]:[s])).values()),this.initialIds=new Set(this.initialShapes.map(s=>s.id)),this.bindingsToDelete=[],Object.values(i.bindings).filter(s=>this.initialIds.has(s.fromId)||this.initialIds.has(s.toId)).forEach(s=>{this.initialIds.has(s.fromId)&&(this.initialIds.has(s.toId)||this.bindingsToDelete.push(s))}),this.initialParentChildren={},this.initialShapes.map(s=>s.parentId).filter(s=>s!==i.id).forEach(s=>{this.initialParentChildren[s]=this.app.getShape(s).children}),this.initialCommonBounds=M.getCommonBounds(this.initialShapes.map(W.getRotatedBounds)),this.app.rotationInfo.selectedIds=[...this.app.selectedIds]}},UQ={arrow:HQ,brush:AQ,draw:TQ,erase:FQ,handle:VQ,rotate:ZQ,transform:zQ,transformSingle:NQ,translate:WQ,grid:jQ,edit:OQ},KQ=e=>UQ[e],ir=class extends Mc{constructor(e){super(),this.app=e,g(this,"type","select"),g(this,"previous"),g(this,"status","idle"),g(this,"setStatus",t=>{this.status=t,this.app.setStatus(this.status)}),g(this,"onEnter",()=>{this.setStatus("idle")}),g(this,"onExit",()=>{this.setStatus("idle")}),g(this,"onCancel",()=>{this.status==="idle"?this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()}),g(this,"getNextChildIndex",()=>{let{shapes:t,appState:{currentPageId:r}}=this.app;return t.length===0?1:t.filter(o=>o.parentId===r).sort((o,n)=>n.childIndex-o.childIndex)[0].childIndex+1}),g(this,"onPinchStart",()=>{this.app.cancelSession(),this.setStatus("pinching")}),g(this,"onPinchEnd",()=>{M.isMobileSafari()&&this.app.undoSelect(),this.setStatus("idle")}),g(this,"onPinch",(t,r)=>{var o;this.status==="pinching"&&(isNaN(t.delta[0])||isNaN(t.delta[1])||(this.app.pinchZoom(t.point,t.delta,t.delta[2]),(o=this.onPointerMove)==null||o.call(this,t,r)))}),g(this,"onKeyDown",t=>{if(t==="Escape"){this.onCancel();return}if(t==="Meta"||t==="Control"||t==="Alt"){this.app.updateSession();return}}),g(this,"onKeyUp",t=>{if(t==="Meta"||t==="Control"||t==="Alt"){this.app.updateSession();return}}),g(this,"onPointerMove",()=>{this.status==="creating"&&this.app.updateSession()}),g(this,"onPointerUp",()=>{if(this.status==="creating"){this.app.completeSession();let{isToolLocked:t}=this.app.appState;t||this.app.selectTool("select")}this.setStatus("idle")})}},Z2=class extends ir{constructor(){super(...arguments),g(this,"type","arrow"),g(this,"onPointerDown",()=>{if(this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:r},appState:{currentPageId:o,currentStyle:n}}=this.app,i=this.getNextChildIndex(),l=M.uniqueId(),u=ga.create({id:l,parentId:o,childIndex:i,point:r?H.snap(e,t):e,style:I({},n)});this.app.patchCreate([u]),this.app.startSession("arrow",u.id,"end",!0),this.setStatus("creating")})}},z2=class extends ir{constructor(){super(...arguments),g(this,"type","draw"),g(this,"lastShapeId"),g(this,"onEnter",()=>{this.lastShapeId=void 0}),g(this,"onCancel",()=>{switch(this.status){case"idle":{this.app.selectTool("select");break}default:{this.setStatus("idle");break}}this.app.cancelSession()}),g(this,"onPointerDown",e=>{if(this.status!=="idle"||this.app.readOnly)return;let{currentPoint:t,appState:{currentPageId:r,currentStyle:o}}=this.app,n=this.lastShapeId&&this.app.getShape(this.lastShapeId);if(e.shiftKey&&n)this.app.startSession("draw",n.id),this.setStatus("extending");else{let i=this.getNextChildIndex(),l=M.uniqueId(),u=y2.create({id:l,parentId:r,childIndex:i,point:t,style:I({},o)});this.lastShapeId=l,this.app.patchCreate([u]),this.app.startSession("draw",l),this.setStatus("creating")}}),g(this,"onPointerMove",()=>{if(!this.app.readOnly)switch(this.status){case"extending":case"creating":this.app.updateSession()}}),g(this,"onPointerUp",()=>{this.app.completeSession(),this.setStatus("idle")})}},N2=class extends ir{constructor(){super(...arguments),g(this,"type","ellipse"),g(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:r},appState:{currentPageId:o,currentStyle:n}}=this.app,i=this.getNextChildIndex(),l=M.uniqueId(),u=_2.create({id:l,parentId:o,childIndex:i,point:r?H.snap(e,t):e,style:I({},n)});this.app.patchCreate([u]),this.app.startSession("transformSingle",u.id,E1.BottomRight,!0),this.setStatus("creating")})}},W2=class extends ir{constructor(){super(...arguments),g(this,"type","erase"),g(this,"status","idle"),g(this,"onPointerDown",()=>{this.app.readOnly||this.status==="idle"&&this.setStatus("pointing")}),g(this,"onPointerMove",e=>{if(!this.app.readOnly)switch(this.status){case"pointing":{H.dist(e.origin,e.point)>3&&(this.app.startSession("erase"),this.app.updateSession(),this.setStatus("erasing"));break}case"erasing":this.app.updateSession()}}),g(this,"onPointerUp",()=>{if(!this.app.readOnly){switch(this.status){case"pointing":{let e=this.app.shapes.filter(t=>!t.isLocked).filter(t=>this.app.getShapeUtil(t).hitTestPoint(t,this.app.currentPoint)).flatMap(t=>t.children?[t.id,...t.children]:t.id);this.app.delete(e);break}case"erasing":this.app.completeSession()}this.setStatus("idle")}}),g(this,"onCancel",()=>{this.status==="idle"?this.previous?this.app.selectTool(this.previous):this.app.selectTool("select"):this.setStatus("idle"),this.app.cancelSession()})}},U2=class extends ir{constructor(){super(...arguments),g(this,"type","line"),g(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:r},appState:{currentPageId:o,currentStyle:n}}=this.app,i=this.getNextChildIndex(),l=M.uniqueId(),u=ga.create({id:l,parentId:o,childIndex:i,point:r?H.snap(e,t):e,decorations:{start:void 0,end:void 0},style:I({},n)});this.app.patchCreate([u]),this.app.startSession("arrow",u.id,"end",!0),this.setStatus("creating")})}},K2=class extends ir{constructor(){super(...arguments),g(this,"type","rectangle"),g(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:r},appState:{currentPageId:o,currentStyle:n}}=this.app,i=this.getNextChildIndex(),l=M.uniqueId(),u=w2.create({id:l,parentId:o,childIndex:i,point:r?H.snap(e,t):e,style:I({},n)});this.app.patchCreate([u]),this.app.startSession("transformSingle",u.id,E1.BottomRight,!0),this.setStatus("creating")})}},G2=class extends ir{constructor(){super(...arguments),g(this,"type","select"),g(this,"pointedId"),g(this,"selectedGroupId"),g(this,"pointedHandleId"),g(this,"pointedBoundsHandle"),g(this,"pointedLinkHandleId"),g(this,"onEnter",()=>{this.setStatus("idle")}),g(this,"onExit",()=>{this.setStatus("idle")}),g(this,"clonePaint",e=>{if(this.app.selectedIds.length===0)return;let t=this.app.selectedIds.map(u=>this.app.getShape(u)),r=M.expandBounds(M.getCommonBounds(t.map(W.getBounds)),16),o=M.getBoundsCenter(r),n=[r.width,r.height],i=[o[0]+n[0]*Math.floor((e[0]+n[0]/2-o[0])/n[0]),o[1]+n[1]*Math.floor((e[1]+n[1]/2-o[1])/n[1])],l=M.centerBounds(r,i);this.app.shapes.some(u=>W.getShapeUtil(u).hitTestBounds(u,l))||this.app.duplicate(this.app.selectedIds,i)}),g(this,"getShapeClone",(e,t)=>{let r=this.app.getShape(e),o=W.getShapeUtil(r);if(o.canClone){let n=o.getBounds(r),i=o.getCenter(r),l={top:[n.minX,n.minY-(n.height+32)],right:[n.maxX+32,n.minY],bottom:[n.minX,n.maxY+32],left:[n.minX-(n.width+32),n.minY],topLeft:[n.minX-(n.width+32),n.minY-(n.height+32)],topRight:[n.maxX+32,n.minY-(n.height+32)],bottomLeft:[n.minX-(n.width+32),n.maxY+32],bottomRight:[n.maxX+32,n.maxY+32]}[t];if(r.rotation!==0){let c=H.add(l,[n.width/2,n.height/2]),d=H.rotWith(c,i,r.rotation||0);l=H.sub(d,[n.width/2,n.height/2])}let u=M.uniqueId(),s=z(I({},r),{id:u,point:l});return s.type==="sticky"&&(s.text=""),s}}),g(this,"onCancel",()=>{this.app.session?this.app.cancelSession():this.selectNone(),this.setStatus("idle")}),g(this,"onKeyDown",(e,t,r)=>{switch(e){case"Escape":{this.onCancel();break}case"Tab":{if(this.app.readOnly)return;if(!this.app.pageState.editingId&&this.status==="idle"&&this.app.selectedIds.length===1){let[o]=this.app.selectedIds,n=this.getShapeClone(o,"right");n&&(this.app.createShapes(n),this.setStatus("idle"),n.type==="sticky"&&(this.app.select(n.id),this.app.setEditingId(n.id)))}break}case"Meta":case"Control":case"Alt":{this.app.updateSession();break}case"Enter":{if(this.app.readOnly)return;let{pageState:o}=this.app;o.selectedIds.length===1&&!o.editingId&&(this.app.setEditingId(o.selectedIds[0]),r.preventDefault())}}}),g(this,"onKeyUp",(e,t)=>{if(this.status==="clonePainting"&&!(t.altKey&&t.shiftKey)){this.setStatus("idle");return}if(e==="Meta"||e==="Control"||e==="Alt"){this.app.updateSession();return}}),g(this,"onPointerMove",()=>{let{originPoint:e,currentPoint:t}=this.app;if(this.app.readOnly&&this.app.isPointing){this.app.session?this.app.updateSession():H.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));return}switch(this.status){case"pointingBoundsHandle":{if(!this.pointedBoundsHandle)throw Error("No pointed bounds handle");if(H.dist(e,t)>3){if(this.pointedBoundsHandle==="rotate")this.setStatus("rotating"),this.app.startSession("rotate");else if(this.pointedBoundsHandle==="center"||this.pointedBoundsHandle==="left"||this.pointedBoundsHandle==="right")this.setStatus("translating"),this.app.startSession("translate",!1,this.pointedBoundsHandle);else{this.setStatus("transforming");let r=this.app.selectedIds.flatMap(o=>W.getDocumentBranch(this.app.state,o,this.app.currentPageId));r.length===1?this.app.startSession("transformSingle",r[0],this.pointedBoundsHandle):this.app.startSession("transform",this.pointedBoundsHandle)}this.app.updateSession()}break}case"pointingCanvas":{H.dist(e,t)>3&&(this.app.startSession("brush"),this.setStatus("brushing"));break}case"pointingClone":{H.dist(e,t)>3&&(this.setStatus("translatingClone"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingBounds":{H.dist(e,t)>3&&(this.setStatus("translating"),this.app.startSession("translate"),this.app.updateSession());break}case"pointingHandle":{if(!this.pointedHandleId)throw Error("No pointed handle");if(H.dist(e,t)>3){this.setStatus("translatingHandle");let r=this.app.getShape(this.app.selectedIds[0]);r&&(this.pointedHandleId==="bend"?(this.app.startSession("handle",r.id,this.pointedHandleId),this.app.updateSession()):(this.app.startSession("arrow",r.id,this.pointedHandleId,!1),this.app.updateSession()))}break}case"clonePainting":{this.clonePaint(t);break}default:if(this.app.session){this.app.updateSession();break}}}),g(this,"onPointerDown",(e,t)=>{if(e.target==="canvas"&&this.status==="idle"){let{currentPoint:r}=this.app;if(e.spaceKey&&t.buttons===1)return;if(this.status==="idle"&&e.altKey&&e.shiftKey){this.setStatus("clonePainting"),this.clonePaint(r);return}if(!e.shiftKey){if(this.app.onShapeBlur(),e.altKey&&this.app.selectedIds.length>0){this.app.duplicate(this.app.selectedIds,r);return}this.selectNone()}this.setStatus("pointingCanvas")}}),g(this,"onPointerUp",e=>{var t;if(this.status==="translatingClone"||this.status==="pointingClone"){this.pointedId&&(this.app.completeSession(),this.app.setEditingId(this.pointedId)),this.setStatus("idle"),this.pointedId=void 0;return}if(this.status==="pointingBounds"){if(e.target==="bounds")this.selectNone();else if(this.app.isSelected(e.target))e.shiftKey?this.pointedId!==e.target&&this.deselect(e.target):this.pointedId!==e.target&&this.app.selectedIds.length>1&&this.select(e.target);else if(this.pointedId===e.target){if(this.app.getShape(e.target).isLocked)return;e.shiftKey?this.pushSelect(e.target):this.select(e.target)}}this.setStatus("idle"),this.pointedBoundsHandle=void 0,this.pointedHandleId=void 0,this.pointedId=void 0,((t=this.app.session)==null?void 0:t.type)!=="edit"&&this.app.completeSession()}),g(this,"onDoubleClickCanvas",()=>{this.app.readOnly}),g(this,"onPointShape",(e,t)=>{if(e.spaceKey&&t.buttons===1||this.app.getShape(e.target).isLocked)return;let{editingId:r,hoveredId:o}=this.app.pageState;if(r&&e.target!==r&&this.app.onShapeBlur(),(this.status==="idle"||this.status==="pointingBounds")&&e.metaKey&&e.shiftKey&&o){this.pointedId=o,this.app.isSelected(o)?this.deselect(o):(this.pushSelect(o),this.setStatus("pointingBounds"));return}if(this.status==="pointingBounds"){let{parentId:n}=this.app.getShape(e.target);this.pointedId=n===this.app.currentPageId?e.target:n;return}if(this.status==="idle"){if(this.setStatus("pointingBounds"),e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}let n,{parentId:i}=this.app.getShape(e.target);i===this.app.currentPageId?(n=e.target,this.selectedGroupId=void 0):i===this.selectedGroupId?n=e.target:(n=i,this.selectedGroupId=void 0),this.app.isSelected(n)||(this.pointedId=n,e.shiftKey?this.pushSelect(n):this.select(n))}}),g(this,"onDoubleClickShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);if(t.isLocked){this.app.select(e.target);return}W.getShapeUtil(t.type).canEdit&&(t.parentId===this.app.currentPageId||t.parentId===this.selectedGroupId)&&this.app.setEditingId(e.target),t.parentId!==this.app.currentPageId&&(this.selectedGroupId=t.parentId),this.app.select(e.target)}),g(this,"onRightPointShape",e=>{this.app.isSelected(e.target)||this.app.select(e.target)}),g(this,"onHoverShape",e=>{this.app.setHoveredId(e.target)}),g(this,"onUnhoverShape",e=>{let{currentPageId:t}=this.app;requestAnimationFrame(()=>{t===this.app.currentPageId&&this.app.pageState.hoveredId===e.target&&this.app.setHoveredId(void 0)})}),g(this,"onPointBounds",e=>{if(e.metaKey){e.shiftKey||this.selectNone(),this.app.startSession("brush"),this.setStatus("brushing");return}this.setStatus("pointingBounds")}),g(this,"onRightPointBounds",(e,t)=>{t.stopPropagation()}),g(this,"onReleaseBounds",()=>{(this.status==="translating"||this.status==="brushing")&&this.app.completeSession(),this.setStatus("idle")}),g(this,"onPointBoundsHandle",e=>{this.pointedBoundsHandle=e.target,this.setStatus("pointingBoundsHandle")}),g(this,"onDoubleClickBoundsHandle",e=>{switch(e.target){case"center":case"left":case"right":{this.app.select(...W.getLinkedShapeIds(this.app.state,this.app.currentPageId,e.target,e.shiftKey));break}default:if(this.app.selectedIds.length===1){this.app.resetBounds(this.app.selectedIds);let t=this.app.getShape(this.app.selectedIds[0]);"label"in t&&this.app.setEditingId(t.id)}}}),g(this,"onReleaseBoundsHandle",()=>{this.setStatus("idle")}),g(this,"onPointHandle",e=>{this.pointedHandleId=e.target,this.setStatus("pointingHandle")}),g(this,"onDoubleClickHandle",e=>{if(e.target==="bend"){let{selectedIds:t}=this.app;if(t.length!==1)return;let r=this.app.getShape(t[0]);W.getShapeUtil(r.type).canEdit&&(r.parentId===this.app.currentPageId||r.parentId===this.selectedGroupId)&&this.app.setEditingId(r.id);return}this.app.toggleDecoration(e.target)}),g(this,"onReleaseHandle",()=>{this.setStatus("idle")}),g(this,"onShapeClone",e=>{let t=this.app.selectedIds[0],r=this.getShapeClone(t,e.target);e.target==="left"||e.target==="right"||e.target==="top"||e.target==="bottom"?r&&(this.app.createShapes(r),this.pointedId=r.id,this.setStatus("pointingClone")):(this.setStatus("gridCloning"),this.app.startSession("grid",t))})}deselect(e){this.app.select(...this.app.selectedIds.filter(t=>t!==e))}select(e){this.app.select(e)}pushSelect(e){let t=this.app.getShape(e);this.app.select(...this.app.selectedIds.filter(r=>r!==t.parentId),e)}selectNone(){this.app.selectNone()}},X2=class extends ir{constructor(){super(...arguments),g(this,"type","sticky"),g(this,"shapeId"),g(this,"onPointerDown",()=>{if(!this.app.readOnly){if(this.status==="creating"){this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select");return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:r},appState:{currentPageId:o,currentStyle:n}}=this.app,i=this.getNextChildIndex(),l=M.uniqueId();this.shapeId=l;let u=ma.create({id:l,parentId:o,childIndex:i,point:r?H.snap(e,t):e,style:I({},n)}),s=ma.getBounds(u);u.point=H.sub(u.point,[s.width/2,s.height/2]),this.app.patchCreate([u]),this.app.startSession("translate"),this.setStatus("creating")}}}),g(this,"onPointerUp",()=>{this.app.readOnly||this.status==="creating"&&(this.setStatus("idle"),this.app.completeSession(),this.app.selectTool("select"),this.app.setEditingId(this.shapeId))})}},Y2=class extends ir{constructor(){super(...arguments),g(this,"type","text"),g(this,"stopEditingShape",()=>{this.setStatus("idle"),this.app.appState.isToolLocked||this.app.selectTool("select")}),g(this,"onKeyUp",()=>{}),g(this,"onKeyDown",()=>{}),g(this,"onPointerDown",()=>{if(this.status==="creating"){this.stopEditingShape();return}if(this.status==="idle"){let{currentPoint:e,currentGrid:t,settings:{showGrid:r}}=this.app;this.app.createTextShapeAtPoint(r?H.snap(e,t):e,void 0,!0),this.setStatus("creating");return}}),g(this,"onPointerUp",()=>{}),g(this,"onPointShape",e=>{if(this.app.readOnly)return;let t=this.app.getShape(e.target);t.type==="text"&&(this.setStatus("idle"),this.app.setEditingId(t.id))}),g(this,"onShapeBlur",()=>{this.app.readOnly||this.stopEditingShape()})}},q2=class extends ir{constructor(){super(...arguments),g(this,"type","triangle"),g(this,"onPointerDown",()=>{if(this.app.readOnly||this.status!=="idle")return;let{currentPoint:e,currentGrid:t,settings:{showGrid:r},appState:{currentPageId:o,currentStyle:n}}=this.app,i=this.getNextChildIndex(),l=M.uniqueId(),u=b2.create({id:l,parentId:o,childIndex:i,point:r?H.snap(e,t):e,style:I({},n)});this.app.patchCreate([u]),this.app.startSession("transformSingle",u.id,E1.BottomRight,!0),this.setStatus("creating")})}},wa=M.uniqueId(),Ft=class extends uQ{constructor(e,t={}){super(Ft.defaultState,e,Ft.version,(r,o,n)=>br(z(I({},o),{document:z(I(I({},o.document),r.document),{version:n})}),Ft.version)),g(this,"callbacks",{}),g(this,"tools",{select:new G2(this),erase:new W2(this),text:new Y2(this),draw:new z2(this),ellipse:new N2(this),rectangle:new K2(this),triangle:new q2(this),line:new U2(this),arrow:new Z2(this),sticky:new X2(this)}),g(this,"currentTool",this.tools.select),g(this,"session"),g(this,"readOnly",!1),g(this,"isDirty",!1),g(this,"isCreating",!1),g(this,"originPoint",[0,0]),g(this,"currentPoint",[0,0]),g(this,"previousPoint",[0,0]),g(this,"shiftKey",!1),g(this,"altKey",!1),g(this,"metaKey",!1),g(this,"ctrlKey",!1),g(this,"spaceKey",!1),g(this,"isPointing",!1),g(this,"isForcePanning",!1),g(this,"isPastePrevented",!1),g(this,"editingStartTime",-1),g(this,"fileSystemHandle",null),g(this,"viewport",M.getBoundsFromPoints([[0,0],[100,100]])),g(this,"rendererBounds",M.getBoundsFromPoints([[0,0],[100,100]])),g(this,"selectHistory",{stack:[[]],pointer:0}),g(this,"clipboard"),g(this,"rotationInfo",{selectedIds:[],center:[0,0]}),g(this,"migrate",r=>br(r,Ft.version)),g(this,"onReady",()=>{var r,o;this.loadDocument(this.document),H2().then(n=>{this.fileSystemHandle=n});try{this.patchState(z(I({},br(this.state,Ft.version)),{appState:{status:"idle"}}))}catch(n){console.error("The data appears to be corrupted. Resetting!",n),localStorage.setItem(this.document.id+"_corrupted",JSON.stringify(this.document)),this.patchState(z(I({},Ft.defaultState),{appState:z(I({},Ft.defaultState.appState),{status:"idle"})}))}(o=(r=this.callbacks).onMount)==null||o.call(r,this)}),g(this,"cleanup",(r,o)=>{var n;let i=I({},r);i.document!==o.document&&Object.entries(i.document.pages).forEach(([s,c])=>{if(c===void 0){delete i.document.pages[s],delete i.document.pageStates[s];return}let d=o.document.pages[s],h={};if(!d||c.shapes!==d.shapes||c.bindings!==d.bindings){c.shapes=I({},c.shapes),c.bindings=I({},c.bindings);let E=new Set;Object.entries(c.shapes).forEach(([y,x])=>{var S;let D;x?D=x.parentId:(D=(S=d?.shapes[y])==null?void 0:S.parentId,delete c.shapes[y]),c.id===i.appState.currentPageId&&d?.shapes[y]!==x&&(h[y]=x),D&&D!==s&&c.shapes[D]!==void 0&&E.add(c.shapes[D])}),Object.keys(c.bindings).forEach(y=>{c.bindings[y]||delete c.bindings[y]}),i.document.pages[s]=c;let v=W.getRelatedBindings(i,Object.keys(h),s),_=new Set;v.forEach(y=>{if(!c.bindings[y.id])return;let x=c.shapes[y.toId],S=c.shapes[y.fromId];if(!(x&&S)){delete i.document.pages[s].bindings[y.id];return}if(_.has(S))return;let D=W.updateArrowBindings(c,S);if(_.add(S),D){let F=I(I({},S),D);c.shapes[S.id]=F}}),E.forEach(y=>{if(!y)throw Error("no group!");let x=y.children.filter(D=>c.shapes[D]!==void 0),S=M.getCommonBounds(x.map(D=>c.shapes[D]).filter(Boolean).map(D=>W.getRotatedBounds(D)));c.shapes[y.id]=z(I({},y),{point:[S.minX,S.minY],size:[S.width,S.height],children:x})})}let C=I({},i.document.pageStates[s]);C.brush||delete C.brush,C.hoveredId&&!c.shapes[C.hoveredId]&&delete C.hoveredId,C.bindingId&&!c.bindings[C.bindingId]&&(W.warn(`Could not find the binding of ${s}`),delete C.bindingId),C.editingId&&!c.shapes[C.editingId]&&(W.warn("Could not find the editing shape!"),delete C.editingId),i.document.pageStates[s]=C}),Object.keys((n=i.document.assets)!=null?n:{}).forEach(s=>{var c,d;((c=i.document.assets)==null?void 0:c[s])||(d=i.document.assets)==null||delete d[s]});let l=i.appState.currentPageId,u=i.document.pageStates[l];if(i.room&&i.room!==o.room){let s=z(I({},i.room),{users:I({},i.room.users)});o.room&&Object.values(o.room.users).filter(Boolean).forEach(c=>{s.users[c.id]===void 0&&delete s.users[c.id]}),i.room=s}return i.room&&(i.room.users[i.room.userId]=z(I({},i.room.users[i.room.userId]),{point:this.currentPoint,selectedIds:u.selectedIds})),this.readOnly&&(i.document.pages=o.document.pages),i}),g(this,"broadcastPatch",(r,o)=>{var n,i,l,u,s,c,d,h,C;let E={},v={},_={},y=(l=(i=(n=r?.document)==null?void 0:n.pages)==null?void 0:i[this.currentPageId])==null?void 0:l.shapes,x=(c=(s=(u=r?.document)==null?void 0:u.pages)==null?void 0:s[this.currentPageId])==null?void 0:c.bindings,S=(d=r?.document)==null?void 0:d.assets;y&&Object.keys(y).forEach(D=>{E[D]=this.getShape(D,this.currentPageId)}),x&&Object.keys(x).forEach(D=>{v[D]=this.getBinding(D,this.currentPageId)}),S&&Object.keys(S).forEach(D=>{_[D]=this.document.assets[D]}),(C=(h=this.callbacks).onChangePage)==null||C.call(h,this,E,v,_,o)}),g(this,"onPatch",(r,o,n)=>{var i,l,u,s,c,d;(this.callbacks.onChangePage&&((l=(i=o?.document)==null?void 0:i.pages)==null?void 0:l[this.currentPageId])||((u=o?.document)==null?void 0:u.assets))&&(((s=o?.document)==null?void 0:s.assets)||this.session&&this.session.type!=="brush"&&this.session.type!=="erase"&&this.session.type!=="draw")&&this.broadcastPatch(o,!1),(d=(c=this.callbacks).onPatch)==null||d.call(c,this,o,n)}),g(this,"onCommand",(r,o,n)=>{var i,l;this.clearSelectHistory(),this.isDirty=!0,(l=(i=this.callbacks).onCommand)==null||l.call(i,this,o,n)}),g(this,"onReplace",()=>{this.clearSelectHistory(),this.isDirty=!1}),g(this,"onUndo",()=>{var r,o;this.rotationInfo.selectedIds=[...this.selectedIds],(o=(r=this.callbacks).onUndo)==null||o.call(r,this)}),g(this,"onRedo",()=>{var r,o;this.rotationInfo.selectedIds=[...this.selectedIds],(o=(r=this.callbacks).onRedo)==null||o.call(r,this)}),g(this,"onPersist",(r,o)=>{var n,i;(i=(n=this.callbacks).onPersist)==null||i.call(n,this),this.broadcastPatch(o,!0)}),g(this,"prevSelectedIds",this.selectedIds),g(this,"onStateDidChange",(r,o)=>{var n,i,l,u;(i=(n=this.callbacks).onChange)==null||i.call(n,this,o),this.room&&this.selectedIds!==this.prevSelectedIds&&((u=(l=this.callbacks).onChangePresence)==null||u.call(l,this,z(I({},this.room.users[this.room.userId]),{selectedIds:this.selectedIds,session:!!this.session})),this.prevSelectedIds=this.selectedIds)}),g(this,"preventPaste",()=>{if(this.isPastePrevented)return;let r=n=>n.stopImmediatePropagation(),o=()=>{setTimeout(()=>{document.removeEventListener("paste",r,{capture:!0}),this.isPastePrevented=!1},50)};document.addEventListener("paste",r,{capture:!0}),window.addEventListener("pointerup",o,{once:!0}),this.isPastePrevented=!0}),g(this,"justSent",!1),g(this,"getReservedContent",(r,o=this.currentPageId)=>{let{bindings:n}=this.document.pages[o],i={},l={},u=Object.values(n),s=new Map(u.map(v=>[v.toId,v])),c=new Map(u.map(v=>[v.fromId,v])),d=[s,c],h=[];this.session&&r.forEach(v=>h.push(v)),this.pageState.editingId&&h.push(this.pageState.editingId);let C=new Set(h),E=new Set;for(;h.length>0;){let v=h.pop();if(!v)break;if(E.has(v))continue;E.add(v);let _=this.getShape(v);i[v]=_,_.parentId!==o&&h.push(_.parentId),_.children&&h.push(..._.children),d.map(y=>y.get(_.id)).filter(Boolean).forEach(y=>{l[y.id]=y,h.push(y.toId,y.fromId)})}return{reservedShapes:i,reservedBindings:l,strongReservedShapeIds:C}}),g(this,"replacePageContent",(r,o,n,i=this.currentPageId)=>{if(this.justSent)return this.justSent=!1,this;let l=this.document.pages[this.currentPageId];return Object.values(r).forEach(u=>{u.parentId!==i&&!(l.shapes[u.parentId]||r[u.parentId])&&(console.warn("Added a shape without a parent on the page"),u.parentId=i)}),this.useStore.setState(u=>{let{hoveredId:s,editingId:c,bindingId:d,selectedIds:h}=u.document.pageStates[i],C=[...h],E=c&&u.document.pages[this.currentPageId].shapes[c];E&&C.push(E.id);let{reservedShapes:v,reservedBindings:_,strongReservedShapeIds:y}=this.getReservedContent(C,this.currentPageId);Object.values(v).filter(Z=>!("text"in Z)).forEach(Z=>{let oe=r[Z.id];if(oe){if(!(Z.type==="arrow"||y.has(Z.id))){r[Z.id]=oe;return}"decorations"in oe&&"decorations"in Z&&(r[Z.id]=z(I({},Z),{decorations:oe.decorations})),Z.style=oe.style}});let x=I(I({},r),v);E&&(x[E.id]=E);let S=I(I({},o),_),D=I({},n),F=z(I({},u),{document:z(I({},u.document),{pages:{[i]:z(I({},u.document.pages[i]),{shapes:x,bindings:S})},assets:D,pageStates:z(I({},u.document.pageStates),{[i]:z(I({},u.document.pageStates[i]),{selectedIds:h.filter(Z=>x[Z]!==void 0),hoveredId:s?x[s]===void 0?void 0:s:void 0,editingId:c,bindingId:d?S[d]===void 0?void 0:d:void 0})})})}),k=F.document.pages[i],P=W.getRelatedBindings(F,Object.keys(x),i),A=new Set;return P.forEach(Z=>{if(!k.bindings[Z.id])return;let oe=k.shapes[Z.fromId];if(A.has(oe))return;let be=W.updateArrowBindings(k,oe);if(A.add(oe),be){let ce=I(I({},oe),be);k.shapes[oe.id]=ce}}),Object.values(x).forEach(Z=>{if(Z.type!=="group")return;let oe=Z.children.filter(ce=>k.shapes[ce]!==void 0),be=M.getCommonBounds(oe.map(ce=>k.shapes[ce]).filter(Boolean).map(ce=>W.getRotatedBounds(ce)));k.shapes[Z.id]=z(I({},Z),{point:[be.minX,be.minY],size:[be.width,be.height],children:oe})}),this.state.document=F.document,F},!0),this}),g(this,"updateBounds",r=>{this.rendererBounds=r;let{point:o,zoom:n}=this.camera;this.updateViewport(o,n),!this.readOnly&&this.session&&this.session.update()}),g(this,"updateViewport",(r,o)=>{let{width:n,height:i}=this.rendererBounds,[l,u]=w.sub(w.div([0,0],o),r),[s,c]=w.sub(w.div([n,i],o),r);this.viewport={minX:l,minY:u,maxX:s,maxY:c,height:s-l,width:c-u}}),g(this,"setEditingId",(r,o=!1)=>{if(!this.readOnly){if(r)this.startSession("edit",r,o);else{if(!this.pageState.editingId)return;this.completeSession()}this.editingStartTime=performance.now(),this.patchState({document:{pageStates:{[this.currentPageId]:{editingId:r}}}},"set_editing_id")}}),g(this,"setHoveredId",r=>{this.patchState({document:{pageStates:{[this.currentPageId]:{hoveredId:r}}}},"set_hovered_id")}),g(this,"setSetting",(r,o)=>{if(this.session)return this;let n={settings:{[r]:typeof o=="function"?o(this.settings[r]):o}};return this.patchState(n,`settings:${r}`),this.persist(n),this}),g(this,"toggleFocusMode",()=>{if(this.session)return this;let r={settings:{isFocusMode:!this.settings.isFocusMode}};return this.patchState(r,"settings:toggled_focus_mode"),this.persist(r),this}),g(this,"togglePenMode",()=>{if(this.session)return this;let r={settings:{isPenMode:!this.settings.isPenMode}};return this.patchState(r,"settings:toggled_pen_mode"),this.persist(r),this}),g(this,"toggleDarkMode",()=>{if(this.session)return this;let r={settings:{isDarkMode:!this.settings.isDarkMode}};return this.patchState(r,"settings:toggled_dark_mode"),this.persist(r),this}),g(this,"toggleZoomSnap",()=>{if(this.session)return this;let r={settings:{isZoomSnap:!this.settings.isZoomSnap}};return this.patchState(r,"settings:toggled_zoom_snap"),this.persist(r),this}),g(this,"toggleDebugMode",()=>{if(this.session)return this;let r={settings:{isDebugMode:!this.settings.isDebugMode}};return this.patchState(r,"settings:toggled_debug"),this.persist(r),this}),g(this,"setMenuOpen",r=>{let o={appState:{isMenuOpen:r}};return this.patchState(o,"ui:toggled_menu_opened"),this.persist(o),this}),g(this,"setIsLoading",r=>{let o={appState:{isLoading:r}};return this.patchState(o,"ui:toggled_is_loading"),this.persist(o),this}),g(this,"setDisableAssets",r=>(this.patchState({appState:{disableAssets:r}},"ui:toggled_disable_images"),this)),g(this,"toggleGrid",()=>{if(this.session)return this;let r={settings:{showGrid:!this.settings.showGrid}};return this.patchState(r,"settings:toggled_grid"),this.persist(r),this}),g(this,"selectTool",r=>{if(this.readOnly||this.session)return this;this.isPointing=!1;let o=this.tools[r];return o===this.currentTool?(this.patchState({appState:{isToolLocked:!1}}),this):(this.currentTool.onExit(),o.previous=this.currentTool.type,this.currentTool=o,this.currentTool.onEnter(),this.patchState({appState:{activeTool:r,isToolLocked:!1}},`selected_tool:${r}`))}),g(this,"toggleToolLock",()=>this.session?this:this.patchState({appState:{isToolLocked:!this.appState.isToolLocked}},"toggled_tool_lock")),g(this,"resetDocument",()=>{if(this.session)return this;this.session=void 0,this.currentTool=this.tools.select;let r=Ft.defaultDocument;return r.pages.page.name="Page 1",this.resetHistory().clearSelectHistory().loadDocument(Ft.defaultDocument).persist({}),this}),g(this,"updateUsers",(r,o=!1)=>{this.patchState({room:{users:Object.fromEntries(r.map(n=>[n.id,n]))}},o?"room:self:update":"room:user:update")}),g(this,"removeUser",r=>{this.patchState({room:{users:{[r]:void 0}}})}),g(this,"mergeDocument",r=>{if(this.document.id!==r.id)return this.replaceState(z(I({},br(z(I({},this.state),{document:r}),Ft.version)),{appState:z(I({},this.appState),{currentPageId:Object.keys(r.pages)[0]})})),this;let o=I({},this.document.pageStates),n=z(I({},this.appState),{currentPageId:r.pages[this.currentPageId]?this.currentPageId:Object.keys(r.pages)[0],pages:Object.values(r.pages).map((l,u)=>({id:l.id,name:l.name,childIndex:l.childIndex||u}))});this.resetHistory(),Object.keys(this.document.pages).forEach(l=>{r.pages[l]||(l===this.appState.currentPageId&&(this.cancelSession(),this.selectNone()),o[l]=void 0)}),this.session&&this.selectedIds.filter(l=>!r.pages[this.currentPageId].shapes[l]).forEach(l=>r.pages[this.currentPageId].shapes[l]=this.page.shapes[l]),Object.entries(o).forEach(([l,u])=>{u.selectedIds=u.selectedIds.filter(s=>!!r.pages[l].shapes[s])});let{editingId:i}=this.pageState;return i&&(r.pages[this.currentPageId].shapes[i]=this.page.shapes[i],o[this.currentPageId].selectedIds=[i]),this.replaceState(z(I({},br(z(I({},this.state),{document:z(I({},r),{pageStates:o})}),Ft.version)),{appState:n}),"merge")}),g(this,"updateDocument",(r,o="updated_document")=>{let n=this.state,i=z(I({},n),{document:z(I({},n.document),{assets:r.assets})});r.pages[this.currentPageId]||(i.appState=z(I({},n.appState),{currentPageId:Object.keys(r.pages)[0]}));let l=1;for(let u of Object.values(r.pages))u!==n.document.pages[u.id]&&(i.document.pages[u.id]=u,u.name||(i.document.pages[u.id].name=`Page ${l+1}`,l++));for(let u of Object.values(r.pageStates))if(u!==n.document.pageStates[u.id]){i.document.pageStates[u.id]=u;let s=r.pages[u.id],c=["bindingId","editingId","hoveredId","pointedId"];for(let d of c)s.shapes[d]||(u[d]=void 0);u.selectedIds=u.selectedIds.filter(d=>!!r.pages[s.id].shapes[d])}return this.replaceState(br(i,i.document.version||0),`${o}:${r.id}`)}),g(this,"loadRoom",r=>(this.patchState({room:{id:r,userId:wa,users:{[wa]:{id:wa,color:Js[Math.floor(Math.random()*Js.length)],point:[100,100],selectedIds:[],activeShapes:[]}}}}),this)),g(this,"loadDocument",r=>{this.setIsLoading(!0),this.selectNone(),this.resetHistory(),this.clearSelectHistory(),this.session=void 0;let o=z(I({},Ft.defaultState),{settings:I({},this.state.settings),document:r,appState:z(I(I({},Ft.defaultState.appState),this.state.appState),{currentPageId:Object.keys(r.pages)[0],disableAssets:this.disableAssets})});this.replaceState(br(o,Ft.version),"loaded_document");let{point:n,zoom:i}=this.camera;return this.updateViewport(n,i),this.setIsLoading(!1),this}),g(this,"loadPageFromURL",(r,o)=>{let n=r.id,i=z(I({},this.state.document),{pageStates:z(I({},this.state.document.pageStates),{[n]:o}),pages:z(I({},this.document.pages),{[n]:r})});this.loadDocument(i),this.persist({})}),g(this,"newProject",()=>{!this.isLocal||(this.fileSystemHandle=null,this.resetDocument())}),g(this,"saveProject",()=>Te(this,null,function*(){if(this.readOnly)return;let r=yield Ea(br(this.state,Ft.version).document,this.fileSystemHandle);return this.fileSystemHandle=r,this.persist({}),this.isDirty=!1,this})),g(this,"saveProjectAs",r=>Te(this,null,function*(){try{let o=yield Ea(this.document,null,r);this.fileSystemHandle=o,this.persist({}),this.isDirty=!1}catch(o){console.error(o.message)}return this})),g(this,"openProject",()=>Te(this,null,function*(){if(this.isLocal)try{let r=yield A2();if(!r)throw Error();let{fileHandle:o,document:n}=r;this.loadDocument(n),this.fileSystemHandle=o,this.zoomToFit(),this.persist({})}catch(r){console.error(r)}finally{this.persist({})}})),g(this,"openAsset",()=>Te(this,null,function*(){if(!this.disableAssets)try{let r=yield T2();if(Array.isArray(r))this.addMediaFromFiles(r,this.centerPoint);else{if(!r)return;this.addMediaFromFiles([r])}}catch(r){console.error(r)}finally{this.persist({})}})),g(this,"signOut",()=>{}),g(this,"getAppState",()=>this.appState),g(this,"getPage",(r=this.currentPageId)=>W.getPage(this.state,r||this.currentPageId)),g(this,"getShapes",(r=this.currentPageId)=>W.getShapes(this.state,r||this.currentPageId)),g(this,"getBindings",(r=this.currentPageId)=>W.getBindings(this.state,r||this.currentPageId)),g(this,"getShape",(r,o=this.currentPageId)=>W.getShape(this.state,r,o)),g(this,"getShapeBounds",(r,o=this.currentPageId)=>W.getBounds(this.getShape(r,o))),g(this,"getBinding",(r,o=this.currentPageId)=>W.getBinding(this.state,r,o)),g(this,"getPageState",(r=this.currentPageId)=>W.getPageState(this.state,r||this.currentPageId)),g(this,"getPagePoint",(r,o=this.currentPageId)=>{let{camera:n}=this.getPageState(o);return w.sub(w.div(r,n.zoom),n.point)}),g(this,"createPage",(r,o)=>{if(this.readOnly)return this;let{width:n,height:i}=this.rendererBounds;return this.setState(pQ(this,[-n/2,-i/2],r,o))}),g(this,"changePage",r=>this.setState(dQ(this,r))),g(this,"movePage",(r,o)=>this.readOnly?this:this.setState(yQ(this,r,o))),g(this,"renamePage",(r,o)=>this.readOnly?this:this.setState(xQ(this,r,o))),g(this,"duplicatePage",r=>this.readOnly?this:this.setState(EQ(this,r))),g(this,"deletePage",r=>this.readOnly?this:Object.values(this.document.pages).length<=1?this:this.setState(gQ(this,r||this.currentPageId))),g(this,"cut",(r=this.selectedIds,o)=>(o?.preventDefault(),this.copy(r,o),this.readOnly||this.delete(r),this)),g(this,"copy",(r=this.selectedIds,o)=>{var n;o?.preventDefault(),this.clipboard=this.getContent(r);let i=`<tldraw>${JSON.stringify(I({type:"tldr/clipboard"},this.clipboard))}</tldraw>`;return sQ(i),o&&((n=o.clipboardData)==null||n.setData("text/html",i)),navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([i],{type:"text/html"})})]),this}),g(this,"paste",(r,o)=>Te(this,null,function*(){var n,i;if(this.readOnly)return;let l=[],u=[],s,c=C=>Te(this,null,function*(){let E=document.createElement("div");E.innerHTML=C;let v=E.firstChild;v.style.setProperty("background-color","transparent");let _=yield W.getImageForSvg(v,"svg",{scale:1,quality:1});if(_){let y=new File([_],"image.svg");l.push(y)}else d(C)}),d=C=>{let E=this.getPagePoint(r??this.centerPoint,this.currentPageId),v=C.includes(`
`);u.push(W.getShapeUtil("text").getShape({id:M.uniqueId(),type:"text",parentId:this.appState.currentPageId,text:W.normalizeText(C.trim()),point:E,style:z(I({},this.appState.currentStyle),{textAlign:v?"start":this.appState.currentStyle.textAlign})}))},h=C=>{var E;try{let v=(E=C.match(/<tldraw>(.*)<\/tldraw>/))==null?void 0:E[1];if(!v)return;let _=JSON.parse(v);if(_.type==="tldr/clipboard"){s=_;return}else throw Error("Not tldraw data!")}catch{d(C)}};if(o!==void 0){let C=Array.from((i=(n=o.clipboardData)==null?void 0:n.items)!=null?i:[]);yield Promise.all(C.map(E=>Te(this,null,function*(){var v;let{type:_,kind:y}=E;switch(y){case"string":{let x=yield new Promise(S=>E.getAsString(S));switch(_){case"text/html":{if((v=x.match(/<tldraw>(.*)<\/tldraw>/))!=null&&v[1]){h(x);return}break}case"text/plain":{x.startsWith("<svg")?yield c(x):d(x);break}}break}case"file":{let x=E.getAsFile();x&&l.push(x);break}}})))}if(s)return this.insertContent(s,{point:r,select:!0}),this;if(l.length)return this.addMediaFromFiles(l,r),this;if(u.length){let C=this.getPagePoint(r??this.centerPoint,this.currentPageId),E=w.add(C,[0,0]);return u.forEach((v,_)=>{let y=W.getBounds(v);_===0&&(E[0]-=y.width/2,E[1]-=y.height/2),v.point=[...E],E[0]+=y.width}),this.createShapes(...u),this}return this.clipboard?this.insertContent(this.clipboard):lQ().then(C=>{C&&h(C)}),this})),g(this,"getSvg",(...r)=>Te(this,[...r],function*(o=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes),n={}){if(o.length===0)return;let i=document.createElementNS("http://www.w3.org/2000/svg","svg"),l=document.createElementNS("http://www.w3.org/2000/svg","defs"),u=document.createElementNS("http://www.w3.org/2000/svg","style");if(typeof window<"u"&&window.focus(),n.includeFonts)try{let{fonts:v}=yield fetch(Ft.assetSrc,{mode:"no-cors"}).then(_=>_.json());u.textContent=`
          @font-face {
            font-family: 'Caveat Brush';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${v.caveat}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Code Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${v.source_code_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Source Sans Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${v.source_sans_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          @font-face {
            font-family: 'Crimson Pro';
            src: url(data:application/x-font-woff;charset=utf-8;base64,${v.crimson_pro}) format('woff');
            font-weight: 500;
            font-style: normal;
          }
          `}catch{W.warn("Could not find tldraw-assets.json file.")}else u.textContent="@import url('https://fonts.googleapis.com/css2?family=Caveat+Brush&family=Source+Code+Pro&family=Source+Sans+Pro&family=Crimson+Pro&display=block');";l.append(u),i.append(l);let s=o.map(v=>this.getShape(v,this.currentPageId)).sort((v,_)=>v.childIndex-_.childIndex),c=M.getCommonBounds(s.map(W.getRotatedBounds)),d=v=>{let _=W.getShapeUtil(v),y=_.getBounds(v),x=_.getSvgElement(v,this.settings.isDarkMode);if(x)return v.type==="image"?x.setAttribute("xlink:href",this.document.assets[v.assetId].src):v.type==="video"&&x.setAttribute("xlink:href",this.serializeVideo(v.id)),x.setAttribute("transform",`translate(${(16+v.point[0]-c.minX).toFixed(2)}, ${(16+v.point[1]-c.minY).toFixed(2)}) rotate(${((v.rotation||0)*180/Math.PI).toFixed(2)}, ${(y.width/2).toFixed(2)}, ${(y.height/2).toFixed(2)})`),x};s.forEach(v=>{var _;if((_=v.children)!=null&&_.length){let x=document.createElementNS("http://www.w3.org/2000/svg","g");v.children.forEach(S=>{let D=this.getShape(S,this.currentPageId),F=d(D);F&&x.append(F)}),i.append(x);return}let y=d(v);y&&i.append(y)}),i.setAttribute("viewBox",[0,0,c.width+16*2,c.height+16*2].join(" ")),i.setAttribute("width",(c.width+16*2).toString()),i.setAttribute("height",(c.height+16*2).toString());let h=this.settings.exportBackground,C="#212529",E="rgb(248, 249, 250)";switch(h){case"auto":{i.style.setProperty("background-color",this.settings.isDarkMode?C:E);break}case"dark":{i.style.setProperty("background-color",C);break}case"light":{i.style.setProperty("background-color",E);break}case"transparent":default:{i.style.setProperty("background-color","transparent");break}}return i.querySelectorAll(".tl-fill-hitarea, .tl-stroke-hitarea, .tl-binding-indicator").forEach(v=>v.remove()),i})),g(this,"copySvg",(...r)=>Te(this,[...r],function*(o=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)){if(o.length===0)return;let n=yield this.getSvg(o);if(!n)return;let i=W.getSvgString(n,1);this.clipboard=this.getContent(o);let l=JSON.stringify(I({type:"tldr/clipboard"},this.clipboard));return navigator.clipboard&&window.ClipboardItem&&navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([l],{type:"text/html"}),"text/plain":new Blob([i],{type:"text/plain"})})]),i})),g(this,"getContent",r=>{let o=this.getPage(this.currentPageId);if(r&&r.length===0||(r||(r=this.selectedIds),r.length===0&&(r=Object.keys(o.shapes)),r.length===0))return;let n=r.map(s=>o.shapes[s]).flatMap(s=>{var c;return[s,...((c=s.children)!=null?c:[]).map(d=>o.shapes[d])]}).map(y1),i=new Set(n.map(s=>s.id));n.forEach(s=>{s.parentId===this.currentPageId&&(s.parentId="currentPageId")});let l=Object.values(o.bindings).filter(s=>{if(i.has(s.fromId)||i.has(s.toId))return!0;if(i.has(s.fromId)){let c=n.find(d=>d.id===s.fromId).handles;c&&Object.values(c).forEach(d=>{d.bindingId===s.id&&(d.bindingId=void 0)})}if(i.has(s.toId)){let c=n.find(d=>d.id===s.toId).handles;c&&Object.values(c).forEach(d=>{d.bindingId===s.id&&(d.bindingId=void 0)})}return!1}).map(y1),u=[...new Set(n.map(s=>{if(s.assetId)return this.document.assets[s.assetId]}).filter(Boolean).map(y1))];return{shapes:n,bindings:l,assets:u}}),g(this,"copyJson",(r=this.selectedIds)=>{let o=this.getContent(r);return o&&W.copyStringToClipboard(JSON.stringify(o)),this}),g(this,"exportJson",(r=this.selectedIds)=>{let o=this.getContent(r);if(o){let n=new Blob([JSON.stringify(o)],{type:"application/json"}),i=URL.createObjectURL(n),l=document.createElement("a");l.href=i,l.download="export.json",l.click()}return this}),g(this,"insertContent",(r,o={})=>this.setState($Q(this,r,o),"insert_content")),g(this,"getImage",(...r)=>Te(this,[...r],function*(o="png",n={}){let{ids:i=this.selectedIds.length?this.selectedIds:Object.keys(this.page.shapes)}=n,l=yield this.getSvg(i,{includeFonts:o!=="svg"});if(!l)return;if(o==="svg"){let s=W.getSvgString(l,1);return new Blob([s],{type:"image/svg+xml"})}let u=yield W.getImageForSvg(l,o,n);if(u)return u})),g(this,"copyImage",(...r)=>Te(this,[...r],function*(o="png",n={}){if(o==="svg"){this.copySvg(n.ids);return}if(!(navigator.clipboard&&window.ClipboardItem)){console.warn("Sorry, your browser does not support copying images.");return}let i=yield this.getImage(o,n);!i||navigator.clipboard.write([new ClipboardItem({[i.type]:i})])})),g(this,"exportImage",(...r)=>Te(this,[...r],function*(o="png",n={}){var i;let{pageId:l=this.currentPageId}=n,u=yield this.getImage(o,n);if(!u)return;let s=(i=this.document.pages[l].name)!=null?i:"export";if(this.callbacks.onExport)this.callbacks.onExport(this,{name:s,type:o,blob:u});else{let c=URL.createObjectURL(u),d=document.createElement("a");d.href=c,d.download=`${s}.${o}`,d.click()}})),g(this,"setCamera",(r,o,n)=>(this.updateViewport(r,o),this.patchState({document:{pageStates:{[this.currentPageId]:{camera:{point:r,zoom:o}}}}},n),this)),g(this,"resetCamera",()=>this.setCamera(this.centerPoint,1,"reset_camera")),g(this,"pan",r=>{let{camera:o}=this.pageState;return this.setCamera(w.toFixed(w.sub(o.point,r)),o.zoom,"panned")}),g(this,"pinchZoom",(r,o,n)=>{let{camera:i}=this.pageState,l=w.sub(i.point,w.div(o,i.zoom)),u=n,s=w.sub(w.div(r,i.zoom),l),c=w.sub(w.div(r,u),l);return this.setCamera(w.toFixed(w.add(l,w.sub(c,s))),u,"pinch_zoomed")}),g(this,"zoomTo",(r,o=this.centerPoint)=>{let{zoom:n,point:i}=this.camera,l=w.sub(w.div(o,n),i),u=w.sub(w.div(o,r),i);return this.setCamera(w.toFixed(w.add(i,w.sub(u,l))),r,"zoomed_camera")}),g(this,"zoomIn",()=>{let r=Math.round(this.camera.zoom*100/25),o=W.getCameraZoom((r+1)*.25);return this.zoomTo(o)}),g(this,"zoomOut",()=>{let r=Math.round(this.camera.zoom*100/25),o=W.getCameraZoom((r-1)*.25);return this.zoomTo(o)}),g(this,"zoomToFit",()=>{let{shapes:r,pageState:{camera:o}}=this;if(r.length===0)return this;let{rendererBounds:n}=this,i=M.getCommonBounds(r.map(W.getBounds)),l=W.getCameraZoom(Math.min((n.width-128)/i.width,(n.height-128)/i.height));l=o.zoom===l||o.zoom<1?Math.min(1,l):l;let u=(n.width-i.width*l)/2/l,s=(n.height-i.height*l)/2/l;return this.setCamera(w.toFixed(w.sub([u,s],[i.minX,i.minY])),l,"zoomed_to_fit")}),g(this,"zoomToSelection",()=>{if(this.selectedIds.length===0)return this;let{rendererBounds:r}=this,o=W.getSelectedBounds(this.state),n=W.getCameraZoom(Math.min((r.width-128)/o.width,(r.height-128)/o.height));n=this.camera.zoom===n||this.camera.zoom<1?Math.min(1,n):n;let i=(r.width-o.width*n)/2/n,l=(r.height-o.height*n)/2/n;return this.setCamera(w.toFixed(w.sub([i,l],[o.minX,o.minY])),n,"zoomed_to_selection")}),g(this,"zoomToContent",()=>{let r=this.shapes,o=this.pageState;if(r.length===0)return this;let{rendererBounds:n}=this,{zoom:i}=o.camera,l=M.getCommonBounds(r.map(W.getBounds)),u=(n.width-l.width*i)/2/i,s=(n.height-l.height*i)/2/i;return this.setCamera(w.toFixed(w.sub([u,s],[l.minX,l.minY])),this.camera.zoom,"zoomed_to_content")}),g(this,"resetZoom",()=>this.zoomTo(1)),g(this,"zoomBy",M.throttle((r,o)=>{let{zoom:n}=this.camera,i=W.getCameraZoom(n-r*n);return this.zoomTo(i,o)},16)),g(this,"clearSelectHistory",()=>(this.selectHistory.pointer=0,this.selectHistory.stack=[this.selectedIds],this)),g(this,"addToSelectHistory",r=>(this.selectHistory.pointer<this.selectHistory.stack.length&&(this.selectHistory.stack=this.selectHistory.stack.slice(0,this.selectHistory.pointer+1)),this.selectHistory.pointer++,this.selectHistory.stack.push(r),this)),g(this,"setSelectedIds",(r,o=!1)=>{let n=o?[...this.pageState.selectedIds,...r]:[...r];return this.patchState({appState:{activeTool:"select"},document:{pageStates:{[this.currentPageId]:{selectedIds:n}}}},"selected")}),g(this,"undoSelect",()=>(this.selectHistory.pointer>0&&(this.selectHistory.pointer--,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this)),g(this,"redoSelect",()=>(this.selectHistory.pointer<this.selectHistory.stack.length-1&&(this.selectHistory.pointer++,this.setSelectedIds(this.selectHistory.stack[this.selectHistory.pointer])),this)),g(this,"select",(...r)=>(r.forEach(o=>{if(!this.page.shapes[o])throw Error(`That shape does not exist on page ${this.currentPageId}`)}),this.setSelectedIds(r),this.addToSelectHistory(r),this)),g(this,"selectAll",(r=this.currentPageId)=>this.session?this:(this.setSelectedIds(Object.values(this.document.pages[r].shapes).filter(o=>o.parentId===r).map(o=>o.id)),this.addToSelectHistory(this.selectedIds),this.selectTool("select"),this)),g(this,"selectNone",()=>(this.setSelectedIds([]),this.addToSelectHistory(this.selectedIds),this)),g(this,"startSession",(r,...o)=>{var n,i;if(this.readOnly&&r!=="brush")return this;this.session&&(W.warn(`Already in a session! (${this.session.constructor.name})`),this.cancelSession());let l=KQ(r);this.session=new l(this,...o);let u=this.session.start();return u&&this.patchState(u,`session:start_${this.session.constructor.name}`),(i=(n=this.callbacks).onSessionStart)==null||i.call(n,this,this.session.constructor.name),this}),g(this,"updateSession",()=>{let{session:r}=this;if(!r)return this;let o=r.update();return o?this.patchState(o,`session:${r?.constructor.name}`):this}),g(this,"cancelSession",()=>{var r,o;let{session:n}=this;if(!n)return this;this.session=void 0;let i=n.cancel();return i&&this.patchState(i,`session:cancel:${n.constructor.name}`),this.setEditingId(),(o=(r=this.callbacks).onSessionEnd)==null||o.call(r,this,n.constructor.name),this}),g(this,"completeSession",()=>{var r,o,n,i,l,u,s,c,d;let{session:h}=this;if(!h)return this;this.session=void 0;let C=h.complete();if(C===void 0)this.isCreating=!1,this.patchState({appState:{status:"idle"},document:{pageStates:{[this.currentPageId]:{editingId:void 0,bindingId:void 0,hoveredId:void 0}}}},`session:complete:${h.constructor.name}`);else if("after"in C){if(this.isCreating){if(C.before={appState:z(I({},C.before.appState),{status:"idle"}),document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(this.selectedIds.map(E=>[E,void 0]))}},pageStates:{[this.currentPageId]:{selectedIds:[],editingId:null,bindingId:null,hoveredId:null}}}},this.appState.isToolLocked){let E=((n=(o=(r=C.after)==null?void 0:r.document)==null?void 0:o.pageStates)==null?void 0:n[this.currentPageId])||{};E.selectedIds=[]}this.isCreating=!1}C.after.appState=z(I({},C.after.appState),{status:"idle"}),C.after.document=z(I({},C.after.document),{pageStates:z(I({},(i=C.after.document)==null?void 0:i.pageStates),{[this.currentPageId]:z(I({},(((l=C.after.document)==null?void 0:l.pageStates)||{})[this.currentPageId]),{editingId:null})})}),this.setState(C,`session:complete:${h.constructor.name}`)}else this.patchState(z(I({},C),{appState:z(I({},C.appState),{status:"idle"}),document:z(I({},C.document),{pageStates:{[this.currentPageId]:z(I({},(s=(u=C.document)==null?void 0:u.pageStates)==null?void 0:s[this.currentPageId]),{editingId:null})}})}),`session:complete:${h.constructor.name}`);return(d=(c=this.callbacks).onSessionEnd)==null||d.call(c,this,h.constructor.name),this}),g(this,"createShapes",(...r)=>r.length===0?this:this.create(r.map(o=>W.getShapeUtil(o.type).create(I({parentId:this.currentPageId},o))))),g(this,"updateShapes",(...r)=>{let o=this.document.pages[this.currentPageId].shapes,n=r.filter(i=>o[i.id]);return n.length===0?this:this.setState(P2(this,n,this.currentPageId),"updated_shapes")}),g(this,"create",(r=[],o=[])=>r.length===0?this:this.setState(I2(this,r,o))),g(this,"patchCreate",(r=[],o=[])=>r.length===0?this:this.patchState(I2(this,r,o).after)),g(this,"delete",(r=this.selectedIds)=>{var o,n;if(r.length===0)return this;if(this.session)return this;let i=M2(this,r);if(this.callbacks.onAssetDelete&&((o=i.before.document)==null?void 0:o.assets)&&((n=i.after.document)==null?void 0:n.assets)){let l=Object.keys(i.before.document.assets).filter(s=>!!i.before.document.assets[s]),u=Object.keys(i.after.document.assets).filter(s=>!!i.after.document.assets[s]);l.filter(s=>!u.includes(s)).forEach(s=>this.callbacks.onAssetDelete(this,s))}return this.setState(i)}),g(this,"deleteAll",()=>(this.selectAll(),this.delete(),this)),g(this,"style",(r,o=this.selectedIds)=>this.setState(IQ(this,o,r))),g(this,"align",(r,o=this.selectedIds)=>o.length<2?this:this.setState(cQ(this,o,r))),g(this,"distribute",(r,o=this.selectedIds)=>o.length<3?this:this.setState(CQ(this,o,r))),g(this,"stretch",(r,o=this.selectedIds)=>o.length<2?this:this.setState(RQ(this,o,r))),g(this,"flipHorizontal",(r=this.selectedIds)=>r.length===0?this:this.setState(D2(this,r,"horizontal"))),g(this,"flipVertical",(r=this.selectedIds)=>r.length===0?this:this.setState(D2(this,r,"vertical"))),g(this,"moveToPage",(r,o=this.currentPageId,n=this.selectedIds)=>{if(n.length===0)return this;let{rendererBounds:i}=this;return this.setState(_Q(this,n,i,o,r)),this}),g(this,"moveToBack",(r=this.selectedIds)=>r.length===0?this:this.setState(R0(this,r,"toBack"))),g(this,"moveBackward",(r=this.selectedIds)=>r.length===0?this:this.setState(R0(this,r,"backward"))),g(this,"moveForward",(r=this.selectedIds)=>r.length===0?this:this.setState(R0(this,r,"forward"))),g(this,"moveToFront",(r=this.selectedIds)=>r.length===0?this:this.setState(R0(this,r,"toFront"))),g(this,"nudge",(r,o=!1,n=this.selectedIds)=>{if(n.length===0)return this;let i=o?this.settings.showGrid?this.currentGrid*4:10:this.settings.showGrid?this.currentGrid:1;return this.setState(DQ(this,n,w.mul(r,i)))}),g(this,"duplicate",(r=this.selectedIds,o)=>this.readOnly?this:r.length===0?this:this.setState(wQ(this,r,o))),g(this,"resetBounds",(r=this.selectedIds)=>{let o=k2(this,r,this.currentPageId);return this.setState(k2(this,r,this.currentPageId),o.id)}),g(this,"toggleHidden",(r=this.selectedIds)=>r.length===0?this:this.setState(Ca(this,r,"isHidden"))),g(this,"toggleLocked",(r=this.selectedIds)=>r.length===0?this:this.setState(Ca(this,r,"isLocked"))),g(this,"toggleAspectRatioLocked",(r=this.selectedIds)=>r.length===0?this:this.setState(Ca(this,r,"isAspectRatioLocked"))),g(this,"toggleDecoration",(r,o=this.selectedIds)=>o.length===0||!(r==="start"||r==="end")?this:this.setState(MQ(this,o,r))),g(this,"setShapeProps",(r,o=this.selectedIds)=>this.setState(PQ(this,o,r))),g(this,"rotate",(r=Math.PI*-.5,o=this.selectedIds)=>{if(o.length===0)return this;let n=SQ(this,o,r);return n?this.setState(n):this}),g(this,"group",(r=this.selectedIds,o=M.uniqueId(),n=this.currentPageId)=>{if(this.readOnly)return this;if(r.length===1&&this.getShape(r[0],n).type==="group")return this.ungroup(r,n);if(r.length<2)return this;let i=bQ(this,r,o,n);return i?this.setState(i):this}),g(this,"ungroup",(r=this.selectedIds,o=this.currentPageId)=>{if(this.readOnly)return this;let n=r.map(l=>this.getShape(l,o)).filter(l=>l.type==="group");if(n.length===0)return this;let i=kQ(this,r,n,o);return i?this.setState(i):this}),g(this,"cancel",()=>{var r,o;return(o=(r=this.currentTool).onCancel)==null||o.call(r),this}),g(this,"addMediaFromFiles",(r,...o)=>Te(this,[r,...o],function*(n,i=this.centerPoint){this.setIsLoading(!0);let l=[],u=this.getPagePoint(i);for(let s of n){let c=M.uniqueId(),d=s.name.match(/\.[0-9a-z]+$/i);if(!d)throw Error("No extension");let h=Qs.includes(d[0].toLowerCase()),C=e2.includes(d[0].toLowerCase());if(!(h||C))throw Error("Wrong extension");let E=h?"image":"video",v=h?"image":"video",_;try{if(this.callbacks.onAssetCreate){let y=yield this.callbacks.onAssetCreate(this,s,c);if(!y)throw Error("Asset creation callback returned false");_=y}else _=yield O2(s);if(typeof _=="string"){let y=[0,0];if(h){if(d[0]==".svg"){let D,F=yield F2(s),k=this.getViewboxFromSVG(F);k&&(D=k.split(" "),y[0]=parseFloat(D[2]),y[1]=parseFloat(D[3]))}w.isEqual(y,[0,0])&&(y=yield j2(_))}else y=yield V2(_);let x=Object.values(this.document.assets).find(D=>D.type===v&&D.src===_),S;if(x)S=x.id;else{S=c;let D={id:S,type:v,name:s.name,src:_,size:y};this.patchState({document:{assets:{[S]:D}}})}l.push(this.getImageOrVideoShapeAtPoint(c,E,i,y,S))}}catch(y){console.warn(y)}}if(l.length){let s=w.add(u,[0,0]);l.forEach((d,h)=>{let C=W.getBounds(d);h===0&&(s[0]-=C.width/2,s[1]-=C.height/2),d.point=[...s],s[0]+=C.width});let c=M.getCommonBounds(l.map(W.getBounds));this.createShapes(...l),M.boundsContain(this.viewport,c)||(this.zoomToSelection(),this.zoom>1&&this.resetZoom())}return this.setIsLoading(!1),this})),g(this,"getViewboxFromSVG",r=>{let o=/.*?viewBox=["'](-?[\d.]+[, ]+-?[\d.]+[, ][\d.]+[, ][\d.]+)["']/;if(typeof r=="string"){let n=r.match(o);return n&&n.length>=2?n[1]:null}return this.setIsLoading(!1),null}),g(this,"onKeyDown",(r,o,n)=>{var i,l;switch(n.key){case"/":{if(this.status==="idle"&&!this.pageState.editingId){let{shiftKey:u,metaKey:s,altKey:c,ctrlKey:d,spaceKey:h}=this;this.onPointerDown({target:"canvas",pointerId:0,origin:o.point,point:o.point,delta:[0,0],pressure:.5,shiftKey:u,ctrlKey:d,metaKey:s,altKey:c,spaceKey:h},{shiftKey:u,altKey:c,ctrlKey:d,pointerId:0,clientX:o.point[0],clientY:o.point[1]})}break}case"Escape":{this.cancel();break}case"Meta":{this.metaKey=!0;break}case"Alt":{this.altKey=!0;break}case"Control":{this.ctrlKey=!0;break}case" ":{this.isForcePanning=!0,this.spaceKey=!0;break}}return(l=(i=this.currentTool).onKeyDown)==null||l.call(i,r,o,n),this}),g(this,"onKeyUp",(r,o,n)=>{var i,l;if(o){switch(n.key){case"/":{let{currentPoint:u,shiftKey:s,metaKey:c,altKey:d,ctrlKey:h,spaceKey:C}=this;this.onPointerUp({target:"canvas",pointerId:0,origin:u,point:u,delta:[0,0],pressure:.5,shiftKey:s,ctrlKey:h,metaKey:c,altKey:d,spaceKey:C},{shiftKey:s,altKey:d,ctrlKey:h,pointerId:0,clientX:u[0],clientY:u[1]});break}case"Meta":{this.metaKey=!1;break}case"Alt":{this.altKey=!1;break}case"Control":{this.ctrlKey=!1;break}case" ":{this.isForcePanning=!1,this.spaceKey=!1;break}}(l=(i=this.currentTool).onKeyUp)==null||l.call(i,r,o,n)}}),g(this,"refreshBoundingBoxes",()=>{let r=this.shapes.map(n=>[n.id,I({point:[...n.point]},"label"in n&&{label:""})]),o=this.shapes.map(n=>[n.id,I({point:[...n.point]},"label"in n&&{label:n.label})]);sq(),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(r)}}}}),this.patchState({document:{pages:{[this.currentPageId]:{shapes:Object.fromEntries(o)}}}})}),g(this,"onDragOver",r=>{r.preventDefault()}),g(this,"onDrop",r=>Te(this,null,function*(){var o;return r.preventDefault(),this.disableAssets?this:((o=r.dataTransfer.files)!=null&&o.length&&this.addMediaFromFiles(Object.values(r.dataTransfer.files),[r.clientX,r.clientY]),this)})),g(this,"onPinchStart",(r,o)=>{var n,i;(i=(n=this.currentTool).onPinchStart)==null||i.call(n,r,o)}),g(this,"onPinchEnd",(r,o)=>{var n,i;return(i=(n=this.currentTool).onPinchEnd)==null?void 0:i.call(n,r,o)}),g(this,"onPinch",(r,o)=>{var n,i;return(i=(n=this.currentTool).onPinch)==null?void 0:i.call(n,r,o)}),g(this,"onPan",(r,o)=>{if(this.appState.status==="pinching")return;let n=w.div(r.delta,this.camera.zoom),i=this.camera.point,l=w.sub(i,n);w.isEqual(l,i)||(this.pan(n),this.isForcePanning||this.onPointerMove(r,o),nq&&this.isForcePanning&&this.preventPaste())}),g(this,"onZoom",(r,o)=>{if(this.state.appState.status!=="idle")return;let n=r.delta[2]/50;this.zoomBy(n,r.point),this.onPointerMove(r,o)}),g(this,"updateInputs",r=>{this.currentPoint=this.getPagePoint(r.point).concat(r.pressure),this.shiftKey=r.shiftKey,this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.metaKey=r.metaKey}),g(this,"onPointerMove",(r,o)=>{var n,i,l,u,s;if(this.previousPoint=this.currentPoint,this.updateInputs(r,o),this.isForcePanning&&this.isPointing){(n=this.onPan)==null||n.call(this,z(I({},r),{delta:w.neg(r.delta)}),o);return}if((l=(i=this.currentTool).onPointerMove)==null||l.call(i,r,o),this.state.room){let{users:c,userId:d}=this.state.room;(s=(u=this.callbacks).onChangePresence)==null||s.call(u,this,z(I({},c[d]),{point:this.getPagePoint(r.point),session:!!this.session}))}}),g(this,"onPointerDown",(r,o)=>{var n,i;if(o.buttons===4)this.isForcePanning=!0;else if(this.isPointing)return;this.isPointing=!0,this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),!this.isForcePanning&&((i=(n=this.currentTool).onPointerDown)==null||i.call(n,r,o))}),g(this,"onPointerUp",(r,o)=>{var n,i;this.isPointing=!1,this.shiftKey||(this.isForcePanning=!1),this.updateInputs(r,o),(i=(n=this.currentTool).onPointerUp)==null||i.call(n,r,o)}),g(this,"onPointCanvas",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onPointCanvas)==null||i.call(n,r,o)}),g(this,"onDoubleClickCanvas",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onDoubleClickCanvas)==null||i.call(n,r,o)}),g(this,"onRightPointCanvas",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onRightPointCanvas)==null||i.call(n,r,o)}),g(this,"onDragCanvas",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onDragCanvas)==null||i.call(n,r,o)}),g(this,"onReleaseCanvas",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onReleaseCanvas)==null||i.call(n,r,o)}),g(this,"onPointShape",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onPointShape)==null||i.call(n,r,o)}),g(this,"onReleaseShape",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onReleaseShape)==null||i.call(n,r,o)}),g(this,"onDoubleClickShape",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onDoubleClickShape)==null||i.call(n,r,o)}),g(this,"onRightPointShape",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onRightPointShape)==null||i.call(n,r,o)}),g(this,"onDragShape",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onDragShape)==null||i.call(n,r,o)}),g(this,"onHoverShape",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onHoverShape)==null||i.call(n,r,o)}),g(this,"onUnhoverShape",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onUnhoverShape)==null||i.call(n,r,o)}),g(this,"onPointBounds",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onPointBounds)==null||i.call(n,r,o)}),g(this,"onDoubleClickBounds",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onDoubleClickBounds)==null||i.call(n,r,o)}),g(this,"onRightPointBounds",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onRightPointBounds)==null||i.call(n,r,o)}),g(this,"onDragBounds",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onDragBounds)==null||i.call(n,r,o)}),g(this,"onHoverBounds",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onHoverBounds)==null||i.call(n,r,o)}),g(this,"onUnhoverBounds",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onUnhoverBounds)==null||i.call(n,r,o)}),g(this,"onReleaseBounds",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onReleaseBounds)==null||i.call(n,r,o)}),g(this,"onPointBoundsHandle",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onPointBoundsHandle)==null||i.call(n,r,o)}),g(this,"onDoubleClickBoundsHandle",(r,o)=>{var n,i;if(this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onDoubleClickBoundsHandle)==null||i.call(n,r,o),this.selectedIds.length!==1)return;let l=this.getShape(this.selectedIds[0]);if(l.type==="image"||l.type==="video"){let u=this.document.assets[l.assetId],s=W.getShapeUtil(l),c=s.getCenter(l),d=s.getCenter(z(I({},l),{size:u.size})),h=w.sub(d,c);this.updateShapes({id:l.id,point:w.sub(l.point,h),size:u.size})}}),g(this,"onRightPointBoundsHandle",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onRightPointBoundsHandle)==null||i.call(n,r,o)}),g(this,"onDragBoundsHandle",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onDragBoundsHandle)==null||i.call(n,r,o)}),g(this,"onHoverBoundsHandle",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onHoverBoundsHandle)==null||i.call(n,r,o)}),g(this,"onUnhoverBoundsHandle",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onUnhoverBoundsHandle)==null||i.call(n,r,o)}),g(this,"onReleaseBoundsHandle",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onReleaseBoundsHandle)==null||i.call(n,r,o)}),g(this,"onPointHandle",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onPointHandle)==null||i.call(n,r,o)}),g(this,"onDoubleClickHandle",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onDoubleClickHandle)==null||i.call(n,r,o)}),g(this,"onRightPointHandle",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onRightPointHandle)==null||i.call(n,r,o)}),g(this,"onDragHandle",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onDragHandle)==null||i.call(n,r,o)}),g(this,"onHoverHandle",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onHoverHandle)==null||i.call(n,r,o)}),g(this,"onUnhoverHandle",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onUnhoverHandle)==null||i.call(n,r,o)}),g(this,"onReleaseHandle",(r,o)=>{var n,i;this.updateInputs(r,o),(i=(n=this.currentTool).onReleaseHandle)==null||i.call(n,r,o)}),g(this,"onShapeChange",r=>{let o=this.document.pages[this.currentPageId].shapes,n=I(I({},o[r.id]),r),i=P2(this,[n],this.currentPageId).after;return this.patchState(i,"patched_shapes")}),g(this,"onShapeBlur",()=>{var r,o;if(performance.now()-this.editingStartTime<50)return;let{editingId:n}=this.pageState,{isToolLocked:i}=this.getAppState();if(n){let l=this.getShape(n);this.setEditingId(),l.type==="text"&&(l.text.trim().length<=0?this.patchState(M2(this,[n]).after,"delete_empty_text"):i||this.select(n))}(o=(r=this.currentTool).onShapeBlur)==null||o.call(r)}),g(this,"onShapeClone",(r,o)=>{var n,i;this.originPoint=this.getPagePoint(r.point).concat(r.pressure),this.updateInputs(r,o),(i=(n=this.currentTool).onShapeClone)==null||i.call(n,r,o)}),g(this,"onRenderCountChange",r=>{let o=this.getAppState();o.isEmptyCanvas&&r.length>0?this.patchState({appState:{isEmptyCanvas:!1}},"empty_canvas:false"):!o.isEmptyCanvas&&r.length<=0&&this.patchState({appState:{isEmptyCanvas:!0}},"empty_canvas:true")}),g(this,"onError",()=>{}),g(this,"getShapeUtil",W.getShapeUtil),this.callbacks=t}setStatus(e){return this.patchState({appState:{status:e}},`set_status:${e}`)}get isMenuOpen(){return this.appState.isMenuOpen}get isLoading(){return this.appState.isLoading}get disableAssets(){return this.appState.disableAssets}get history(){return this.stack.slice(0,this.pointer+1)}set history(e){this.replaceHistory(e)}get document(){return this.state.document}get settings(){return this.state.settings}get appState(){return this.state.appState}get currentPageId(){return this.state.appState.currentPageId}get page(){return this.state.document.pages[this.currentPageId]}get shapes(){return Object.values(this.page.shapes)}get bindings(){return Object.values(this.page.bindings)}get assets(){return Object.values(this.document.assets)}get pageState(){return this.state.document.pageStates[this.currentPageId]}get camera(){return this.pageState.camera}get zoom(){return this.pageState.camera.zoom}get selectedIds(){return this.pageState.selectedIds}createTextShapeAtPoint(e,t,r){let{shapes:o,appState:{currentPageId:n,currentStyle:i}}=this,l=o.length===0?1:o.filter(d=>d.parentId===n).sort((d,h)=>h.childIndex-d.childIndex)[0].childIndex+1,u=Ao.text,s=u.create({id:t||M.uniqueId(),parentId:n,childIndex:l,point:e,style:I({},i)}),c=u.getBounds(s);return s.point=w.sub(s.point,[c.width/2,c.height/2]),r?this.patchCreate([W.getShapeUtil(s.type).create(s)]):this.createShapes(s),this.setEditingId(s.id,!0),this}getImageOrVideoShapeAtPoint(e,t,r,o,n){let{shapes:i,appState:{currentPageId:l,currentStyle:u}}=this,s=i.length===0?1:i.filter(d=>d.parentId===l).sort((d,h)=>h.childIndex-d.childIndex)[0].childIndex+1,c=Ao[t];if(o[0]>this.viewport.width){let d=o[1]/o[0];o[0]=this.viewport.width-128/this.camera.zoom*2,o[1]=o[0]*d,(o[1]<32||o[1]<32)&&(o[1]=32,o[0]=o[1]/d)}else if(o[1]>this.viewport.height){let d=o[0]/o[1];o[1]=this.viewport.height-128/this.camera.zoom*2,o[0]=o[1]*d,(o[1]<32||o[1]<32)&&(o[0]=32,o[1]=o[0]/d)}return c.create({id:e,parentId:l,childIndex:s,point:r,size:o,style:I({},u),assetId:n})}isSelected(e){return this.selectedIds.includes(e)}serializeVideo(e){let t=document.getElementById(e+"_video");if(t){let r=document.createElement("canvas");return r.width=t.videoWidth,r.height=t.videoHeight,r.getContext("2d").drawImage(t,0,0),r.toDataURL("image/png")}else throw new Error("Video with id "+e+" not found")}serializeImage(e){let t=document.getElementById(e+"_image");if(t){let r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0),r.toDataURL("image/png")}else throw new Error("Image with id "+e+" not found")}patchAssets(e){this.document.assets=I(I({},this.document.assets),e)}get room(){return this.state.room}get isLocal(){return this.state.room===void 0||this.state.room.id==="local"}get status(){return this.appState.status}get currentUser(){if(this.state.room)return this.state.room.users[this.state.room.userId]}get centerPoint(){let{width:e,height:t}=this.rendererBounds;return w.toFixed([e/2,t/2])}get currentGrid(){let{zoom:e}=this.camera;return e<.15?8*16:e<1?8*4:8*1}},To=Ft;g(To,"version",15.5),g(To,"defaultDocument",{id:"doc",name:"New Document",version:Ft.version,pages:{page:{id:"page",name:"Page 1",childIndex:1,shapes:{},bindings:{}}},pageStates:{page:{id:"page",selectedIds:[],camera:{point:[0,0],zoom:1}}},assets:{}}),g(To,"defaultState",{settings:{isCadSelectMode:!1,isPenMode:!1,isDarkMode:!1,isZoomSnap:!1,isFocusMode:!1,isSnapping:!1,isDebugMode:!1,isReadonlyMode:!1,keepStyleMenuOpen:!1,nudgeDistanceLarge:16,nudgeDistanceSmall:1,showRotateHandles:!0,showBindingHandles:!0,showCloneHandles:!1,showGrid:!1,language:"en",dockPosition:"bottom",exportBackground:"transparent"},appState:{status:"idle",activeTool:"select",hoveredId:void 0,currentPageId:"page",currentStyle:or,isToolLocked:!1,isMenuOpen:!1,isEmptyCanvas:!1,eraseLine:[],snapLines:[],isLoading:!1,disableAssets:!1},document:Ft.defaultDocument}),g(To,"assetSrc","tldraw-assets.json");var Wse={select:G2,erase:W2,text:Y2,draw:z2,ellipse:N2,rectangle:K2,triangle:q2,line:U2,arrow:Z2,sticky:X2},GQ=Xu.ErrorBoundary,XQ=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches:!1;function YQ({id:e,document:t,currentPageId:r,autofocus:o=!0,showMenu:n=!0,showMultiplayerMenu:i=!0,showPages:l=!0,showTools:u=!0,showZoom:s=!0,showStyles:c=!0,showUI:d=!0,readOnly:h=!1,disableAssets:C=!1,darkMode:E=XQ,components:v,onMount:_,onChange:y,onChangePresence:x,onNewProject:S,onSaveProject:D,onSaveProjectAs:F,onOpenProject:k,onOpenMedia:P,onUndo:A,onRedo:Z,onPersist:oe,onPatch:be,onCommand:ce,onChangePage:_e,onAssetCreate:ye,onAssetDelete:Ke,onAssetUpload:Ze,onSessionStart:ut,onSessionEnd:ie,onExport:Ve,hideCursors:ze}){let[Xe,Qt]=a.useState(e),[Qe,p1]=a.useState(()=>new To(e,{onMount:_,onChange:y,onChangePresence:x,onNewProject:S,onSaveProject:D,onSaveProjectAs:F,onOpenProject:k,onOpenMedia:P,onUndo:A,onRedo:Z,onPersist:oe,onPatch:be,onCommand:ce,onChangePage:_e,onAssetDelete:Ke,onAssetCreate:ye,onAssetUpload:Ze,onSessionStart:ut,onSessionEnd:ie})),[jt,Nt]=a.useState(null),[x1,_r]=a.useState(null),[co,I0]=a.useState(null),[ar,Oo]=a.useState(null),Fo=a.useCallback((jo,M0,ree,oee)=>{Oo(()=>jo),Nt(()=>oee),_r(()=>M0),I0(()=>ree)},[]);return a.useLayoutEffect(()=>{if(e===Xe)return;let jo=new To(e,{onMount:_,onChange:y,onChangePresence:x,onNewProject:S,onSaveProject:D,onSaveProjectAs:F,onOpenProject:k,onOpenMedia:P,onUndo:A,onRedo:Z,onPersist:oe,onPatch:be,onCommand:ce,onChangePage:_e,onAssetDelete:Ke,onAssetCreate:ye,onAssetUpload:Ze,onExport:Ve,onSessionStart:ut,onSessionEnd:ie});Qt(e),p1(jo)},[Xe,e]),a.useEffect(()=>{!t||(t.id===Qe.document.id?Qe.updateDocument(t):Qe.loadDocument(t))},[t,Qe]),a.useEffect(()=>{Qe.setDisableAssets(C)},[Qe,C]),a.useEffect(()=>{!r||Qe.changePage(r)},[r,Qe]),a.useEffect(()=>{Qe.readOnly=h,h||(Qe.selectNone(),Qe.cancelSession(),Qe.setEditingId())},[Qe,h]),a.useEffect(()=>{E!==Qe.settings.isDarkMode&&Qe.toggleDarkMode()},[Qe,E]),a.useEffect(()=>{Qe.callbacks={onMount:_,onChange:y,onChangePresence:x,onNewProject:S,onSaveProject:D,onSaveProjectAs:F,onOpenProject:k,onOpenMedia:P,onUndo:A,onRedo:Z,onPersist:oe,onPatch:be,onCommand:ce,onChangePage:_e,onAssetDelete:Ke,onAssetCreate:ye,onAssetUpload:Ze,onExport:Ve,onSessionStart:ut,onSessionEnd:ie}},[_,y,x,S,D,F,k,P,A,Z,oe,be,ce,_e,Ke,ye,Ze,Ve,ut,ie]),a.useLayoutEffect(()=>{var jo;if(typeof window>"u"||!((jo=window.document)!=null&&jo.fonts))return;function M0(){Qe.refreshBoundingBoxes()}return window.document.fonts.addEventListener("loadingdone",M0),()=>{window.document.fonts.removeEventListener("loadingdone",M0)}},[Qe]),a.createElement(Vs.Provider,{value:Qe},a.createElement(zs.Provider,{value:{onYes:x1,onCancel:jt,onNo:co,dialogState:ar,setDialogState:Oo,openDialog:Fo}},a.createElement(qQ,{key:Xe||"Tldraw",id:Xe,autofocus:o,showPages:l,showMenu:n,showMultiplayerMenu:i,showStyles:c,showZoom:s,showTools:u,showUI:d,readOnly:h,components:v,hideCursors:ze})))}var qQ=a.memo(function({id:e,autofocus:t,showPages:r,showMenu:o,showMultiplayerMenu:n,showZoom:i,showStyles:l,showTools:u,readOnly:s,showUI:c,components:d,hideCursors:h}){var C,E;let v=dt(),[_,y]=a.useState(null),x=a.useRef(null),S=v.useStore(),{document:D,settings:F,appState:k,room:P}=S,A=S.appState.activeTool==="select",Z=D.pages[k.currentPageId],oe=D.pageStates[Z.id],be=D.assets,{selectedIds:ce}=oe,_e=ce.length===1&&Z.shapes[ce[0]]&&W.getShapeUtil(Z.shapes[ce[0]].type).hideBounds,ye=ce.length===1&&Z.shapes[ce[0]]&&W.getShapeUtil(Z.shapes[ce[0]].type).hideResizeHandles,Ke=a.useMemo(()=>({isDarkMode:F.isDarkMode}),[F.isDarkMode]),Ze=F.isCadSelectMode?!k.selectByContain:k.selectByContain,ut=a.useMemo(()=>{let{selectByContain:p1}=k,{isDarkMode:jt,isCadSelectMode:Nt}=F;if(jt){let _r=Nt?p1?"69, 155, 255":"105, 209, 73":"180, 180, 180";return{brushFill:`rgba(${_r}, ${Nt?.08:.05})`,brushStroke:`rgba(${_r}, ${Nt?.5:.25})`,brushDashStroke:`rgba(${_r}, .6)`,selected:"rgba(38, 150, 255, 1.000)",selectFill:"rgba(38, 150, 255, 0.05)",background:"#212529",foreground:"#49555f"}}let x1=Nt?p1?"0, 89, 242":"51, 163, 23":"0,0,0";return{brushFill:`rgba(${x1}, ${Nt?.08:.05})`,brushStroke:`rgba(${x1}, ${Nt?.4:.25})`,brushDashStroke:`rgba(${x1}, .6)`}},[F.isDarkMode,F.isCadSelectMode,k.selectByContain]),ie=v.session!==void 0,Ve=ie&&((C=v.session)==null?void 0:C.constructor.name)!=="BrushSession"||!A||_e||!!oe.editingId,ze=ie||!A,Xe=ie&&S.appState.status!=="brushing"||!A,Qt=ie||!A||oe.camera.zoom<.2,Qe=qG(F.language);return a.useLayoutEffect(()=>{let p1=x.current;!p1||(F.isDarkMode?p1.classList.add($s):p1.classList.remove($s))},[F.isDarkMode]),aQ(x),a.createElement(Zs.Provider,{value:x},a.createElement(w4,{locale:Qe.locale,messages:Qe.messages},a.createElement(RX,{container:_}),a.createElement(QQ,{ref:x,tabIndex:-0},a.createElement(EX,null),a.createElement(JQ,{focusableRef:x,autofocus:t}),a.createElement(dX,null,a.createElement(GQ,{FallbackComponent:hX},a.createElement(Gu,{id:e,containerRef:x,shapeUtils:Ao,page:Z,pageState:oe,assets:be,snapLines:k.snapLines,eraseLine:k.eraseLine,grid:8,users:P?.users,userId:P?.userId,theme:ut,meta:Ke,components:d,hideCursors:h,hideBounds:Ve,hideHandles:ze,hideResizeHandles:ye,hideIndicators:Xe,hideBindingHandles:!F.showBindingHandles,hideCloneHandles:Qt,hideRotateHandles:!F.showRotateHandles,hideGrid:!F.showGrid,showDashedBrush:Ze,performanceMode:(E=v.session)==null?void 0:E.performanceMode,onPinchStart:v.onPinchStart,onPinchEnd:v.onPinchEnd,onPinch:v.onPinch,onPan:v.onPan,onZoom:v.onZoom,onPointerDown:v.onPointerDown,onPointerMove:v.onPointerMove,onPointerUp:v.onPointerUp,onPointCanvas:v.onPointCanvas,onDoubleClickCanvas:v.onDoubleClickCanvas,onRightPointCanvas:v.onRightPointCanvas,onDragCanvas:v.onDragCanvas,onReleaseCanvas:v.onReleaseCanvas,onPointShape:v.onPointShape,onDoubleClickShape:v.onDoubleClickShape,onRightPointShape:v.onRightPointShape,onDragShape:v.onDragShape,onHoverShape:v.onHoverShape,onUnhoverShape:v.onUnhoverShape,onReleaseShape:v.onReleaseShape,onPointBounds:v.onPointBounds,onDoubleClickBounds:v.onDoubleClickBounds,onRightPointBounds:v.onRightPointBounds,onDragBounds:v.onDragBounds,onHoverBounds:v.onHoverBounds,onUnhoverBounds:v.onUnhoverBounds,onReleaseBounds:v.onReleaseBounds,onPointBoundsHandle:v.onPointBoundsHandle,onDoubleClickBoundsHandle:v.onDoubleClickBoundsHandle,onRightPointBoundsHandle:v.onRightPointBoundsHandle,onDragBoundsHandle:v.onDragBoundsHandle,onHoverBoundsHandle:v.onHoverBoundsHandle,onUnhoverBoundsHandle:v.onUnhoverBoundsHandle,onReleaseBoundsHandle:v.onReleaseBoundsHandle,onPointHandle:v.onPointHandle,onDoubleClickHandle:v.onDoubleClickHandle,onRightPointHandle:v.onRightPointHandle,onDragHandle:v.onDragHandle,onHoverHandle:v.onHoverHandle,onUnhoverHandle:v.onUnhoverHandle,onReleaseHandle:v.onReleaseHandle,onError:v.onError,onRenderCountChange:v.onRenderCountChange,onShapeChange:v.onShapeChange,onShapeBlur:v.onShapeBlur,onShapeClone:v.onShapeClone,onBoundsChange:v.updateBounds,onKeyDown:v.onKeyDown,onKeyUp:v.onKeyUp,onDragOver:v.onDragOver,onDrop:v.onDrop}))),c&&a.createElement(eee,{ref:y},F.isFocusMode?a.createElement(mX,{onSelect:v.toggleFocusMode}):a.createElement(a.Fragment,null,a.createElement(iQ,{readOnly:s,showPages:r,showMenu:o,showMultiplayerMenu:n,showStyles:l,showZoom:i}),a.createElement(tee,null),u&&!s&&a.createElement(WY,null))))))}),JQ=a.memo(function({focusableRef:e,autofocus:t}){return Nc(e),Uc(),a.useEffect(()=>{var r;t&&((r=e.current)==null||r.focus())},[t]),null}),QQ=de("div",{position:"absolute",height:"100%",width:"100%",minHeight:0,minWidth:0,maxHeight:"100%",maxWidth:"100%",overflow:"hidden",boxSizing:"border-box",outline:"none","& .tl-container":{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:1},"& input, textarea, button, select, label, button":{webkitTouchCallout:"none",webkitUserSelect:"none","-webkit-tap-highlight-color":"transparent","tap-highlight-color":"transparent"}}),eee=de("div",{position:"absolute",top:0,left:0,height:"100%",width:"100%",padding:"8px 8px 0 8px",display:"flex",alignItems:"flex-start",justifyContent:"flex-start",pointerEvents:"none",zIndex:2,"& > *":{pointerEvents:"all"}}),tee=de("div",{flexGrow:2})}}]);

//# sourceMappingURL=997.5060aec5.js.map